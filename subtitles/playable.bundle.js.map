{"version":3,"file":"playable.bundle.js","sources":["../../node_modules/tslib/tslib.es6.js","../../src/core/dependency-container/constants/Lifetime.ts","../../src/core/dependency-container/errors/ExtendableError.ts","../../src/core/dependency-container/errors/NotAFunctionError.ts","../../src/core/dependency-container/registrations.ts","../../src/core/dependency-container/errors/ResolutionError.ts","../../src/core/dependency-container/utils/nameValueToObject.ts","../../src/core/dependency-container/createContainer.ts","../../src/core/dependency-container/index.ts","../../src/utils/device-detection.ts","../../src/core/config.ts","../../src/utils/player-api-decorator.ts","../../src/core/player-facade.ts","../../src/utils/interaction-type.ts","../../src/utils/focus-source.ts","../../src/utils/focus-within.ts","../../src/constants/media-stream.ts","../../src/constants/events/ui.ts","../../src/constants/events/video.ts","../../src/constants/errors.ts","../../src/constants/text-labels.ts","../../src/constants/engine-states.ts","../../src/constants/live-state.ts","../../src/default-modules/ui/core/htmlToElement.ts","../../node_modules/classnames/index.js","../../src/default-modules/ui/core/extendStyles.ts","../../src/default-modules/ui/core/stylable.ts","../../src/default-modules/ui/core/view.ts","../../node_modules/style-inject/dist/style-inject.es.js","../../src/default-modules/root-container/root-container.view.ts","../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../src/default-modules/ui/core/element-queries/utils.ts","../../src/default-modules/ui/core/isElementMatchesSelector.ts","../../src/default-modules/ui/core/element-queries/getQueriesForElement.ts","../../src/default-modules/ui/core/element-queries/element-queries.ts","../../src/default-modules/root-container/root-container.ts","../../node_modules/eventemitter3/index.js","../../src/default-modules/event-emitter/event-emitter.ts","../../src/default-modules/playback-engine/state-engine.ts","../../src/default-modules/playback-engine/native-events-broadcaster.ts","../../src/default-modules/playback-engine/playback-resolution.ts","../../src/default-modules/playback-engine/detect-stream-type.ts","../../src/default-modules/playback-engine/adapters-strategy.ts","../../src/default-modules/playback-engine/playback-engine.ts","../../src/default-modules/ui/core/theme/utils/hexToRgb.ts","../../src/default-modules/ui/core/theme/utils/transperentizeColor.ts","../../src/default-modules/ui/core/theme/utils/camelToKebab.ts","../../src/default-modules/ui/core/theme/utils/getUniqueId.ts","../../src/default-modules/ui/core/theme/utils/generateClassNames.ts","../../src/default-modules/ui/core/theme/style-sheet.ts","../../src/default-modules/ui/core/theme/theme-service.ts","../../src/default-modules/text-map/default-texts.ts","../../src/default-modules/text-map/text-map.ts","../../src/default-modules/full-screen-manager/desktop.ts","../../src/default-modules/full-screen-manager/ios.ts","../../src/default-modules/full-screen-manager/full-screen-manager.ts","../../src/default-modules/playback-engine/live-state-engine.ts","../../src/utils/keyboard-interceptor.ts","../../src/default-modules/keyboard-control/keyboard-control.ts","../../src/default-modules/mouse-interceptor/mouse-interceptor.ts","../../src/default-modules/ui/debug-panel/syntaxHighlight.ts","../../src/default-modules/ui/core/getElementByHook.ts","../../src/default-modules/ui/core/toggleNodeClass.ts","../../src/default-modules/ui/debug-panel/debug-panel.view.ts","../../src/default-modules/ui/debug-panel/debug-panel.ts","../../src/default-modules/ui/screen/screen.view.ts","../../src/default-modules/ui/screen/screen.ts","../../src/default-modules/ui/interaction-indicator/interaction-indicator.view.ts","../../src/default-modules/ui/interaction-indicator/interaction-indicator.ts","../../src/default-modules/ui/overlay/overlay.theme.ts","../../src/default-modules/ui/overlay/overlay.view.ts","../../src/default-modules/ui/overlay/overlay.ts","../../src/default-modules/ui/loader/loader.view.ts","../../src/default-modules/ui/loader/loader.ts","../../src/default-modules/ui/main-ui-block/main-ui-block.view.ts","../../src/default-modules/ui/main-ui-block/main-ui-block.ts","../../src/default-modules/ui/top-block/top-block.view.ts","../../src/default-modules/ui/top-block/top-block.ts","../../src/default-modules/ui/title/title.theme.ts","../../src/default-modules/ui/title/title.view.ts","../../src/default-modules/ui/title/title.ts","../../src/default-modules/ui/live-indicator/live-indicator.view.ts","../../src/default-modules/ui/live-indicator/live-indicator.ts","../../src/default-modules/ui/bottom-block/bottom-block.view.ts","../../src/default-modules/ui/bottom-block/bottom-block.ts","../../src/default-modules/ui/core/utils/formatTime.ts","../../src/default-modules/ui/core/tooltip/tooltip.ts","../../src/default-modules/ui/core/tooltip/types.ts","../../src/default-modules/ui/core/tooltip/utils/getTooltipPositionByReferenceNode.ts","../../src/default-modules/ui/core/tooltip/tooltip-reference.ts","../../src/default-modules/ui/core/tooltip/tooltip-container.ts","../../src/default-modules/ui/core/tooltip/tooltip-service.ts","../../src/default-modules/ui/controls/progress/utils/getProgressTimeTooltipPosition.ts","../../src/default-modules/ui/controls/progress/progress.theme.ts","../../src/default-modules/ui/controls/progress/progress.view.ts","../../src/utils/video-data.ts","../../src/default-modules/ui/controls/progress/progress.ts","../../src/default-modules/ui/controls/play/play.theme.ts","../../src/default-modules/ui/controls/play/play.view.ts","../../src/default-modules/ui/controls/play/play.ts","../../src/default-modules/ui/controls/time/time.theme.ts","../../src/default-modules/ui/controls/time/time.view.ts","../../src/default-modules/ui/controls/time/time.ts","../../src/default-modules/ui/controls/volume/volume.theme.ts","../../src/default-modules/ui/controls/volume/volume.view.ts","../../src/default-modules/ui/controls/volume/volume.ts","../../src/default-modules/ui/controls/full-screen/full-screen.theme.ts","../../src/default-modules/ui/controls/full-screen/full-screen.view.ts","../../src/default-modules/ui/controls/full-screen/full-screen.ts","../../src/default-modules/ui/controls/logo/logo.view.ts","../../src/default-modules/ui/controls/logo/logo.ts","../../src/default-modules/ui/subtitles/subtitles.view.ts","../../src/default-modules/ui/subtitles/subtitles.ts","../../src/default-modules/index.ts","../../src/utils/environment-detection.ts","../../src/default-modules/playback-engine/adapters/native.ts","../../src/default-modules/playback-engine/adapters/default-set.ts","../../src/core/player-factory.ts","../../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","const SINGLETON = 'SINGLETON';\nconst TRANSIENT = 'TRANSIENT';\nconst SCOPED = 'SCOPED';\n\nexport default {\n  SINGLETON,\n  TRANSIENT,\n  SCOPED,\n};\n","export default class ExtendableError extends Error {\n  constructor(message) {\n    super(message);\n\n    Object.defineProperty(this, 'message', {\n      enumerable: false,\n      value: message,\n    });\n\n    Object.defineProperty(this, 'name', {\n      enumerable: false,\n      value: this.constructor.name,\n    });\n\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n","import ExtendableError from './ExtendableError';\n\nexport default class NotAFunctionError extends ExtendableError {\n  constructor(functionName, expectedType, givenType) {\n    super(\n      `The function ${functionName} expected a ${expectedType}, ${givenType} given.`,\n    );\n  }\n}\n","import { __assign } from 'tslib';\n\nimport Lifetime from './constants/Lifetime';\nimport NotAFunctionError from './errors/NotAFunctionError';\n\nexport const PROPERTY_FOR_DEPENDENCIES = 'dependencies';\nconst makeOptions = (defaults, input) => __assign({}, defaults, input);\n\nexport const makeFluidInterface = obj => {\n  const setLifetime = value => {\n    obj.lifetime = value;\n    return obj;\n  };\n\n  return {\n    setLifetime,\n    transient: () => setLifetime(Lifetime.TRANSIENT),\n    scoped: () => setLifetime(Lifetime.SCOPED),\n    singleton: () => setLifetime(Lifetime.SINGLETON),\n  };\n};\n\nexport const asValue = value => {\n  const resolve = () => value;\n\n  return {\n    resolve,\n    lifetime: Lifetime.TRANSIENT,\n  };\n};\n\nexport const asFunction: any = (fn, opts?) => {\n  if (typeof fn !== 'function') {\n    throw new NotAFunctionError('asFunction', 'function', typeof fn);\n  }\n\n  const defaults = {\n    lifetime: Lifetime.TRANSIENT,\n  };\n\n  opts = makeOptions(defaults, opts);\n\n  const resolve = generateResolve(fn);\n  const result = {\n    resolve,\n    lifetime: opts.lifetime,\n  };\n  result.resolve = resolve.bind(result);\n  __assign(result, makeFluidInterface(result));\n  return result;\n};\n\nexport const asClass: any = (Type: FunctionConstructor, opts?) => {\n  if (typeof Type !== 'function') {\n    throw new NotAFunctionError('asClass', 'class', typeof Type);\n  }\n\n  const defaults = {\n    lifetime: Lifetime.TRANSIENT,\n  };\n\n  opts = makeOptions(defaults, opts);\n\n  // A function to handle object construction for us, as to make the generateResolve more reusable\n  const newClass = (...args) => new Type(...args);\n\n  const resolve = generateResolve(newClass, Type);\n  const result = {\n    resolve,\n    lifetime: opts.lifetime,\n  };\n  result.resolve = resolve.bind(result);\n  __assign(result, makeFluidInterface(result));\n\n  return result;\n};\n\nfunction generateResolve(fn, dependencyParseTarget?) {\n  // If the function used for dependency parsing is falsy, use the supplied function\n  if (!dependencyParseTarget) {\n    dependencyParseTarget = fn;\n  }\n  // Try to resolve the dependencies\n  const dependencies = dependencyParseTarget[PROPERTY_FOR_DEPENDENCIES] || [];\n\n  // Use a regular function instead of an arrow function to facilitate binding to the registration.\n  return function resolve(container) {\n    if (dependencies.length > 0) {\n      const wrapper = dependencies.reduce((wrapper, d) => {\n        wrapper[d] = container.resolve(d);\n        return wrapper;\n      }, {});\n\n      return fn(wrapper, container);\n    }\n    return fn(container);\n  };\n}\n\nexport default {\n  asValue,\n  asFunction,\n  asClass,\n};\n","import ExtendableError from './ExtendableError';\n\nconst createErrorMessage = (name, resolutionStack, message?) => {\n  resolutionStack = resolutionStack.slice();\n  resolutionStack.push(name);\n  const resolutionPathString = resolutionStack.join(' -> ');\n  let msg = `Could not resolve '${name}'.`;\n  if (message) {\n    msg += ` ${message} \\n\\n Resolution path: ${resolutionPathString}`;\n  }\n\n  return msg;\n};\n\nexport default class ResolutionError extends ExtendableError {\n  constructor(name, resolutionStack, message?) {\n    super(createErrorMessage(name, resolutionStack, message));\n  }\n}\n","import { __assign } from 'tslib';\n\nexport default function(name, value) {\n  let obj = name;\n  if (typeof obj !== 'object') {\n    obj = __assign({ [name]: value });\n  }\n\n  return obj;\n}\n","import { __assign } from 'tslib';\n\nimport { asClass, asFunction, asValue } from './registrations';\nimport ResolutionError from './errors/ResolutionError';\nimport nameValueToObject from './utils/nameValueToObject';\nimport Lifetime from './constants/Lifetime';\n\nconst FAMILY_TREE = '__familyTree__';\n\nexport default function createContainer(options?, __parentContainer?) {\n  options = __assign({}, options);\n\n  // The resolution stack is used to keep track\n  // of what modules are being resolved, so when\n  // an error occurs, we have something to present\n  // to the poor developer who fucked up.\n  let resolutionStack = [];\n\n  // Internal registration store.\n  const registrations = {};\n\n  // The container being exposed.\n  const container: any = {\n    options,\n    get registrations() {\n      return __assign(\n        {},\n        __parentContainer && __parentContainer.registrations,\n        registrations,\n      );\n    },\n  };\n\n  // Track the family tree.\n  const familyTree = __parentContainer\n    ? [container].concat(__parentContainer[FAMILY_TREE])\n    : [container];\n\n  container[FAMILY_TREE] = familyTree;\n  container.cache = {};\n  container.createScope = () => createContainer(options, container);\n  container.register = (name, registration) => {\n    const obj = nameValueToObject(name, registration);\n    Object.keys(obj).forEach(key => {\n      registrations[key] = obj[key];\n    });\n\n    return container;\n  };\n\n  const makeRegister = (fn, verbatimValue?) =>\n    function(name, value, opts) {\n      // This ensures that we can support name+value style and object style.\n      const obj = nameValueToObject(name, value);\n\n      Object.keys(obj).forEach(key => {\n        let valueToRegister = obj[key];\n\n        // If we have options, copy them over.\n        opts = __assign({}, opts);\n\n        /* ignore coverage */\n        if (!verbatimValue && Array.isArray(valueToRegister)) {\n          // The ('name', [value, opts]) style\n          opts = __assign({}, opts, valueToRegister[1]);\n          valueToRegister = valueToRegister[0];\n        }\n\n        container.register(key, fn(valueToRegister, opts));\n      });\n\n      // Chaining\n      return container;\n    };\n\n  container.registerFunction = makeRegister(asFunction);\n  container.registerClass = makeRegister(asClass);\n  container.registerValue = makeRegister(asValue, /* verbatimValue: */ true);\n  container.resolve = name => {\n    // We need a reference to the root container,\n    // so we can retrieve and store singletons.\n    const root = familyTree[familyTree.length - 1];\n\n    try {\n      // Grab the registration by name.\n      const registration = container.registrations[name];\n\n      if (resolutionStack.indexOf(name) > -1) {\n        throw new ResolutionError(\n          name,\n          resolutionStack,\n          'Cyclic dependencies detected.',\n        );\n      }\n\n      if (!registration) {\n        throw new ResolutionError(name, resolutionStack);\n      }\n\n      // Pushes the currently-resolving module name onto the stack\n      resolutionStack.push(name);\n\n      // Do the thing\n      let cached;\n      let resolved;\n\n      switch (registration.lifetime) {\n        case Lifetime.TRANSIENT:\n          // Transient lifetime means resolve every time.\n          resolved = registration.resolve(container);\n          break;\n        case Lifetime.SINGLETON:\n          // Singleton lifetime means cache at all times, regardless of scope.\n          cached = root.cache[name];\n          if (cached === undefined) {\n            resolved = registration.resolve(container);\n            root.cache[name] = resolved;\n          } else {\n            resolved = cached;\n          }\n          break;\n        case Lifetime.SCOPED:\n          // Scoped lifetime means that the container\n          // that resolves the registration also caches it.\n          // When a registration is not found, we travel up\n          // the family tree until we find one that is cached.\n\n          // Note: The first element in the family tree is this container.\n          for (const c of familyTree) {\n            cached = c.cache[name];\n            if (cached !== undefined) {\n              // We found one!\n              resolved = cached;\n              break;\n            }\n          }\n\n          // If we still have not found one, we need to resolve and cache it.\n          if (cached === undefined) {\n            resolved = registration.resolve(container);\n            container.cache[name] = resolved;\n          }\n          break;\n        default:\n          throw new ResolutionError(\n            name,\n            resolutionStack,\n            `Unknown lifetime \"${registration.lifetime}\"`,\n          );\n      }\n      // Pop it from the stack again, ready for the next resolution\n      resolutionStack.pop();\n      return resolved;\n    } catch (err) {\n      // When we get an error we need to reset the stack.\n      resolutionStack = [];\n      throw err;\n    }\n  };\n\n  // Finally return the container\n  return container;\n}\n","import createContainer from './createContainer';\nimport Lifetime from './constants/Lifetime';\nimport registrations from './registrations';\n\nexport default {\n  createContainer,\n  Lifetime,\n  ...registrations,\n};\n","declare const window: {\n  navigator: any;\n  MSStream: any;\n};\n\nconst IPHONE_PATTERN = /iPhone/;\nconst IPOD_PATTERN = /iPod/;\nconst IPAD_PATTERN = /iPad/;\nconst DESKTOP_SAFARI_PATTERN = /^((?!chrome|android|iphone|ipod|ipad).)*safari/i;\n\n// There is some iPhone/iPad/iPod in Windows Phone...\n// https://msdn.microsoft.com/en-us/library/hh869301(v=vs.85).aspx\nconst isIE = () => !!window.MSStream;\n\nconst getUserAgent = () => window.navigator && window.navigator.userAgent;\n\nconst isIPhone = () => !isIE() && IPHONE_PATTERN.test(getUserAgent());\n\nconst isIPod = () => !isIE() && IPOD_PATTERN.test(getUserAgent());\n\nconst isIPad = () => !isIE() && IPAD_PATTERN.test(getUserAgent());\n\nconst isIOS = () => isIPhone() || isIPod() || isIPad();\n\nconst isAndroid = () => /(android)/i.test(getUserAgent());\n\nconst isDesktopSafari = () => DESKTOP_SAFARI_PATTERN.test(getUserAgent());\n\nexport { isIPhone, isIPod, isIPad, isIOS, isAndroid, isDesktopSafari };\n","import { isIOS, isAndroid } from '../utils/device-detection';\n\nimport { ITitleConfig } from '../default-modules/ui/title/title';\nimport { IFullScreenConfig } from '../default-modules/full-screen-manager/full-screen-manager';\nimport { ILogoConfig } from '../default-modules/ui/controls/logo/logo';\nimport { IOverlayConfig } from '../default-modules/ui/overlay/overlay';\nimport { ITextMapConfig } from '../default-modules/text-map/text-map';\nimport { IScreenConfig } from '../default-modules/ui/screen/screen';\nimport { IControlsConfig } from '../default-modules/ui/main-ui-block/main-ui-block';\nimport {\n  PreloadTypes,\n  MediaSource,\n} from '../default-modules/playback-engine/playback-engine';\nimport { IPlayerSize } from '../default-modules/root-container/root-container';\n\nexport interface IPlayerConfig {\n  src?: MediaSource;\n\n  size?: IPlayerSize;\n\n  videoElement?: HTMLVideoElement;\n\n  preload?: PreloadTypes;\n  autoPlay?: boolean;\n  loop?: boolean;\n  muted?: boolean;\n  volume?: number;\n  playInline?: boolean;\n\n  title?: boolean | ITitleConfig;\n  loader?: boolean;\n  screen?: IScreenConfig;\n  controls?: boolean | IControlsConfig;\n  overlay?: boolean | IOverlayConfig;\n  fullScreen?: boolean | IFullScreenConfig;\n  logo?: boolean | ILogoConfig;\n\n  texts?: ITextMapConfig;\n\n  showInteractionIndicator?: boolean;\n  fillAllSpace?: boolean;\n  disableControlWithKeyboard?: boolean;\n}\n\nconst convertUIConfigForIOS = params => ({\n  ...params,\n  showInteractionIndicator: false,\n  screen: {\n    ...params.screen,\n    disableClickProcessing: true,\n    nativeControls: true,\n  },\n  title: false,\n  loader: false,\n  controls: false,\n});\n\nconst convertUIConfigForAndroid = params => ({\n  ...params,\n  screen: {\n    ...params.screen,\n    disableClickProcessing: true,\n  },\n});\n\nconst convertToDeviceRelatedConfig = params => {\n  if (isIOS()) {\n    return convertUIConfigForIOS(params);\n  }\n\n  if (isAndroid()) {\n    return convertUIConfigForAndroid(params);\n  }\n\n  return params;\n};\n\nexport default convertToDeviceRelatedConfig;\n","export const PLAYER_API_PROPERTY = '___playerAPI';\n\nconst checkDescriptorsOnEquality = (desc1, desc2) =>\n  desc1.value === desc2.value &&\n  desc1.get === desc2.get &&\n  desc1.set === desc2.set;\n\n// tslint:disable-next-line\nconst playerAPI = (name?) => (target, property, descriptor) => {\n  const methodName = name || property;\n\n  if (!target[PLAYER_API_PROPERTY]) {\n    target[PLAYER_API_PROPERTY] = {};\n  }\n\n  if (target[PLAYER_API_PROPERTY][methodName]) {\n    if (\n      !checkDescriptorsOnEquality(\n        target[PLAYER_API_PROPERTY][methodName],\n        descriptor,\n      )\n    ) {\n      throw new Error(\n        `Method \"${methodName}\" for public API in ${\n          target.constructor.name\n        } is already defined`,\n      );\n    }\n  }\n\n  target[PLAYER_API_PROPERTY][methodName] = descriptor;\n};\n\nexport default playerAPI;\n","import convertToDeviceRelatedConfig, { IPlayerConfig } from './config';\nimport { PLAYER_API_PROPERTY } from '../utils/player-api-decorator';\nimport { IThemeConfig } from '../default-modules/ui/core/theme';\n\nexport default class Player {\n  private _config;\n  private _defaultModules;\n  private _additionalModules;\n  private _destroyed: boolean;\n\n  constructor(\n    params: IPlayerConfig,\n    scope,\n    defaultModules,\n    additionalModules = {},\n    themeConfig?: IThemeConfig,\n  ) {\n    scope.registerValue({\n      config: convertToDeviceRelatedConfig(params),\n    });\n\n    scope.registerValue({\n      themeConfig,\n    });\n\n    this._config = scope.resolve('config');\n\n    this._resolveDefaultModules(scope, defaultModules);\n    this._resolveAdditionalModules(scope, additionalModules);\n  }\n\n  /*\n    Separation for default and additional modules is needed\n    for future implementation of public methods of resolved modules and\n    could be abolished in future\n  */\n\n  _resolveDefaultModules(scope, modules) {\n    this._defaultModules = Object.keys(modules).reduce(\n      (modules, moduleName) => {\n        const resolvedModule = scope.resolve(moduleName);\n\n        this._addPlayerAPIFromModule(resolvedModule, moduleName);\n\n        modules[moduleName] = resolvedModule;\n        return modules;\n      },\n      {},\n    );\n  }\n\n  _resolveAdditionalModules(scope, modules) {\n    this._additionalModules = Object.keys(modules).reduce(\n      (modules, moduleName) => {\n        const resolvedModule = scope.resolve(moduleName);\n\n        this._addPlayerAPIFromModule(resolvedModule, moduleName);\n\n        modules[moduleName] = resolvedModule;\n        return modules;\n      },\n      {},\n    );\n  }\n\n  _getWrappedCallToModuleFunction(module, _moduleName, fn) {\n    // TODO: do we need `_moduleName` as second parameter?\n    return (...args) => {\n      if (this._destroyed) {\n        throw new Error('Player instance is destroyed');\n      }\n\n      return fn.apply(module, args);\n    };\n  }\n\n  _getPlayerAPIMethodDescriptor(module, moduleName, descriptor) {\n    const playerMethodDescriptor: any = {\n      enumerable: true,\n      configurable: true,\n    };\n\n    const { get, set, value } = descriptor;\n\n    if (get) {\n      playerMethodDescriptor.get = this._getWrappedCallToModuleFunction(\n        module,\n        moduleName,\n        get,\n      );\n    }\n\n    if (set) {\n      playerMethodDescriptor.set = this._getWrappedCallToModuleFunction(\n        module,\n        moduleName,\n        set,\n      );\n    }\n\n    if (value) {\n      playerMethodDescriptor.value = this._getWrappedCallToModuleFunction(\n        module,\n        moduleName,\n        value,\n      );\n    }\n\n    return playerMethodDescriptor;\n  }\n\n  _addPlayerAPIFromModule(module, moduleName) {\n    if (module[PLAYER_API_PROPERTY]) {\n      Object.keys(module[PLAYER_API_PROPERTY]).forEach(apiKey => {\n        if (this[apiKey]) {\n          throw new Error(\n            `API method ${apiKey} is already defined in Player facade`,\n          );\n        }\n\n        Object.defineProperty(\n          this,\n          apiKey,\n          this._getPlayerAPIMethodDescriptor(\n            module,\n            moduleName,\n            module[PLAYER_API_PROPERTY][apiKey],\n          ),\n        );\n      });\n    }\n  }\n\n  _clearPlayerAPIForModule(module) {\n    if (module[PLAYER_API_PROPERTY]) {\n      Object.keys(module[PLAYER_API_PROPERTY]).forEach(apiKey => {\n        delete this[apiKey];\n      });\n    }\n  }\n\n  destroy() {\n    Object.keys(this._defaultModules).forEach(moduleName => {\n      const module = this._defaultModules[moduleName];\n      this._clearPlayerAPIForModule(module);\n      module.destroy();\n    });\n\n    Object.keys(this._additionalModules).forEach(moduleName => {\n      const module = this._additionalModules[moduleName];\n      this._clearPlayerAPIForModule(module);\n      if (module.destroy) {\n        module.destroy();\n      }\n    });\n\n    delete this._defaultModules;\n    delete this._additionalModules;\n    delete this._config;\n\n    this._destroyed = true;\n  }\n}\n","// Code from ally.js\n\n/*\n  Observe keyboard-, pointer-, mouse- and touch-events so that a query for\n  the current interaction type can be made at any time. For pointer interaction\n  this observer is limited to pointer button down/up - move is not observed!\n\n  USAGE:\n    var listener = engage();\n    listener.get() === {pointer: Boolean, key: Boolean}\n*/\n\n// counters to track primary input\nlet _activePointers = 0;\nlet _activeKeys = 0;\n\nconst pointerStartEvents = [\n  'touchstart',\n  'pointerdown',\n  'MSPointerDown',\n  'mousedown',\n];\nconst pointerEndEvents = [\n  'touchend',\n  'touchcancel',\n  'pointerup',\n  'MSPointerUp',\n  'pointercancel',\n  'MSPointerCancel',\n  'mouseup',\n];\n\nfunction handleWindowBlurEvent() {\n  // reset internal counters when window loses focus\n  _activePointers = 0;\n  _activeKeys = 0;\n}\n\nfunction handlePointerStartEvent(event) {\n  if (event.isPrimary === false) {\n    // ignore non-primary pointer events\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\n    return;\n  }\n\n  // mousedown without following mouseup\n  // (likely not possible in Chrome)\n  _activePointers += 1;\n}\n\nfunction handlePointerEndEvent(event) {\n  if (event.isPrimary === false) {\n    // ignore non-primary pointer events\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\n    return;\n  } else if (event.touches) {\n    _activePointers = event.touches.length;\n    return;\n  }\n\n  // delay reset to when the current handlers are executed\n  (window.setImmediate || window.setTimeout)(() => {\n    // mouseup without prior mousedown\n    // (drag something out of the window)\n    _activePointers = Math.max(_activePointers - 1, 0);\n  });\n}\n\nfunction handleKeyStartEvent(event) {\n  // ignore modifier keys\n  switch (event.keyCode || event.which) {\n    case 16: // space\n    case 17: // control\n    case 18: // alt\n    case 91: // command left\n    case 93: // command right\n      return;\n    default:\n      break;\n  }\n\n  // keydown without a following keyup\n  // (may happen on CMD+TAB)\n  _activeKeys += 1;\n}\n\nfunction handleKeyEndEvent(event) {\n  // ignore modifier keys\n  switch (event.keyCode || event.which) {\n    case 16: // space\n    case 17: // control\n    case 18: // alt\n    case 91: // command left\n    case 93: // command right\n      return;\n    default:\n      break;\n  }\n\n  // delay reset to when the current handlers are executed\n  (window.setImmediate || window.setTimeout)(() => {\n    // keyup without prior keydown\n    // (may happen on CMD+R)\n    _activeKeys = Math.max(_activeKeys - 1, 0);\n  });\n}\n\nfunction getInteractionType() {\n  return {\n    pointer: Boolean(_activePointers),\n    key: Boolean(_activeKeys),\n  };\n}\n\nfunction disengage() {\n  _activePointers = _activeKeys = 0;\n  window.removeEventListener('blur', handleWindowBlurEvent, false);\n  document.documentElement.removeEventListener(\n    'keydown',\n    handleKeyStartEvent,\n    true,\n  );\n  document.documentElement.removeEventListener(\n    'keyup',\n    handleKeyEndEvent,\n    true,\n  );\n  pointerStartEvents.forEach(event => {\n    document.documentElement.removeEventListener(\n      event,\n      handlePointerStartEvent,\n      true,\n    );\n  });\n  pointerEndEvents.forEach(event => {\n    document.documentElement.removeEventListener(\n      event,\n      handlePointerEndEvent,\n      true,\n    );\n  });\n}\n\nfunction engage() {\n  // window blur must be in bubble phase so it won't capture regular blurs\n  window.addEventListener('blur', handleWindowBlurEvent, false);\n  // handlers to identify the method of focus change\n  document.documentElement.addEventListener(\n    'keydown',\n    handleKeyStartEvent,\n    true,\n  );\n  document.documentElement.addEventListener('keyup', handleKeyEndEvent, true);\n  pointerStartEvents.forEach(event => {\n    document.documentElement.addEventListener(\n      event,\n      handlePointerStartEvent,\n      true,\n    );\n  });\n  pointerEndEvents.forEach(event => {\n    document.documentElement.addEventListener(\n      event,\n      handlePointerEndEvent,\n      true,\n    );\n  });\n\n  return {\n    get: getInteractionType,\n  };\n}\n\nexport default { engage, disengage };\n","// Code from ally.js\n/*\n  add data-focus-source attribute to html element containing \"key\", \"pointer\" or \"script\"\n  depending on the input method used to change focus.\n\n  USAGE:\n    style/focus-source()\n\n    body :focus {\n      outline: 1px solid grey;\n    }\n\n    html[data-focus-source=\"key\"] body :focus {\n      outline: 5px solid red;\n    }\n\n    html[data-focus-source=\"key\"] body :focus {\n      outline: 1px solid blue;\n    }\n\n  NOTE: I don't have a GamePad to test, if you do and you want to\n  implement an observer for https://w3c.github.io/gamepad/ - send a PR!\n\n  Alternate implementation: https://github.com/alice/modality\n*/\n\nimport engageInteractionTypeObserver from './interaction-type';\n\n// preferring focusin/out because they are synchronous in IE10+11\nconst supportsFocusIn =\n  typeof document !== 'undefined' && 'onfocusin' in document;\nconst focusEventName = supportsFocusIn ? 'focusin' : 'focus';\nconst blurEventName = supportsFocusIn ? 'focusout' : 'blur';\n\n// interface to read interaction-type-listener state\nlet interactionTypeHandler;\n// keep track of last focus source\nlet current = null;\n// overwrite focus source for use with the every upcoming focus event\nlet lock = null;\n// keep track of ever having used a particular input method to change focus\nconst used = {\n  pointer: false,\n  key: false,\n  script: false,\n  initial: false,\n};\n\nfunction handleFocusEvent(event) {\n  let source = '';\n  if (event.type === focusEventName) {\n    const interactionType = interactionTypeHandler.get();\n    source =\n      lock ||\n      (interactionType.pointer && 'pointer') ||\n      (interactionType.key && 'key') ||\n      'script';\n  } else if (event.type === 'initial') {\n    source = 'initial';\n  }\n\n  document.documentElement.setAttribute('data-focus-source', source);\n\n  if (event.type !== blurEventName) {\n    used[source] = true;\n    current = source;\n  }\n}\n\nfunction getCurrentFocusSource() {\n  return current;\n}\n\nfunction getUsedFocusSource(source) {\n  return used[source];\n}\n\nfunction lockFocusSource(source) {\n  lock = source;\n}\n\nfunction unlockFocusSource() {\n  lock = false;\n}\n\nfunction disengage() {\n  // clear dom state\n  handleFocusEvent({ type: blurEventName });\n  current = lock = null;\n  Object.keys(used).forEach(function(key) {\n    used[key] = false;\n  });\n  // kill interaction type identification listener\n  engageInteractionTypeObserver.disengage();\n  document.documentElement.removeEventListener(\n    focusEventName,\n    handleFocusEvent,\n    true,\n  );\n  document.documentElement.removeEventListener(\n    blurEventName,\n    handleFocusEvent,\n    true,\n  );\n  document.documentElement.removeAttribute('data-focus-source');\n}\n\nfunction engage() {\n  document.documentElement.addEventListener(\n    focusEventName,\n    handleFocusEvent,\n    true,\n  );\n  document.documentElement.addEventListener(\n    blurEventName,\n    handleFocusEvent,\n    true,\n  );\n  // enable the interaction type identification observer\n  interactionTypeHandler = engageInteractionTypeObserver.engage();\n  // set up initial dom state\n  handleFocusEvent({ type: 'initial' });\n\n  return {\n    used: getUsedFocusSource,\n    current: getCurrentFocusSource,\n    lock: lockFocusSource,\n    unlock: unlockFocusSource,\n  };\n}\n\nexport default { engage, disengage };\n","// inspired by https://gist.github.com/aFarkas/a7e0d85450f323d5e164\nconst focusWithin = () => {\n  const slice = [].slice;\n  const removeClass = elem => {\n    elem.classList.remove('focus-within');\n  };\n  const update = (() => {\n    let running;\n    let last;\n    const action = () => {\n      let element: any = document.activeElement;\n\n      running = false;\n      if (last !== element) {\n        last = element;\n        slice\n          .call(document.getElementsByClassName('focus-within'))\n          .forEach(removeClass);\n        while (element && element.classList) {\n          element.classList.add('focus-within');\n          element = element.parentNode;\n        }\n      }\n    };\n\n    return () => {\n      if (!running) {\n        requestAnimationFrame(action);\n        running = true;\n      }\n    };\n  })();\n\n  document.addEventListener('focus', update, true);\n  document.addEventListener('blur', update, true);\n  update();\n\n  return () => {\n    document.removeEventListener('focus', update, true);\n    document.removeEventListener('blur', update, true);\n  };\n};\n\nexport default focusWithin;\n","enum MediaStreamTypes {\n  MP4 = 'MP4',\n  WEBM = 'WEBM',\n  HLS = 'HLS',\n  DASH = 'DASH',\n  OGG = 'OGG',\n}\n\nenum MediaStreamDeliveryPriority {\n  NATIVE_PROGRESSIVE,\n  ADAPTIVE_VIA_MSE,\n  NATIVE_ADAPTIVE,\n  FORCED,\n}\n\nexport { MediaStreamTypes, MediaStreamDeliveryPriority };\n","const UI_EVENTS = {\n  PLAY_TRIGGERED: 'ui-play-triggered',\n  PLAY_OVERLAY_TRIGGERED: 'ui-play-overlay-triggered',\n  PAUSE_TRIGGERED: 'ui-pause-triggered',\n  PROGRESS_CHANGE_TRIGGERED: 'ui-progress-change-triggered',\n  VOLUME_CHANGE_TRIGGERED: 'ui-volume-change-triggered',\n  MUTE_STATUS_TRIGGERED: 'ui-mute-status-triggered',\n  FULLSCREEN_STATUS_CHANGED: 'ui-fullscreen-status-changed',\n  MOUSE_ENTER_ON_PLAYER_TRIGGERED: 'ui-mouse-enter-on-player-triggered',\n  MOUSE_MOVE_ON_PLAYER_TRIGGERED: 'ui-mouse-move-on-player-triggered',\n  MOUSE_LEAVE_ON_PLAYER_TRIGGERED: 'ui-mouse-leave-on-player-triggered',\n  CONTROL_BLOCK_HIDE_TRIGGERED: 'ui-control-block-hide-triggered',\n  CONTROL_BLOCK_SHOW_TRIGGERED: 'ui-control-block-show-triggered',\n  PROGRESS_MANIPULATION_STARTED: 'ui-progress-manipulation-started',\n  PROGRESS_MANIPULATION_ENDED: 'ui-progress-manipulation-ended',\n  KEYBOARD_KEYDOWN_INTERCEPTED: 'ui-keyboard-keydown-intercepted',\n  LOADER_SHOW_TRIGGERED: 'ui-loader-show-triggered',\n  LOADER_HIDE_TRIGGERED: 'ui-loader-hide-triggered',\n  LOADING_COVER_SHOW_TRIGGERED: 'ui-loading-cover-show-triggered',\n  LOADING_COVER_HIDE_TRIGGERED: 'ui-loading-cover-hide-triggered',\n  TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED:\n    'ui-toggle-playback-with-keyboard-triggered',\n  GO_BACKWARD_WITH_KEYBOARD_TRIGGERED: 'ui-go-backward-with-keyboard-triggered',\n  GO_FORWARD_WITH_KEYBOARD_TRIGGERED: 'ui-go-forward-with-keyboard-triggered',\n  INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED:\n    'ui-increase-volume-with-keyboard-triggered',\n  DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED:\n    'ui-decrease-volume-with-keyboard-triggered',\n  MUTE_SOUND_WITH_KEYBOARD_TRIGGERED: 'ui-mute-sound-with-keyboard-triggered',\n  UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED:\n    'ui-unmute-sound-with-keyboard-triggered',\n  HIDE_INTERACTION_INDICATOR_TRIGGERED:\n    'ui-hide-interaction-indicator-triggered',\n  PLAYER_WIDTH_CHANGE_TRIGGERED: 'ui-player-width-change-triggered',\n  PLAYER_HEIGHT_CHANGE_TRIGGERED: 'ui-player-height-change-triggered',\n  PLAY_WITH_SCREEN_CLICK_TRIGGERED: 'ui-play-with-screen-click-triggered',\n  PAUSE_WITH_SCREEN_CLICK_TRIGGERED: 'ui-pause-with-screen-click-triggered',\n  CONTROL_DRAG_START: 'ui-control-drag-start',\n  CONTROL_DRAG_END: 'ui-control-drag-end',\n  MAIN_BLOCK_HIDE_TRIGGERED: 'ui-main-block-hide-triggered',\n  MAIN_BLOCK_SHOW_TRIGGERED: 'ui-main-block-show-triggered',\n};\n\nexport default UI_EVENTS;\n","const VIDEO_EVENTS = {\n  ERROR: 'error',\n  STATE_CHANGED: 'state-changed',\n  LIVE_STATE_CHANGED: 'live-state-changed',\n  DYNAMIC_CONTENT_ENDED: 'dynamic-content-ended',\n  CHUNK_LOADED: 'chunk-loaded',\n  CURRENT_TIME_UPDATED: 'current-time-updated',\n  DURATION_UPDATED: 'duration-updated',\n  VOLUME_STATUS_CHANGED: 'volume-status-changed',\n  VOLUME_CHANGED: 'volume-changed',\n  MUTE_CHANGED: 'mute-changed',\n  SEEK_IN_PROGRESS: 'seek-in-progress',\n  UPLOAD_STALLED: 'upload-stalled',\n  UPLOAD_SUSPEND: 'upload-suspend',\n  PLAY_REQUEST_TRIGGERED: 'play-request-triggered',\n  PLAY_ABORTED: 'play-aborted',\n  UNKNOWN: 'unknown',\n};\n\nexport default VIDEO_EVENTS;\n","const Errors = {\n  SRC_PARSE: 'error-src-parse',\n  MANIFEST_LOAD: 'error-manifest-load',\n  MANIFEST_PARSE: 'error-manifest-parse',\n  MANIFEST_INCOMPATIBLE: 'error-manifest-incompatible',\n  LEVEL_LOAD: 'error-level-load',\n  CONTENT_LOAD: 'error-content-load',\n  CONTENT_PARSE: 'error-content-parse',\n  MEDIA: 'error-media',\n  UNKNOWN: 'error-unknown',\n};\n\nexport default Errors;\n","export default {\n  LOGO_LABEL: 'logo-label',\n  LOGO_TOOLTIP: 'logo-tooltip',\n  LIVE_INDICATOR_TEXT: 'live-indicator-text',\n  LIVE_SYNC_LABEL: 'live-sync-button-label',\n  LIVE_SYNC_TOOLTIP: 'live-sync-button-tooltip',\n  ENTER_FULL_SCREEN_LABEL: 'enter-full-screen-label',\n  ENTER_FULL_SCREEN_TOOLTIP: 'enter-full-screen-tooltip',\n  EXIT_FULL_SCREEN_LABEL: 'exit-full-screen-label',\n  EXIT_FULL_SCREEN_TOOLTIP: 'exit-full-screen-tooltip',\n  PLAY_CONTROL_LABEL: 'play-control-label',\n  PAUSE_CONTROL_LABEL: 'pause-control-label',\n  PROGRESS_CONTROL_LABEL: 'progress-control-label',\n  PROGRESS_CONTROL_VALUE: 'progress-control-value',\n  UNMUTE_CONTROL_LABEL: 'unmute-control-label',\n  UNMUTE_CONTROL_TOOLTIP: 'unmute-control-label',\n  MUTE_CONTROL_LABEL: 'mute-control-label',\n  MUTE_CONTROL_TOOLTIP: 'mute-control-tooltip',\n  VOLUME_CONTROL_LABEL: 'volume-control-label',\n  VOLUME_CONTROL_VALUE: 'volume-control-value',\n};\n","const STATES = {\n  SRC_SET: 'src-set',\n  LOAD_STARTED: 'load-started',\n  METADATA_LOADED: 'metadata-loaded',\n  READY_TO_PLAY: 'ready-to-play',\n  SEEK_IN_PROGRESS: 'seek-in-progress',\n  PLAY_REQUESTED: 'play-requested',\n  WAITING: 'waiting',\n  PLAYING: 'playing',\n  PAUSED: 'paused',\n  ENDED: 'ended',\n};\n\nexport default STATES;\n","enum LiveState {\n  NONE = 'none',\n  INITIAL = 'initial',\n  NOT_SYNC = 'not-sync',\n  SYNC = 'sync',\n  ENDED = 'ended',\n}\n\nexport default LiveState;\n","function htmlToElement(html) {\n  const div: HTMLDivElement = document.createElement('div');\n  div.innerHTML = html.trim();\n  return div.firstChild as HTMLElement;\n}\n\nexport default htmlToElement;\n","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import classnames from 'classnames';\nimport { IStyles } from './types';\n\nfunction extendStyles(sourceStyles: IStyles, partialStyles: IStyles) {\n  const styles = {\n    ...sourceStyles,\n  };\n\n  Object.keys(partialStyles).forEach(styleName => {\n    styles[styleName] = styles[styleName]\n      ? classnames(styles[styleName], partialStyles[styleName])\n      : partialStyles[styleName];\n  });\n\n  return styles;\n}\n\nexport default extendStyles;\n","import extendStyles from './extendStyles';\nimport { IThemeService, ICSSRules } from './theme';\nimport { IStyles, IStylable } from './types';\n\nclass Stylable<TStyles = IStyles> implements IStylable<TStyles> {\n  private static _moduleTheme: ICSSRules;\n  private static _styles: IStyles = {};\n\n  private _themeStyles: IStyles = {};\n\n  constructor(theme?: IThemeService) {\n    const moduleTheme = (<typeof Stylable>this.constructor)._moduleTheme;\n    if (theme && moduleTheme) {\n      theme.registerModuleTheme(this, moduleTheme);\n      this._themeStyles = theme.get(this);\n    }\n  }\n\n  static setTheme(theme: ICSSRules) {\n    this._moduleTheme = theme;\n  }\n\n  static extendStyleNames(styles: IStyles) {\n    this._styles = extendStyles(this._styles, styles);\n  }\n\n  static resetStyles() {\n    this._styles = {};\n  }\n\n  get themeStyles(): IStyles {\n    return this._themeStyles;\n  }\n\n  get styleNames(): TStyles {\n    // NOTE: TS does not work with instance static fields + generic type\n    return (this.constructor as any)._styles || {};\n  }\n}\n\nexport default Stylable;\n","import Stylable from './stylable';\nimport { IView, IStyles } from './types';\n\nclass View<TStyles = IStyles> extends Stylable<TStyles>\n  implements IView<TStyles> {}\n\nexport default View;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import htmlToElement from '../ui/core/htmlToElement';\n\nimport { containerTemplate } from './templates';\n\nimport View from '../ui/core/view';\n\nimport styles from './root-container.scss';\n\nclass RootContainerView extends View {\n  private _width: number;\n  private _height: number;\n  private _$node: HTMLElement;\n\n  constructor(config) {\n    super();\n    const { width, height, fillAllSpace } = config;\n\n    this._$node = htmlToElement(containerTemplate({ styles: this.styleNames }));\n\n    this.setFillAllSpaceFlag(fillAllSpace);\n\n    this.setWidth(width);\n    this.setHeight(height);\n  }\n\n  setWidth(width) {\n    if (!width) {\n      return;\n    }\n\n    this._width = width;\n\n    this._$node.style.width = `${this._width}px`;\n  }\n\n  setHeight(height) {\n    if (!height) {\n      return;\n    }\n\n    this._height = height;\n\n    this._$node.style.height = `${this._height}px`;\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  getHeight() {\n    return this._height;\n  }\n\n  show() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  appendComponentNode(node) {\n    this._$node.appendChild(node);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  setFullScreenStatus(isFullScreen) {\n    if (isFullScreen) {\n      this._$node.setAttribute('data-in-full-screen', 'true');\n      this._$node.classList.add(this.styleNames.fullScreen);\n    } else {\n      this._$node.setAttribute('data-in-full-screen', 'false');\n      this._$node.classList.remove(this.styleNames.fullScreen);\n    }\n  }\n\n  setFillAllSpaceFlag(isFillAllSpace = false) {\n    if (isFillAllSpace) {\n      this._$node.classList.add(this.styleNames.fillAllSpace);\n    } else {\n      this._$node.classList.remove(this.styleNames.fillAllSpace);\n    }\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n  }\n}\n\nRootContainerView.extendStyleNames(styles);\n\nexport default RootContainerView;\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = (function () {\n    if (typeof Map !== 'undefined') {\n        return Map;\n    }\n\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\n    function getIndex(arr, key) {\n        var result = -1;\n\n        arr.some(function (entry, index) {\n            if (entry[0] === key) {\n                result = index;\n\n                return true;\n            }\n\n            return false;\n        });\n\n        return result;\n    }\n\n    return (function () {\n        function anonymous() {\n            this.__entries__ = [];\n        }\n\n        var prototypeAccessors = { size: { configurable: true } };\n\n        /**\r\n         * @returns {boolean}\r\n         */\n        prototypeAccessors.size.get = function () {\n            return this.__entries__.length;\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\n        anonymous.prototype.get = function (key) {\n            var index = getIndex(this.__entries__, key);\n            var entry = this.__entries__[index];\n\n            return entry && entry[1];\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.set = function (key, value) {\n            var index = getIndex(this.__entries__, key);\n\n            if (~index) {\n                this.__entries__[index][1] = value;\n            } else {\n                this.__entries__.push([key, value]);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.delete = function (key) {\n            var entries = this.__entries__;\n            var index = getIndex(entries, key);\n\n            if (~index) {\n                entries.splice(index, 1);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.has = function (key) {\n            return !!~getIndex(this.__entries__, key);\n        };\n\n        /**\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.clear = function () {\n            this.__entries__.splice(0);\n        };\n\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.forEach = function (callback, ctx) {\n            var this$1 = this;\n            if ( ctx === void 0 ) ctx = null;\n\n            for (var i = 0, list = this$1.__entries__; i < list.length; i += 1) {\n                var entry = list[i];\n\n                callback.call(ctx, entry[1], entry[0]);\n            }\n        };\n\n        Object.defineProperties( anonymous.prototype, prototypeAccessors );\n\n        return anonymous;\n    }());\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\nvar global$1 = (function () {\n    if (typeof global !== 'undefined' && global.Math === Math) {\n        return global;\n    }\n\n    if (typeof self !== 'undefined' && self.Math === Math) {\n        return self;\n    }\n\n    if (typeof window !== 'undefined' && window.Math === Math) {\n        return window;\n    }\n\n    // eslint-disable-next-line no-new-func\n    return Function('return this')();\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\nvar requestAnimationFrame$1 = (function () {\n    if (typeof requestAnimationFrame === 'function') {\n        // It's required to use a bounded function because IE sometimes throws\n        // an \"Invalid calling object\" error if rAF is invoked without the global\n        // object on the left hand side.\n        return requestAnimationFrame.bind(global$1);\n    }\n\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\n})();\n\n// Defines minimum timeout before adding a trailing call.\nvar trailingTimeout = 2;\n\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\nvar throttle = function (callback, delay) {\n    var leadingCall = false,\n        trailingCall = false,\n        lastCallTime = 0;\n\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\n    function resolvePending() {\n        if (leadingCall) {\n            leadingCall = false;\n\n            callback();\n        }\n\n        if (trailingCall) {\n            proxy();\n        }\n    }\n\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\n    function timeoutCallback() {\n        requestAnimationFrame$1(resolvePending);\n    }\n\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\n    function proxy() {\n        var timeStamp = Date.now();\n\n        if (leadingCall) {\n            // Reject immediately following calls.\n            if (timeStamp - lastCallTime < trailingTimeout) {\n                return;\n            }\n\n            // Schedule new call to be in invoked when the pending one is resolved.\n            // This is important for \"transitions\" which never actually start\n            // immediately so there is a chance that we might miss one if change\n            // happens amids the pending invocation.\n            trailingCall = true;\n        } else {\n            leadingCall = true;\n            trailingCall = false;\n\n            setTimeout(timeoutCallback, delay);\n        }\n\n        lastCallTime = timeStamp;\n    }\n\n    return proxy;\n};\n\n// Minimum delay before invoking the update of observers.\nvar REFRESH_DELAY = 20;\n\n// A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\n\n// Check if MutationObserver is available.\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\nvar ResizeObserverController = function() {\n    this.connected_ = false;\n    this.mutationEventsAdded_ = false;\n    this.mutationsObserver_ = null;\n    this.observers_ = [];\n\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n};\n\n/**\r\n * Adds observer to observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be added.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Holds reference to the controller's instance.\r\n *\r\n * @private {ResizeObserverController}\r\n */\n\n\n/**\r\n * Keeps reference to the instance of MutationObserver.\r\n *\r\n * @private {MutationObserver}\r\n */\n\n/**\r\n * Indicates whether DOM listeners have been added.\r\n *\r\n * @private {boolean}\r\n */\nResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n        this.observers_.push(observer);\n    }\n\n    // Add listeners if they haven't been added yet.\n    if (!this.connected_) {\n        this.connect_();\n    }\n};\n\n/**\r\n * Removes observer from observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer);\n\n    // Remove observer if it's present in registry.\n    if (~index) {\n        observers.splice(index, 1);\n    }\n\n    // Remove listeners if controller has no connected observers.\n    if (!observers.length && this.connected_) {\n        this.disconnect_();\n    }\n};\n\n/**\r\n * Invokes the update of observers. It will continue running updates insofar\r\n * it detects changes.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_();\n\n    // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n    if (changesDetected) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Updates every observer from observers list and notifies them of queued\r\n * entries.\r\n *\r\n * @private\r\n * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n *  dimensions of it's elements.\r\n */\nResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n        return observer.gatherActive(), observer.hasActive();\n    });\n\n    // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n    activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\n\n    return activeObservers.length > 0;\n};\n\n/**\r\n * Initializes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n        return;\n    }\n\n    // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n        this.mutationsObserver_ = new MutationObserver(this.refresh);\n\n        this.mutationsObserver_.observe(document, {\n            attributes: true,\n            childList: true,\n            characterData: true,\n            subtree: true\n        });\n    } else {\n        document.addEventListener('DOMSubtreeModified', this.refresh);\n\n        this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n};\n\n/**\r\n * Removes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n        return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n        this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n        document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n};\n\n/**\r\n * \"Transitionend\" event handler.\r\n *\r\n * @private\r\n * @param {TransitionEvent} event\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.onTransitionEnd_ = function (ref) {\n        var propertyName = ref.propertyName; if ( propertyName === void 0 ) propertyName = '';\n\n    // Detect whether transition may affect dimensions of an element.\n    var isReflowProperty = transitionKeys.some(function (key) {\n        return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Returns instance of the ResizeObserverController.\r\n *\r\n * @returns {ResizeObserverController}\r\n */\nResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n        this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n};\n\nResizeObserverController.instance_ = null;\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\nvar defineConfigurable = (function (target, props) {\n    for (var i = 0, list = Object.keys(props); i < list.length; i += 1) {\n        var key = list[i];\n\n        Object.defineProperty(target, key, {\n            value: props[key],\n            enumerable: false,\n            writable: false,\n            configurable: true\n        });\n    }\n\n    return target;\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\nvar getWindowOf = (function (target) {\n    // Assume that the element is an instance of Node, which means that it\n    // has the \"ownerDocument\" property from which we can retrieve a\n    // corresponding global object.\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\n\n    // Return the local global object if it's not possible extract one from\n    // provided element.\n    return ownerGlobal || global$1;\n});\n\n// Placeholder of an empty content rectangle.\nvar emptyRect = createRectInit(0, 0, 0, 0);\n\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\nfunction toFloat(value) {\n    return parseFloat(value) || 0;\n}\n\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\nfunction getBordersSize(styles) {\n    var positions = [], len = arguments.length - 1;\n    while ( len-- > 0 ) positions[ len ] = arguments[ len + 1 ];\n\n    return positions.reduce(function (size, position) {\n        var value = styles['border-' + position + '-width'];\n\n        return size + toFloat(value);\n    }, 0);\n}\n\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\nfunction getPaddings(styles) {\n    var positions = ['top', 'right', 'bottom', 'left'];\n    var paddings = {};\n\n    for (var i = 0, list = positions; i < list.length; i += 1) {\n        var position = list[i];\n\n        var value = styles['padding-' + position];\n\n        paddings[position] = toFloat(value);\n    }\n\n    return paddings;\n}\n\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getSVGContentRect(target) {\n    var bbox = target.getBBox();\n\n    return createRectInit(0, 0, bbox.width, bbox.height);\n}\n\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\nfunction getHTMLElementContentRect(target) {\n    // Client width & height properties can't be\n    // used exclusively as they provide rounded values.\n    var clientWidth = target.clientWidth;\n    var clientHeight = target.clientHeight;\n\n    // By this condition we can catch all non-replaced inline, hidden and\n    // detached elements. Though elements with width & height properties less\n    // than 0.5 will be discarded as well.\n    //\n    // Without it we would need to implement separate methods for each of\n    // those cases and it's not possible to perform a precise and performance\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n    // gives wrong results for elements with width & height less than 0.5.\n    if (!clientWidth && !clientHeight) {\n        return emptyRect;\n    }\n\n    var styles = getWindowOf(target).getComputedStyle(target);\n    var paddings = getPaddings(styles);\n    var horizPad = paddings.left + paddings.right;\n    var vertPad = paddings.top + paddings.bottom;\n\n    // Computed styles of width & height are being used because they are the\n    // only dimensions available to JS that contain non-rounded values. It could\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\n    var width = toFloat(styles.width),\n        height = toFloat(styles.height);\n\n    // Width & height include paddings and borders when the 'border-box' box\n    // model is applied (except for IE).\n    if (styles.boxSizing === 'border-box') {\n        // Following conditions are required to handle Internet Explorer which\n        // doesn't include paddings and borders to computed CSS dimensions.\n        //\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\n        // properties then it's either IE, and thus we don't need to subtract\n        // anything, or an element merely doesn't have paddings/borders styles.\n        if (Math.round(width + horizPad) !== clientWidth) {\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\n        }\n\n        if (Math.round(height + vertPad) !== clientHeight) {\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n        }\n    }\n\n    // Following steps can't be applied to the document's root element as its\n    // client[Width/Height] properties represent viewport area of the window.\n    // Besides, it's as well not necessary as the <html> itself neither has\n    // rendered scroll bars nor it can be clipped.\n    if (!isDocumentElement(target)) {\n        // In some browsers (only in Firefox, actually) CSS width & height\n        // include scroll bars size which can be removed at this step as scroll\n        // bars are the only difference between rounded dimensions + paddings\n        // and \"client\" properties, though that is not always true in Chrome.\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\n\n        // Chrome has a rather weird rounding of \"client\" properties.\n        // E.g. for an element with content width of 314.2px it sometimes gives\n        // the client width of 315px and for the width of 314.7px it may give\n        // 314px. And it doesn't happen all the time. So just ignore this delta\n        // as a non-relevant.\n        if (Math.abs(vertScrollbar) !== 1) {\n            width -= vertScrollbar;\n        }\n\n        if (Math.abs(horizScrollbar) !== 1) {\n            height -= horizScrollbar;\n        }\n    }\n\n    return createRectInit(paddings.left, paddings.top, width, height);\n}\n\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nvar isSVGGraphicsElement = (function () {\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n    // interface.\n    if (typeof SVGGraphicsElement !== 'undefined') {\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\n    }\n\n    // If it's so, then check that element is at least an instance of the\n    // SVGElement and that it has the \"getBBox\" method.\n    // eslint-disable-next-line no-extra-parens\n    return function (target) { return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function'; };\n})();\n\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nfunction isDocumentElement(target) {\n    return target === getWindowOf(target).document.documentElement;\n}\n\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getContentRect(target) {\n    if (!isBrowser) {\n        return emptyRect;\n    }\n\n    if (isSVGGraphicsElement(target)) {\n        return getSVGContentRect(target);\n    }\n\n    return getHTMLElementContentRect(target);\n}\n\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\nfunction createReadOnlyRect(ref) {\n    var x = ref.x;\n    var y = ref.y;\n    var width = ref.width;\n    var height = ref.height;\n\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n    var rect = Object.create(Constr.prototype);\n\n    // Rectangle's properties are not writable and non-enumerable.\n    defineConfigurable(rect, {\n        x: x, y: y, width: width, height: height,\n        top: y,\n        right: x + width,\n        bottom: height + y,\n        left: x\n    });\n\n    return rect;\n}\n\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\nfunction createRectInit(x, y, width, height) {\n    return { x: x, y: y, width: width, height: height };\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\nvar ResizeObservation = function(target) {\n    this.broadcastWidth = 0;\n    this.broadcastHeight = 0;\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n\n    this.target = target;\n};\n\n/**\r\n * Updates content rectangle and tells whether it's width or height properties\r\n * have changed since the last broadcast.\r\n *\r\n * @returns {boolean}\r\n */\n\n\n/**\r\n * Reference to the last observed content rectangle.\r\n *\r\n * @private {DOMRectInit}\r\n */\n\n\n/**\r\n * Broadcasted width of content rectangle.\r\n *\r\n * @type {number}\r\n */\nResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n\n    this.contentRect_ = rect;\n\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n};\n\n/**\r\n * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n * from the corresponding properties of the last observed content rectangle.\r\n *\r\n * @returns {DOMRectInit} Last observed content rectangle.\r\n */\nResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n\n    return rect;\n};\n\nvar ResizeObserverEntry = function(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit);\n\n    // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n    defineConfigurable(this, { target: target, contentRect: contentRect });\n};\n\nvar ResizeObserverSPI = function(callback, controller, callbackCtx) {\n    this.activeObservations_ = [];\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n        throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n};\n\n/**\r\n * Starts observing provided element.\r\n *\r\n * @param {Element} target - Element to be observed.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Registry of the ResizeObservation instances.\r\n *\r\n * @private {Map<Element, ResizeObservation>}\r\n */\n\n\n/**\r\n * Public ResizeObserver instance which will be passed to the callback\r\n * function and used as a value of it's \"this\" binding.\r\n *\r\n * @private {ResizeObserver}\r\n */\n\n/**\r\n * Collection of resize observations that have detected changes in dimensions\r\n * of elements.\r\n *\r\n * @private {Array<ResizeObservation>}\r\n */\nResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is already being observed.\n    if (observations.has(target)) {\n        return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n\n    this.controller_.addObserver(this);\n\n    // Force the update of observations.\n    this.controller_.refresh();\n};\n\n/**\r\n * Stops observing provided element.\r\n *\r\n * @param {Element} target - Element to stop observing.\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is not being observed.\n    if (!observations.has(target)) {\n        return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n        this.controller_.removeObserver(this);\n    }\n};\n\n/**\r\n * Stops observing all elements.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n};\n\n/**\r\n * Collects observation instances the associated element of which has changed\r\n * it's content rectangle.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.gatherActive = function () {\n        var this$1 = this;\n\n    this.clearActive();\n\n    this.observations_.forEach(function (observation) {\n        if (observation.isActive()) {\n            this$1.activeObservations_.push(observation);\n        }\n    });\n};\n\n/**\r\n * Invokes initial callback function with a list of ResizeObserverEntry\r\n * instances collected from active resize observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n        return;\n    }\n\n    var ctx = this.callbackCtx_;\n\n    // Create ResizeObserverEntry instance for every active observation.\n    var entries = this.activeObservations_.map(function (observation) {\n        return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n};\n\n/**\r\n * Clears the collection of active observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n};\n\n/**\r\n * Tells whether observer has active observations.\r\n *\r\n * @returns {boolean}\r\n */\nResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n};\n\n// Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\nvar ResizeObserver = function(callback) {\n    if (!(this instanceof ResizeObserver)) {\n        throw new TypeError('Cannot call a class as a function.');\n    }\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n\n    observers.set(this, observer);\n};\n\n// Expose public methods of ResizeObserver.\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n    ResizeObserver.prototype[method] = function () {\n        return (ref = observers.get(this))[method].apply(ref, arguments);\n        var ref;\n    };\n});\n\nvar index = (function () {\n    // Export existing implementation if available.\n    if (typeof global$1.ResizeObserver !== 'undefined') {\n        return global$1.ResizeObserver;\n    }\n\n    return ResizeObserver;\n})();\n\nexport default index;\n","function reduce(\n  arrayLike: { length: number },\n  callback: Function,\n  initialValue: any,\n) {\n  return Array.prototype.reduce.call(arrayLike, callback, initialValue);\n}\n\nfunction forEachMatch(string: string, pattern: RegExp, callback: Function) {\n  let match = pattern.exec(string);\n\n  while (match !== null) {\n    callback(match);\n    match = pattern.exec(string);\n  }\n}\n\nexport { reduce, forEachMatch };\n","const ALIASES = [\n  'matches',\n  'webkitMatchesSelector',\n  'mozMatchesSelector',\n  'msMatchesSelector',\n];\n\nlet matchesSelectorFn;\n\nif (typeof Element !== 'undefined') {\n  for (let i = 0; i < ALIASES.length; i++) {\n    matchesSelectorFn = Element.prototype[ALIASES[i]];\n\n    if (matchesSelectorFn) {\n      break;\n    }\n  }\n}\n\nconst isElementMatchesSelector = matchesSelectorFn\n  ? (element, selector) => matchesSelectorFn.call(element, selector)\n  : (element, selector) =>\n      Array.prototype.indexOf.call(\n        document.querySelectorAll(selector),\n        element,\n      ) !== -1;\n\nexport default isElementMatchesSelector;\n","import { forEachMatch, reduce } from './utils';\nimport isElementMatchesSelector from '../isElementMatchesSelector';\n\n// NOTE: \"inspired\" by https://github.com/marcj/css-element-queries/blob/1.0.2/src/ElementQueries.js#L340-L393\n\nconst CSS_SELECTOR_PATTERN = /,?[\\s\\t]*([^,\\n]*?)((?:\\[[\\s\\t]*?(?:[a-z-]+-)?(?:min|max)-width[\\s\\t]*?[~$\\^]?=[\\s\\t]*?\"[^\"]*?\"[\\s\\t]*?])+)([^,\\n\\s\\{]*)/gim;\nconst QUERY_ATTR_PATTERN = /\\[[\\s\\t]*?(?:([a-z-]+)-)?(min|max)-width[\\s\\t]*?[~$\\^]?=[\\s\\t]*?\"([^\"]*?)\"[\\s\\t]*?]/gim;\n\nfunction getQueriesFromCssSelector(cssSelector: string) {\n  const results = [];\n\n  if (\n    cssSelector.indexOf('min-width') === -1 &&\n    cssSelector.indexOf('max-width') === -1\n  ) {\n    return [];\n  }\n\n  cssSelector = cssSelector.replace(/'/g, '\"');\n\n  forEachMatch(cssSelector, CSS_SELECTOR_PATTERN, match => {\n    const [selectorPart1, attribute, selectorPart2] = match.slice(1);\n    const selector = selectorPart1 + selectorPart2;\n\n    forEachMatch(attribute, QUERY_ATTR_PATTERN, match => {\n      const [prefix = '', mode, width] = match.slice(1);\n\n      results.push({\n        selector,\n        prefix,\n        mode,\n        width: parseInt(width, 10),\n      });\n    });\n  });\n\n  return results;\n}\n\nfunction getQueriesFromRules(rules: CSSRuleList) {\n  return reduce(\n    rules,\n    (results, rule) => {\n      // https://developer.mozilla.org/en-US/docs/Web/API/CSSRule\n      // CSSRule.STYLE_RULE\n      if (rule.type === 1) {\n        const selector = rule.selectorText || rule.cssText;\n\n        return results.concat(getQueriesFromCssSelector(selector));\n      }\n\n      // NOTE: add other `CSSRule` types if required.\n      // Example - https://github.com/marcj/css-element-queries/blob/1.0.2/src/ElementQueries.js#L384-L390\n\n      return results;\n    },\n    [],\n  );\n}\n\nfunction getQueries() {\n  return reduce(\n    document.styleSheets,\n    (results, styleSheet) => {\n      // NOTE: browser may not able to read rules for cross-domain stylesheets\n      try {\n        const rules = styleSheet.cssRules || styleSheet.rules;\n\n        if (rules) {\n          return results.concat(getQueriesFromRules(rules));\n        }\n\n        if (styleSheet.cssText) {\n          return results.concat(getQueriesFromCssSelector(styleSheet.cssText));\n        }\n      } catch (e) {}\n\n      return results;\n    },\n    [],\n  );\n}\n\nfunction getQueriesForElement(element, prefix = '') {\n  const matchedSelectors = new Map();\n  const queries = [];\n\n  getQueries().forEach(query => {\n    if (!matchedSelectors.has(query.selector)) {\n      matchedSelectors.set(\n        query.selector,\n        isElementMatchesSelector(element, query.selector),\n      );\n    }\n\n    if (!matchedSelectors.get(query.selector)) {\n      return;\n    }\n\n    if (\n      query.prefix === prefix &&\n      !queries.some(\n        _query => _query.mode === query.mode && _query.width === query.width,\n      )\n    ) {\n      queries.push({\n        mode: query.mode,\n        width: query.width,\n      });\n    }\n  });\n\n  return queries.sort((a, b) => a.width - b.width);\n}\n\nexport default getQueriesForElement;\n","import ResizeObserver from 'resize-observer-polyfill';\nimport getQueriesForElement from './getQueriesForElement';\n\nconst DEFAULT_QUERY_PREFIX = 'data';\n\nclass ElementQueries {\n  private _element: Element;\n  private _queryPrefix: string;\n  private _queries: { mode: string; width: number }[];\n  private _observer: ResizeObserver;\n\n  constructor(element, { prefix = DEFAULT_QUERY_PREFIX } = {}) {\n    this._element = element;\n    this._queryPrefix = prefix;\n    this._queries = getQueriesForElement(element, prefix);\n\n    if (this._queries.length) {\n      this._observer = new ResizeObserver(([entry]) => {\n        this._onResized(entry.contentRect.width);\n      });\n\n      this._observer.observe(element);\n    }\n  }\n\n  private _getQueryAttributeValue(mode, elementWidth) {\n    return this._queries\n      .filter(\n        query =>\n          query.mode === mode &&\n          ((mode === 'max' && query.width >= elementWidth) ||\n            (mode === 'min' && query.width <= elementWidth)),\n      )\n      .map(query => `${query.width}px`)\n      .join(' ');\n  }\n\n  private _setQueryAttribute(mode, elementWidth) {\n    const attributeName = this._queryPrefix\n      ? `${this._queryPrefix}-${mode}-width`\n      : `${mode}-width`;\n    const attributeValue = this._getQueryAttributeValue(mode, elementWidth);\n\n    if (attributeValue) {\n      this._element.setAttribute(attributeName, attributeValue);\n    } else {\n      this._element.removeAttribute(attributeName);\n    }\n  }\n\n  private _onResized(width) {\n    this._setQueryAttribute('min', width);\n    this._setQueryAttribute('max', width);\n  }\n\n  destroy() {\n    if (this._observer) {\n      this._observer.unobserve(this._element);\n      this._observer = null;\n    }\n  }\n}\n\nexport default ElementQueries;\n","import focusSource from '../../utils/focus-source';\nimport focusWithin from '../../utils/focus-within';\n\nimport playerAPI from '../../utils/player-api-decorator';\n\nimport { UI_EVENTS } from '../../constants/index';\n\nimport View from './root-container.view';\nimport ElementQueries from '../ui/core/element-queries';\n\nconst DEFAULT_CONFIG = {\n  fillAllSpace: false,\n};\n\nexport interface IPlayerSize {\n  width: number;\n  height: number;\n}\n\nclass RootContainer {\n  static moduleName = 'rootContainer';\n  static dependencies = ['eventEmitter', 'config', 'engine'];\n\n  private _eventEmitter;\n  private _engine;\n\n  private _elementQueries: ElementQueries;\n  private _disengageFocusWithin;\n  private _disengageFocusSource;\n\n  // TODO: check if props should be `private`\n  view: View;\n  isHidden: boolean;\n\n  constructor({ eventEmitter, config, engine }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this.isHidden = false;\n\n    this._initUI(config);\n\n    this._bindEvents();\n  }\n\n  /**\n   * Getter for DOM node with player UI element\n   * (use it only for debug, if you need attach player to your document use `attachToElement` method)\n   */\n  @playerAPI()\n  get node(): Node {\n    return this.view.getNode();\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this.view.setFullScreenStatus,\n      this.view,\n    );\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this.view.setFullScreenStatus,\n      this.view,\n    );\n  }\n\n  _initUI(config) {\n    const sizeConfig = {\n      ...config.size,\n    };\n    this.view = new View({\n      width: sizeConfig.width || null,\n      height: sizeConfig.height || null,\n      fillAllSpace: config.fillAllSpace || DEFAULT_CONFIG.fillAllSpace,\n    });\n  }\n\n  appendComponentNode(node) {\n    this.view.appendComponentNode(node);\n  }\n\n  _enableFocusInterceptors() {\n    if (!this._disengageFocusWithin) {\n      this._disengageFocusWithin = focusWithin();\n    }\n\n    if (!this._disengageFocusSource) {\n      focusSource.engage();\n      this._disengageFocusSource = focusSource.disengage;\n    }\n  }\n\n  _disableFocusInterceptors() {\n    if (this._disengageFocusSource) {\n      this._disengageFocusSource();\n      delete this._disengageFocusSource;\n    }\n\n    if (this._disengageFocusWithin) {\n      this._disengageFocusWithin();\n      delete this._disengageFocusWithin;\n    }\n  }\n\n  /**\n   * Method for attaching player node to your container\n   * It's important to call this methods after `DOMContentLoaded` event!\n   *\n   * @example\n   * document.addEventListener('DOMContentLoaded', function() {\n   *   const config = { src: 'http://my-url/video.mp4' }\n   *   const player = Playable.create(config);\n   *\n   *   player.attachToElement(document.getElementById('content'));\n   * });\n   */\n  @playerAPI()\n  attachToElement(node: Node) {\n    this._enableFocusInterceptors();\n\n    node.appendChild(this.node);\n\n    if (!this._elementQueries) {\n      // NOTE: required for valid work of player \"media queries\"\n      this._elementQueries = new ElementQueries(this.node, {\n        prefix: '',\n      });\n    }\n  }\n\n  /**\n   * Method for setting width of player\n   * @param width - Desired width of player in pixels\n   * @example\n   * player.setWidth(400);\n   */\n  @playerAPI()\n  setWidth(width: number) {\n    this.view.setWidth(width);\n    this._eventEmitter.emit(UI_EVENTS.PLAYER_WIDTH_CHANGE_TRIGGERED, width);\n  }\n\n  /**\n   * Return current width of player in pixels\n   * @example\n   * player.getWidth(); // 400\n   */\n  @playerAPI()\n  getWidth(): number {\n    return this.view.getWidth();\n  }\n\n  /**\n   * Method for setting width of player\n   * @param height - Desired height of player in pixels\n   * @example\n   * player.setHeight(225);\n   */\n  @playerAPI()\n  setHeight(height: number) {\n    this.view.setHeight(height);\n    this._eventEmitter.emit(UI_EVENTS.PLAYER_HEIGHT_CHANGE_TRIGGERED, height);\n  }\n\n  /**\n   * Return current height of player in pixels\n   * @example\n   * player.getHeight(); // 225\n   */\n  @playerAPI()\n  getHeight(): number {\n    return this.view.getHeight();\n  }\n\n  /**\n   * Method for allowing player fill all available space\n   * @param flag - `true` for allowing\n   * @example\n   * player.setFillAllSpace(true);\n   */\n  @playerAPI()\n  setFillAllSpace(flag: boolean) {\n    this.view.setFillAllSpaceFlag(flag);\n  }\n\n  /**\n   * Hide whole ui\n   * @example\n   * player.hide();\n   */\n  @playerAPI()\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  /**\n   * Show whole ui\n   * @example\n   * player.show();\n   */\n  @playerAPI()\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._disableFocusInterceptors();\n\n    if (this._elementQueries) {\n      this._elementQueries.destroy();\n      delete this._elementQueries;\n    }\n\n    this.view.destroy();\n    delete this.view;\n\n    delete this._engine;\n    delete this._eventEmitter;\n  }\n}\n\nexport default RootContainer;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { EventEmitter, ListenerFn } from 'eventemitter3';\n\nimport playerAPI from '../../utils/player-api-decorator';\n\nexport default class EventEmitterModule extends EventEmitter {\n  static moduleName = 'eventEmitter';\n  /**\n   * Method for adding listeners of events inside player.\n   * You can check all events inside `Playable.UI_EVENTS` and `Playable.VIDEO_EVENTS`\n   *\n   * @param event - The Event name, such as `Playable.UI_EVENTS.PLAY_TRIGGERED`\n   * @param fn - A function callback to execute when the event is triggered.\n   * @param context - Value to use as `this` (i.e the reference Object) when executing callback.\n   *\n   * @example\n   * const Playable = require('playable');\n   * const player = Playable.create();\n   *\n   * player.on(Playable.UI_EVENTS.PLAY_TRIGGERED, () => {\n   *   // Will be executed after you will click on play button\n   * });\n   *\n   * // To supply a context value for `this` when the callback is invoked,\n   * // pass the optional context argument\n   * player.on(Playable.VIDEO_EVENTS.UPLOAD_STALLED, this.handleStalledUpload, this);\n   */\n  @playerAPI()\n  on(event: string, fn: ListenerFn, context?: any) {\n    return super.on(event, fn, context);\n  }\n\n  /**\n   * Method for removing listeners of events inside player.\n   *\n   * @param event - The Event name, such as `Playable.UI_EVENTS.PLAY_TRIGGERED`\n   * @param fn - Only remove the listeners that match this function.\n   * @param context - Only remove the listeners that have this context.\n   * @param once - Only remove one-time listeners.\n   *\n   * @example\n   * const Playable = require('playable');\n   * const player = Playable.create();\n   *\n   * const callback = function() {\n   *   // Code to handle some kind of event\n   * };\n   *\n   * // ... Now callback will be called when some one will pause the video ...\n   * player.on(Playable.UI_EVENTS.PAUSE_TRIGGERED, callback);\n   *\n   * // ... callback will no longer be called.\n   * player.off(Playable.UI_EVENTS.PAUSE_TRIGGERED, callback);\n   *\n   * // ... remove all handlers for event UI_EVENTS.PAUSE_TRIGGERED.\n   * player.off(Playable.UI_EVENTS.PAUSE_TRIGGERED);\n   */\n  @playerAPI()\n  off(event: string, fn?: ListenerFn, context?: any, once?: boolean) {\n    return super.off(event, fn, context, once);\n  }\n\n  destroy() {\n    this.eventNames().forEach(eventName => {\n      this.removeAllListeners(eventName);\n    });\n  }\n}\n","import { VIDEO_EVENTS, STATES } from '../../constants/index';\n\nexport const NATIVE_VIDEO_EVENTS_TO_STATE = [\n  'loadstart',\n  'loadedmetadata',\n  'canplay',\n  'play',\n  'playing',\n  'pause',\n  'ended',\n  'waiting',\n  'seeking',\n  'seeked',\n];\n\nexport default class StateEngine {\n  static dependencies = ['eventEmitter', 'config'];\n\n  private _eventEmitter;\n  private _video;\n  private _currentState;\n  private _statesTimestamps;\n  private _initialTimeStamp;\n  private _isMetadataLoaded: boolean;\n\n  constructor(eventEmitter, video) {\n    this._eventEmitter = eventEmitter;\n    this._video = video;\n\n    this._currentState = null;\n\n    this._isMetadataLoaded = false;\n    this._statesTimestamps = {};\n\n    this._bindCallbacks();\n    this._bindEvents();\n  }\n\n  _bindCallbacks() {\n    this._processEventFromVideo = this._processEventFromVideo.bind(this);\n  }\n\n  _bindEvents() {\n    NATIVE_VIDEO_EVENTS_TO_STATE.forEach(event =>\n      this._video.addEventListener(event, this._processEventFromVideo),\n    );\n  }\n\n  _unbindEvents() {\n    NATIVE_VIDEO_EVENTS_TO_STATE.forEach(event =>\n      this._video.removeEventListener(event, this._processEventFromVideo),\n    );\n  }\n\n  clearTimestamps() {\n    this._statesTimestamps = {};\n  }\n\n  _setInitialTimeStamp() {\n    this._initialTimeStamp = Date.now();\n  }\n\n  _setStateTimestamp(state) {\n    if (!this._statesTimestamps[state]) {\n      this._statesTimestamps[state] = Date.now() - this._initialTimeStamp;\n      this._setInitialTimeStamp();\n    }\n  }\n\n  getStateTimestamps() {\n    return this._statesTimestamps;\n  }\n\n  _processEventFromVideo(event: any = {}) {\n    const videoEl = this._video;\n\n    switch (event.type) {\n      case 'loadstart': {\n        this._setInitialTimeStamp();\n        this.setState(STATES.LOAD_STARTED);\n        break;\n      }\n      case 'loadedmetadata': {\n        this._setStateTimestamp(STATES.METADATA_LOADED);\n        this.setState(STATES.METADATA_LOADED);\n        this._isMetadataLoaded = true;\n        break;\n      }\n      case 'canplay': {\n        this._setStateTimestamp(STATES.READY_TO_PLAY);\n        this.setState(STATES.READY_TO_PLAY);\n        break;\n      }\n      case 'play': {\n        this.setState(STATES.PLAY_REQUESTED);\n        break;\n      }\n      case 'playing': {\n        // Event 'playing' also triggers even when play request aborted by browser. So we need to check if video is actualy playing\n        if (!videoEl.paused) {\n          this.setState(STATES.PLAYING);\n        }\n        break;\n      }\n      case 'waiting': {\n        this.setState(STATES.WAITING);\n        break;\n      }\n      case 'pause': {\n        // No need to set state PAUSED since there was no actual playing of any parts of video\n        if (videoEl.played.length) {\n          this.setState(STATES.PAUSED);\n        }\n        break;\n      }\n      case 'ended': {\n        this.setState(STATES.ENDED);\n        break;\n      }\n      case 'seeking': {\n        this.setState(STATES.SEEK_IN_PROGRESS);\n        break;\n      }\n      case 'seeked': {\n        this.setState(videoEl.paused ? STATES.PAUSED : STATES.PLAYING);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  setState(state) {\n    if (state === this._currentState) {\n      return;\n    }\n\n    //This case is happens only with dash.js sometimes when manifest got some problems\n    if (this._currentState === STATES.METADATA_LOADED) {\n      if (state === STATES.SEEK_IN_PROGRESS || state === STATES.PAUSED) {\n        return;\n      }\n    }\n\n    this._eventEmitter.emit(VIDEO_EVENTS.STATE_CHANGED, {\n      prevState: this._currentState,\n      nextState: state,\n    });\n    this._currentState = state;\n  }\n\n  get isMetadataLoaded() {\n    return this._isMetadataLoaded;\n  }\n\n  getState() {\n    return this._currentState;\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    delete this._eventEmitter;\n    delete this._video;\n  }\n}\n","import { VIDEO_EVENTS } from '../../constants/index';\n\nexport const NATIVE_VIDEO_TO_BROADCAST = [\n  'progress',\n  'error',\n  'stalled',\n  'suspend',\n  'durationchange',\n  'timeupdate',\n  'volumechange',\n  'seeking',\n];\n\nexport default class NativeEventsBroadcaster {\n  private _eventEmitter;\n  private _video;\n  private _currentVolume: number;\n  private _currentMute: boolean;\n\n  constructor(eventEmitter, video) {\n    this._eventEmitter = eventEmitter;\n    this._video = video;\n\n    this._currentMute = this._video.muted;\n    this._currentVolume = this._video.volume;\n\n    this._bindCallbacks();\n    this._bindEvents();\n  }\n\n  _bindCallbacks() {\n    this._processEventFromVideo = this._processEventFromVideo.bind(this);\n  }\n\n  _bindEvents() {\n    NATIVE_VIDEO_TO_BROADCAST.forEach(event =>\n      this._video.addEventListener(event, this._processEventFromVideo),\n    );\n  }\n\n  _unbindEvents() {\n    NATIVE_VIDEO_TO_BROADCAST.forEach(event =>\n      this._video.removeEventListener(event, this._processEventFromVideo),\n    );\n  }\n\n  _processEventFromVideo(event: any = {}) {\n    const videoEl = this._video;\n\n    switch (event.type) {\n      case 'progress': {\n        this._eventEmitter.emit(VIDEO_EVENTS.CHUNK_LOADED);\n        break;\n      }\n      case 'stalled': {\n        this._eventEmitter.emit(VIDEO_EVENTS.UPLOAD_STALLED);\n        break;\n      }\n      case 'suspend': {\n        this._eventEmitter.emit(VIDEO_EVENTS.UPLOAD_SUSPEND);\n        break;\n      }\n      case 'seeking': {\n        this._eventEmitter.emit(\n          VIDEO_EVENTS.SEEK_IN_PROGRESS,\n          videoEl.currentTime,\n        );\n        break;\n      }\n      case 'durationchange': {\n        this._eventEmitter.emit(\n          VIDEO_EVENTS.DURATION_UPDATED,\n          videoEl.duration,\n        );\n        break;\n      }\n      case 'timeupdate': {\n        this._eventEmitter.emit(\n          VIDEO_EVENTS.CURRENT_TIME_UPDATED,\n          videoEl.currentTime,\n        );\n        break;\n      }\n      case 'volumechange': {\n        if (this._currentVolume !== videoEl.volume) {\n          this._currentVolume = videoEl.volume * 100;\n          this._eventEmitter.emit(\n            VIDEO_EVENTS.VOLUME_CHANGED,\n            this._currentVolume,\n          );\n        }\n\n        if (this._currentMute !== videoEl.muted) {\n          this._currentMute = videoEl.muted;\n          this._eventEmitter.emit(VIDEO_EVENTS.MUTE_CHANGED, this._currentMute);\n        }\n\n        this._eventEmitter.emit(VIDEO_EVENTS.VOLUME_STATUS_CHANGED, {\n          volume: videoEl.volume,\n          muted: videoEl.muted,\n        });\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    delete this._video;\n    delete this._eventEmitter;\n  }\n}\n","export function resolveAdapters(mediaStreams, availableAdapters) {\n  const playableAdapters = [];\n\n  const groupedStreams = groupStreamsByMediaType(mediaStreams);\n  const groupedStreamKeys = Object.keys(groupedStreams);\n\n  availableAdapters.forEach(adapter => {\n    for (let i = 0; i < groupedStreamKeys.length; i += 1) {\n      const mediaType = groupedStreamKeys[i];\n      const mediaStreams = groupedStreams[mediaType];\n\n      if (adapter.canPlay(mediaType)) {\n        adapter.setMediaStreams(mediaStreams);\n        playableAdapters.push(adapter);\n        break;\n      }\n    }\n  });\n\n  playableAdapters.sort(\n    (firstAdapter, secondAdapter) =>\n      secondAdapter.mediaStreamDeliveryPriority -\n      firstAdapter.mediaStreamDeliveryPriority,\n  );\n\n  return playableAdapters;\n}\n\nfunction groupStreamsByMediaType(mediaStreams) {\n  const typeMap = {};\n  mediaStreams.forEach(mediaStream => {\n    if (!mediaStream.type) {\n      return;\n    }\n\n    if (!Array.isArray(typeMap[mediaStream.type])) {\n      typeMap[mediaStream.type] = [];\n    }\n    typeMap[mediaStream.type].push(mediaStream);\n  });\n\n  return typeMap;\n}\n","import { MediaStreamTypes } from '../../constants';\n\nconst extensionsMap = Object.create(null);\nextensionsMap.mp4 = MediaStreamTypes.MP4;\nextensionsMap.webm = MediaStreamTypes.WEBM;\nextensionsMap.m3u8 = MediaStreamTypes.HLS;\nextensionsMap.mpd = MediaStreamTypes.DASH;\nextensionsMap.ogg = MediaStreamTypes.OGG;\n\nexport function getStreamType(url) {\n  const anchorElement = document.createElement('a');\n  anchorElement.href = url;\n  const streamType = extensionsMap[getExtFromPath(anchorElement.pathname)];\n\n  return streamType || false;\n}\n\nexport function getExtFromPath(path) {\n  return path.split('.').pop();\n}\n","import { VIDEO_EVENTS, ERRORS } from '../../constants';\n\nimport { resolveAdapters } from './playback-resolution';\nimport { getStreamType } from './detect-stream-type';\n\nexport default class AdaptersStrategy {\n  private _video: HTMLVideoElement;\n  private _eventEmitter;\n  private _playableAdapters;\n  private _availableAdapters;\n  private _attachedAdapter;\n\n  constructor(eventEmitter, video: HTMLVideoElement, playbackAdapters = []) {\n    this._video = video;\n    this._eventEmitter = eventEmitter;\n    this._playableAdapters = [];\n    this._availableAdapters = [];\n    this._attachedAdapter = null;\n\n    playbackAdapters.forEach(\n      adapter =>\n        adapter.isSupported() &&\n        this._availableAdapters.push(new adapter(eventEmitter)),\n    );\n  }\n\n  _autoDetectSourceTypes(mediaSources) {\n    return mediaSources.map(mediaSource => {\n      if (typeof mediaSource === 'string') {\n        const type = getStreamType(mediaSource);\n        if (!type) {\n          this._eventEmitter.emit(VIDEO_EVENTS.ERROR, {\n            errorType: ERRORS.SRC_PARSE,\n            streamSrc: mediaSource,\n          });\n        }\n        return { url: mediaSource, type };\n      }\n\n      return mediaSource;\n    });\n  }\n\n  _resolvePlayableAdapters(src) {\n    if (!src) {\n      this._playableAdapters = [];\n      return;\n    }\n\n    const mediaSources = [].concat(src);\n    const mediaStreams = this._autoDetectSourceTypes(mediaSources);\n    this._playableAdapters = resolveAdapters(\n      mediaStreams,\n      this._availableAdapters,\n    );\n  }\n\n  _connectAdapterToVideo() {\n    if (this._playableAdapters.length > 0) {\n      // Use the first PlayableStream for now\n      // Later, we can use the others as fallback\n      this._attachedAdapter = this._playableAdapters[0];\n      this._attachedAdapter.attach(this._video);\n    }\n  }\n\n  _detachCurrentAdapter() {\n    if (this._attachedAdapter) {\n      this._attachedAdapter.detach(this._video);\n      this._attachedAdapter = null;\n    }\n  }\n\n  get attachedAdapter() {\n    return this._attachedAdapter;\n  }\n\n  connectAdapter(src) {\n    this._detachCurrentAdapter();\n    this._resolvePlayableAdapters(src);\n    this._connectAdapterToVideo();\n  }\n\n  destroy() {\n    this._detachCurrentAdapter();\n\n    delete this._attachedAdapter;\n    delete this._availableAdapters;\n    delete this._playableAdapters;\n\n    delete this._video;\n  }\n}\n","import playerAPI from '../../utils/player-api-decorator';\n\nimport StateEngine from './state-engine';\nimport NativeEventsBroadcaster from './native-events-broadcaster';\nimport AdapterStrategy from './adapters-strategy';\n\nimport {\n  isIPhone,\n  isIPod,\n  isIPad,\n  isAndroid,\n} from '../../utils/device-detection';\n\nimport { VIDEO_EVENTS, STATES } from '../../constants/index';\nimport { IPlaybackAdapter } from './adapters/types';\n\nexport { STATES };\n\nexport enum PreloadTypes {\n  NONE = 'none',\n  METADATA = 'metadata',\n  AUTO = 'auto',\n}\n\ninterface IMediaSource {\n  url: string;\n  type: string;\n}\n\nexport type MediaSource = string | IMediaSource | Array<string | IMediaSource>;\n\n/**\n * @property type - Name of current attached stream.\n * @property viewDimensions - Current size of view port provided by engine (right now - actual size of video tag)\n * @property url - Url of current source\n * @property currentTime - Current time of playback\n * @property duration - Duration of current video\n * @property loadingStateTimestamps - Object with time spend for different initial phases\n * @property bitrates - List of all available bitrates. Internal structure different for different type of streams\n * @property currentBitrate - Current bitrate. Internal structure different for different type of streams\n * @property overallBufferLength - Overall length of buffer\n * @property nearestBufferSegInfo - Object with start and end for current buffer segment\n */\ninterface DebugInfo {\n  type: 'HLS' | 'DASH' | 'MP4' | 'WEBM';\n  viewDimensions: Object;\n  url: string;\n  currentTime: number;\n  duration: number;\n  loadingStateTimestamps: Object;\n  bitrates: Array<Object>;\n  currentBitrate: Object;\n  overallBufferLength: number;\n  nearestBufferSegInfo: Object;\n}\n\n//TODO: Find source of problem with native HLS on Safari, when playing state triggered but actual playing is delayed\nexport default class Engine {\n  static moduleName = 'engine';\n  static dependencies = ['eventEmitter', 'config', 'availablePlaybackAdapters'];\n\n  private _eventEmitter;\n  private _currentSrc;\n  private _stateEngine;\n  private _video: HTMLVideoElement;\n  private _nativeEventsBroadcaster;\n  private _adapterStrategy;\n  private _playPromise: Promise<any>;\n  private _pauseRequested: boolean;\n\n  constructor({ eventEmitter, config, availablePlaybackAdapters = [] }) {\n    this._eventEmitter = eventEmitter;\n\n    this._currentSrc = null;\n\n    this._createVideoTag(config.videoElement);\n\n    this._stateEngine = new StateEngine(eventEmitter, this._video);\n    this._nativeEventsBroadcaster = new NativeEventsBroadcaster(\n      eventEmitter,\n      this._video,\n    );\n    this._adapterStrategy = new AdapterStrategy(\n      this._eventEmitter,\n      this._video,\n      availablePlaybackAdapters,\n    );\n\n    this._applyConfig(config);\n  }\n\n  _createVideoTag(videoElement?: HTMLVideoElement) {\n    if (videoElement && videoElement.tagName === 'VIDEO') {\n      this._video = videoElement;\n    } else {\n      this._video = document.createElement('video');\n    }\n\n    this._video.setAttribute('crossorigin', 'anonymous');\n  }\n\n  _applyConfig(config: any = {}) {\n    const { preload, autoPlay, loop, muted, volume, playInline, src } = config;\n\n    this.setPreload(preload);\n    this.setAutoPlay(autoPlay);\n    this.setLoop(loop);\n    this.setMute(muted);\n    this.setVolume(volume);\n    this.setPlayInline(playInline);\n\n    this.setSrc(src);\n  }\n\n  getNode() {\n    return this._video;\n  }\n\n  _getViewDimensions() {\n    return {\n      width: this._video.offsetWidth,\n      height: this._video.offsetHeight,\n    };\n  }\n\n  get isDynamicContent() {\n    if (!this.attachedAdapter) {\n      return false;\n    }\n\n    return this.attachedAdapter.isDynamicContent;\n  }\n\n  get isDynamicContentEnded() {\n    if (!this.attachedAdapter) {\n      return false;\n    }\n\n    return this.attachedAdapter.isDynamicContentEnded;\n  }\n\n  get isSeekAvailable() {\n    if (!this.attachedAdapter) {\n      return false;\n    }\n\n    return this.attachedAdapter.isSeekAvailable;\n  }\n\n  get isMetadataLoaded() {\n    return this._stateEngine.isMetadataLoaded;\n  }\n\n  get isPreloadAvailable() {\n    if (isIPad() || isIPhone() || isIPod() || isAndroid()) {\n      return false;\n    }\n\n    return this.getPreload() !== 'none';\n  }\n\n  get isAutoPlayAvailable() {\n    if (isIPad() || isIPhone() || isIPod() || isAndroid()) {\n      return false;\n    }\n\n    return this.getAutoPlay();\n  }\n\n  get isSyncWithLive(): boolean {\n    if (!this.attachedAdapter) {\n      return false;\n    }\n\n    return this.attachedAdapter.isSyncWithLive;\n  }\n\n  get attachedAdapter(): IPlaybackAdapter {\n    return this._adapterStrategy.attachedAdapter;\n  }\n\n  /**\n   * Method for setting source of video to player.\n   * @param src Array with multiple sources\n   * @example\n   * player.setSrc([\n   *   'https://my-url/video.mp4',\n   *   'https://my-url/video.webm',\n   *   'https://my-url/video.m3u8'\n   * ]);\n   * @note\n   * Read more about [video source](/video-source)\n   */\n  @playerAPI()\n  setSrc(src: string[]) {\n    if (src === this._currentSrc) {\n      return;\n    }\n\n    this._stateEngine.clearTimestamps();\n\n    this._currentSrc = src;\n    this._adapterStrategy.connectAdapter(this._currentSrc);\n\n    this._stateEngine.setState(STATES.SRC_SET);\n  }\n\n  /**\n   * Return current source of video\n   * @example\n   * player.getSrc(); // ['https://my-url/video.mp4']\n   */\n  @playerAPI()\n  getSrc(): string[] {\n    return this._currentSrc;\n  }\n\n  /**\n   * Method for starting playback of video\n   * @example\n   * player.play();\n   */\n  @playerAPI()\n  play() {\n    //Workaround for triggering functionality that requires user event pipe\n    this._eventEmitter.emit(VIDEO_EVENTS.PLAY_REQUEST_TRIGGERED);\n\n    this._pauseRequested = false;\n\n    if (!this._playPromise) {\n      this._playPromise = this._video.play();\n      if (this._playPromise !== undefined) {\n        this._playPromise\n          .then(() => {\n            this._playPromise = null;\n\n            if (this._pauseRequested) {\n              this.pause();\n            }\n          })\n          .catch(event => {\n            this._eventEmitter.emit(VIDEO_EVENTS.PLAY_ABORTED, event);\n            this._playPromise = null;\n          });\n      }\n    }\n  }\n\n  /**\n   * Method for pausing playback of video\n   * @example\n   * player.pause();\n   */\n  @playerAPI()\n  pause() {\n    if (this._playPromise) {\n      this._pauseRequested = true;\n    } else {\n      this._video.pause();\n      this._pauseRequested = false;\n    }\n  }\n\n  /**\n   * Method for toggling(play\\pause) playback of video\n   * @example\n   * player.togglePlayback();\n   */\n  @playerAPI()\n  togglePlayback() {\n    if (this.isVideoPaused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  /**\n   * High level status of video playback. Returns true if playback is paused.\n   * For more advance state use `getCurrentPlaybackState`\n   * @example\n   * player.play();\n   * console.log(player.isVideoPaused);\n   */\n  @playerAPI()\n  get isVideoPaused(): boolean {\n    return this._video.paused;\n  }\n\n  /**\n   * High level status of video playback. Returns true if playback is ended. Also note, that `isPaused` will return `true` if playback is ended also.\n   * For more advance state use `getCurrentPlaybackState`\n   * @example\n   * player.play();\n   * console.log(player.isVideoEnded);\n   */\n  @playerAPI()\n  get isVideoEnded(): boolean {\n    return this._video.ended;\n  }\n\n  /**\n   * Method for synchronize current playback with live point. Available only if you playing live source.\n   * @example\n   * player.syncWithLive();\n   */\n  @playerAPI()\n  syncWithLive() {\n    if (\n      this.attachedAdapter &&\n      this.attachedAdapter.isDynamicContent &&\n      !this.attachedAdapter.isDynamicContentEnded &&\n      !this.isSyncWithLive\n    ) {\n      this.setCurrentTime(this.attachedAdapter.syncWithLiveTime);\n\n      this.play();\n    }\n  }\n\n  /**\n   * Method for going forward in playback by your value\n   * @param sec - Value in seconds\n   * @example\n   * player.goForward(5);\n   */\n  @playerAPI()\n  goForward(sec: number) {\n    const duration = this.getDurationTime();\n\n    if (duration) {\n      const current = this.getCurrentTime();\n      this.setCurrentTime(Math.min(current + sec, duration));\n    }\n  }\n\n  /**\n   * Method for going backward in playback by your value\n   * @param sec - Value in seconds\n   * @example\n   * player.goBackward(5);\n   */\n  @playerAPI()\n  goBackward(sec: number) {\n    const duration = this.getDurationTime();\n\n    if (duration) {\n      const current = this.getCurrentTime();\n      this.setCurrentTime(Math.max(current - sec, 0));\n    }\n  }\n\n  /**\n   * Set volume\n   * @param volume - Volume value `0..100`\n   * @example\n   * player.setVolume(50);\n   */\n  @playerAPI()\n  setVolume(volume: number) {\n    const parsedVolume = Number(volume);\n    this._video.volume = isNaN(parsedVolume)\n      ? 1\n      : Math.max(0, Math.min(Number(volume) / 100, 1));\n  }\n\n  /**\n   * Get volume\n   * @example\n   * player.getVolume(); // 50\n   */\n  @playerAPI()\n  getVolume(): number {\n    return this._video.volume * 100;\n  }\n\n  /**\n   * Method for increasing current volume by value\n   * @param value - Value from 0 to 100\n   * @example\n   * player.increaseVolume(30);\n   */\n  @playerAPI()\n  increaseVolume(value: number) {\n    this.setVolume(this.getVolume() + value);\n  }\n\n  /**\n   * Method for decreasing current volume by value\n   * @param value - Value from 0 to 100\n   * @example\n   * player.decreaseVolume(30);\n   */\n  @playerAPI()\n  decreaseVolume(value: number) {\n    this.setVolume(this.getVolume() - value);\n  }\n\n  /**\n   * Mute or unmute the video\n   * @param isMuted - `true` to mute the video.\n   * @example\n   * player.setMute(true);\n   */\n  @playerAPI()\n  setMute(isMuted: boolean) {\n    this._video.muted = Boolean(isMuted);\n  }\n\n  /**\n   * Get mute flag\n   * @example\n   * player.getMute(); // true\n   */\n  @playerAPI()\n  getMute(): boolean {\n    return this._video.muted;\n  }\n\n  /**\n   * Set autoPlay flag\n   * @example\n   * player.setAutoPlay();\n   */\n  @playerAPI()\n  setAutoPlay(isAutoPlay: boolean) {\n    this._video.autoplay = Boolean(isAutoPlay);\n  }\n\n  /**\n   * Get autoPlay flag\n   * @example\n   * player.getAutoPlay(); // true\n   */\n  @playerAPI()\n  getAutoPlay(): boolean {\n    return this._video.autoplay;\n  }\n\n  /**\n   * Set loop flag\n   * @param isLoop - If `true` video will be played again after it will finish\n   * @example\n   * player.setLoop(true);\n   */\n  @playerAPI()\n  setLoop(isLoop: boolean) {\n    this._video.loop = Boolean(isLoop);\n  }\n\n  /**\n   * Get loop flag\n   * @example\n   * player.getLoop(); // true\n   */\n  @playerAPI()\n  getLoop(): boolean {\n    return this._video.loop;\n  }\n\n  /**\n   * Method for setting playback rate\n   */\n  @playerAPI()\n  setPlaybackRate(rate: number) {\n    this._video.playbackRate = rate;\n  }\n\n  /**\n   * Return current playback rate\n   */\n  @playerAPI()\n  getPlaybackRate(): number {\n    return this._video.playbackRate;\n  }\n\n  /**\n   * Set preload type\n   * @example\n   * player.setPreload('none');\n   */\n  @playerAPI()\n  setPreload(preload: 'auto' | 'metadata' | 'none') {\n    this._video.preload = preload || 'auto';\n  }\n\n  /**\n   * Return preload type\n   * @example\n   * player.getPreload(); // none\n   */\n  @playerAPI()\n  getPreload(): string {\n    return this._video.preload;\n  }\n\n  /**\n   * Return current time of video playback\n   * @example\n   * player.getCurrentTime(); //  60.139683\n   */\n  @playerAPI()\n  getCurrentTime(): number {\n    return this._video.currentTime;\n  }\n\n  /**\n   * Method for seeking to time in video\n   * @param time - Time in seconds\n   * @example\n   * player.goTo(34);\n   */\n  @playerAPI('goTo')\n  setCurrentTime(time: number) {\n    this._video.currentTime = time;\n  }\n\n  /**\n   * Return duration of video\n   * @example\n   * player.getDurationTime(); // 180.149745\n   */\n  @playerAPI()\n  getDurationTime(): number {\n    return this._video.duration || 0;\n  }\n\n  /**\n   * Return real width of video from metadata\n   * @example\n   * player.getVideoWidth(); // 400\n   */\n  @playerAPI('getVideoRealWidth')\n  getVideoWidth(): number {\n    return this._video.videoWidth;\n  }\n\n  /**\n   * Return real height of video from metadata\n   * @example\n   * player.getVideoHeight(); // 225\n   */\n  @playerAPI('getVideoRealHeight')\n  getVideoHeight(): number {\n    return this._video.videoHeight;\n  }\n\n  getBuffered() {\n    return this._video.buffered;\n  }\n\n  /**\n   * Set playInline flag\n   * @param isPlayInline - If `false` - video will be played in full screen, `true` - inline\n   * @example\n   * player.setPlayInline(true);\n   */\n  @playerAPI()\n  setPlayInline(isPlayInline: boolean) {\n    if (isPlayInline) {\n      this._video.setAttribute('playsInline', String(isPlayInline));\n    }\n  }\n\n  /**\n   * Get playInline flag\n   * @example\n   * player.getPlayInline(); // true\n   */\n  @playerAPI()\n  getPlayInline(): boolean {\n    return this._video.getAttribute('playsInline') === 'true';\n  }\n\n  /**\n   * Return current state of playback\n   */\n  @playerAPI('getCurrentPlaybackState')\n  getCurrentState() {\n    return this._stateEngine.getState();\n  }\n\n  /**\n   * Return object with internal debug info\n   *\n   * @example\n   * player.getDebugInfo();\n   *\n   * @note\n   * The above command returns JSON structured like this:\n   *\n   * @example\n   * {\n   *   \"type\": \"HLS\",\n   *   \"viewDimensions\": {\n   *     \"width\": 700,\n   *     \"height\": 394\n   *   }\n   *   \"url\": \"https://example.com/video.m3u8\",\n   *   \"currentTime\": 22.092514,\n   *   \"duration\": 60.139683,\n   *   \"loadingStateTimestamps\": {\n   *     \"metadata-loaded\": 76,\n   *     \"ready-to-play\": 67\n   *   },\n   *   \"bitrates\": [\n   *     // Different for different type of streams\n   *     { ... },\n   *     { ... }\n   *   ],\n   *   \"currentBitrate\": { ... },\n   *   \"overallBufferLength\": 60.139683,\n   *   \"nearestBufferSegInfo\": {\n   *     \"start\": 0,\n   *     \"end\": 60.139683\n   *   }\n   * }\n   */\n  @playerAPI()\n  getDebugInfo(): DebugInfo {\n    const { duration, currentTime } = this._video;\n    let data;\n\n    if (this._adapterStrategy.attachedAdapter) {\n      data = this._adapterStrategy.attachedAdapter.debugInfo;\n    }\n\n    return {\n      ...data,\n      viewDimensions: this._getViewDimensions(),\n      currentTime,\n      duration,\n      loadingStateTimestamps: this._stateEngine.getStateTimestamps(),\n    };\n  }\n\n  destroy() {\n    this._stateEngine.destroy();\n    this._nativeEventsBroadcaster.destroy();\n    this._adapterStrategy.destroy();\n    this._video.parentNode && this._video.parentNode.removeChild(this._video);\n\n    delete this._stateEngine;\n    delete this._nativeEventsBroadcaster;\n    delete this._adapterStrategy;\n    delete this._eventEmitter;\n    delete this._video;\n  }\n}\n","const SHORTHAND_HEX_COLOR_PATTERN = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\nconst HEX_COLOR_PATTERN = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n\ntype IRGB = {\n  r: number;\n  g: number;\n  b: number;\n};\n\nfunction hexToRgb(hex: string): IRGB {\n  hex = hex.replace(\n    SHORTHAND_HEX_COLOR_PATTERN,\n    (_, r, g, b) => r + r + g + g + b + b,\n  );\n\n  const result = hex.match(HEX_COLOR_PATTERN);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\nexport default hexToRgb;\n","import hexToRgb from './hexToRgb';\n\nfunction transperentizeColor(color, alpha) {\n  const { r, g, b } = hexToRgb(color);\n  return `rgba(${r},${g},${b},${alpha})`;\n}\n\nexport default transperentizeColor;\n","function camelToKebab(string: string): string {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\nexport default camelToKebab;\n","import camelToKebab from './camelToKebab';\n\nconst generatedIds: Map<string, number> = new Map();\n\nfunction getUniquePostfix(className): string {\n  if (generatedIds.has(className)) {\n    const newID: number = generatedIds.get(className) + 1;\n    generatedIds.set(className, newID);\n\n    return `${newID}`;\n  }\n\n  generatedIds.set(className, 0);\n  return '';\n}\n\nfunction getUniqueId(classImportName: string): string {\n  const kebabName: string = camelToKebab(classImportName);\n\n  return `${kebabName}${getUniquePostfix(kebabName)}`;\n}\n\nexport default getUniqueId;\n","import getUniqueId from './getUniqueId';\n\nimport { IStyles } from '../../types';\nimport { ICSSRules } from '../types';\n\nfunction getUniqueClassName(classImportName: string) {\n  return `wix-playable--${getUniqueId(classImportName)}`;\n}\n\nfunction generateClassNames(rules: ICSSRules): IStyles {\n  return Object.keys(rules).reduce(\n    (acc, classImportName) => ({\n      ...acc,\n      [classImportName]: getUniqueClassName(classImportName),\n    }),\n    {},\n  );\n}\n\nexport default generateClassNames;\n","import camelToKebab from './utils/camelToKebab';\nimport generateClassNames from './utils/generateClassNames';\n\nimport { IStyles } from '../types';\nimport { ICSSRuleFunction, ICSSRules, ICSSRule } from './types';\n\nexport class StyleSheet {\n  private _rulesByModule: Map<object, ICSSRules> = new Map();\n  private _classNamesByModule: Map<object, IStyles> = new Map();\n  private _data: any = {};\n  private _styleNode: Element;\n\n  attach() {\n    this._styleNode = this._styleNode || document.createElement('style');\n\n    const discoveredStyles = [];\n    this._rulesByModule.forEach((_, module) => {\n      discoveredStyles.push(this._getModuleCSS(module));\n    });\n\n    this._styleNode.innerHTML = discoveredStyles.join(' ');\n\n    document.getElementsByTagName('head')[0].appendChild(this._styleNode);\n  }\n\n  update(data: any) {\n    this._data = {\n      ...this._data,\n      ...data,\n    };\n\n    if (this._styleNode) {\n      this.attach();\n    }\n  }\n\n  registerModuleTheme(module: object, rules: ICSSRules) {\n    //todo maybe we would like to update overrides for module? Or at least show warning instead of Error\n    if (this._rulesByModule.get(module)) {\n      throw new Error('can`t register multiple themes for one module');\n    }\n\n    this._rulesByModule.set(module, rules);\n    this._classNamesByModule.set(module, generateClassNames(rules));\n  }\n\n  getModuleClassNames(module): IStyles {\n    return this._classNamesByModule.get(module);\n  }\n\n  private _getModuleCSS(module): string {\n    const moduleRules = this._rulesByModule.get(module);\n    const moduleClassNames = this._classNamesByModule.get(module);\n\n    if (!moduleRules || !moduleClassNames) {\n      return '';\n    }\n\n    return Object.keys(moduleRules)\n      .map(classImportName =>\n        this._getRuleCSS(\n          moduleRules[classImportName],\n          moduleClassNames[classImportName],\n        ),\n      )\n      .join(' ');\n  }\n\n  private _getRuleCSS(rule: ICSSRule, ruleClassName: string): string {\n    if (!rule || !ruleClassName) {\n      return '';\n    }\n\n    const complexRuleNames = Object.keys(rule)\n      .filter(ruleName => typeof rule[ruleName] === 'object')\n      .map(\n        ruleName => (ruleName.indexOf('&') !== -1 ? ruleName : `& ${ruleName}`),\n      );\n\n    const complexRules = complexRuleNames\n      .map(ruleName => {\n        const selector = ruleName.replace(/&/g, `.${ruleClassName}`);\n        //don't want to allow deep nesting now, maybe later\n        return `${selector} {${this._getRuleStyles(rule[ruleName])}}`;\n      })\n      .join(' ');\n\n    return `.${ruleClassName} {${this._getRuleStyles(rule)}} ${complexRules}`;\n  }\n\n  private _getRuleStyles(rule) {\n    const simpleRuleNames: Array<string> = Object.keys(rule).filter(\n      ruleName => typeof rule[ruleName] !== 'object',\n    );\n\n    return simpleRuleNames\n      .map(\n        ruleName =>\n          `${camelToKebab(ruleName)}: ${\n            typeof rule[ruleName] === 'function'\n              ? (rule[ruleName] as ICSSRuleFunction)(this._data)\n              : rule[ruleName]\n          }`,\n      )\n      .join('; ');\n  }\n}\n","import { StyleSheet } from './style-sheet';\n\nimport playerAPI from '../../../../utils/player-api-decorator';\n\nimport { IStyles } from '../types';\nimport { ICSSRules, IThemeConfig } from './types';\n\nconst DEFAULT_THEME_CONFIG = {\n  color: '#FFF',\n  liveColor: '#ea492e',\n  progressColor: '#FFF',\n};\n\ninterface IThemeService {\n  updateTheme(IThemeConfig): void;\n  registerModuleTheme(module: object, rules: ICSSRules): void;\n  get(module: object): IStyles;\n  destroy(): void;\n}\n\nclass ThemeService implements IThemeService {\n  static moduleName = 'theme';\n  static dependencies = ['themeConfig'];\n\n  private _styleSheet: StyleSheet;\n\n  constructor({ themeConfig }) {\n    this._styleSheet = new StyleSheet();\n\n    this._styleSheet.update({\n      ...DEFAULT_THEME_CONFIG,\n      ...themeConfig,\n    });\n\n    // setTimeout here is for calling `attach` after all modules resolved.\n    setTimeout(() => {\n      this._styleSheet && this._styleSheet.attach();\n    }, 0);\n  }\n\n  /**\n   * Method for setting theme for player instance\n   *\n   * @example\n   * player.updateTheme({\n   *   progressColor: \"#AEAD22\"\n   * })\n   * @note\n   *\n   * You can check info about theming [here](/themes)\n   *\n   * @param themeConfig - Theme config\n   *\n   */\n  @playerAPI()\n  updateTheme(themeConfig: IThemeConfig) {\n    this._styleSheet.update(themeConfig);\n  }\n\n  registerModuleTheme(module: object, rules: ICSSRules) {\n    this._styleSheet.registerModuleTheme(module, rules);\n  }\n\n  get(module) {\n    return this._styleSheet.getModuleClassNames(module);\n  }\n\n  destroy() {\n    delete this._styleSheet;\n  }\n}\n\nexport { DEFAULT_THEME_CONFIG, IThemeService };\n\nexport default ThemeService;\n","import { TEXT_LABELS } from '../../constants';\n\nconst map = {\n  [TEXT_LABELS.LOGO_LABEL]: 'Watch On Site',\n  [TEXT_LABELS.LOGO_TOOLTIP]: 'Watch On Site',\n  [TEXT_LABELS.LIVE_INDICATOR_TEXT]: ({ isEnded }) =>\n    !isEnded ? 'Live' : 'Live Ended',\n  [TEXT_LABELS.LIVE_SYNC_LABEL]: 'Sync to Live',\n  [TEXT_LABELS.LIVE_SYNC_TOOLTIP]: 'Sync to Live',\n  [TEXT_LABELS.PAUSE_CONTROL_LABEL]: 'Pause',\n  [TEXT_LABELS.PLAY_CONTROL_LABEL]: 'Play',\n  [TEXT_LABELS.PROGRESS_CONTROL_LABEL]: 'Progress control',\n  [TEXT_LABELS.PROGRESS_CONTROL_VALUE]: ({ percent }) =>\n    `Already played ${percent}%`,\n  [TEXT_LABELS.MUTE_CONTROL_LABEL]: 'Mute',\n  [TEXT_LABELS.MUTE_CONTROL_TOOLTIP]: 'Mute',\n  [TEXT_LABELS.UNMUTE_CONTROL_LABEL]: 'Unmute',\n  [TEXT_LABELS.UNMUTE_CONTROL_TOOLTIP]: 'Unmute',\n  [TEXT_LABELS.VOLUME_CONTROL_LABEL]: 'Volume control',\n  [TEXT_LABELS.VOLUME_CONTROL_VALUE]: ({ volume }) => `Volume is ${volume}%`,\n  [TEXT_LABELS.ENTER_FULL_SCREEN_LABEL]: 'Enter full screen mode',\n  [TEXT_LABELS.ENTER_FULL_SCREEN_TOOLTIP]: 'Enter full screen mode',\n  [TEXT_LABELS.EXIT_FULL_SCREEN_LABEL]: 'Exit full screen mode',\n  [TEXT_LABELS.EXIT_FULL_SCREEN_TOOLTIP]: 'Exit full screen mode',\n};\n\nexport default map;\n","import DEFAULT_TEXTS from './default-texts';\n\nexport interface ITextMapConfig {\n  [index: string]: string | Function;\n}\n\nexport default class TextMap {\n  static moduleName = 'textMap';\n  static dependencies = ['config'];\n\n  private _textMap;\n\n  constructor({ config }) {\n    this._textMap = {\n      ...DEFAULT_TEXTS,\n      ...config.texts,\n    };\n  }\n\n  get(id, args) {\n    if (!this._textMap) {\n      return;\n    }\n\n    const text = this._textMap[id];\n\n    if (typeof text === 'function') {\n      return text(args);\n    }\n\n    return text;\n  }\n\n  destroy() {\n    delete this._textMap;\n  }\n}\n","const fnMap = [\n  [\n    'requestFullscreen',\n    'exitFullscreen',\n    'fullscreenElement',\n    'fullscreenEnabled',\n    'fullscreenchange',\n    'fullscreenerror',\n  ],\n  // new WebKit\n  [\n    'webkitRequestFullscreen',\n    'webkitExitFullscreen',\n    'webkitFullscreenElement',\n    'webkitFullscreenEnabled',\n    'webkitfullscreenchange',\n    'webkitfullscreenerror',\n  ],\n  // old WebKit (Safari 5.1)\n  [\n    'webkitRequestFullScreen',\n    'webkitCancelFullScreen',\n    'webkitCurrentFullScreenElement',\n    'webkitCancelFullScreen',\n    'webkitfullscreenchange',\n    'webkitfullscreenerror',\n  ],\n  [\n    'mozRequestFullScreen',\n    'mozCancelFullScreen',\n    'mozFullScreenElement',\n    'mozFullScreenEnabled',\n    'mozfullscreenchange',\n    'mozfullscreenerror',\n  ],\n  [\n    'msRequestFullscreen',\n    'msExitFullscreen',\n    'msFullscreenElement',\n    'msFullscreenEnabled',\n    'MSFullscreenChange',\n    'MSFullscreenError',\n  ],\n];\n\n/* ignore coverage */\nfunction getFullScreenFn() {\n  const ret = {};\n\n  for (let i = 0; i < fnMap.length; i += 1) {\n    if (fnMap[i][1] in document) {\n      for (let j = 0; j < fnMap[i].length; j += 1) {\n        ret[fnMap[0][j]] = fnMap[i][j];\n      }\n      return ret;\n    }\n  }\n\n  return false;\n}\n\nexport default class DesktopFullScreen {\n  private _elem;\n  private _callback;\n  private _fullscreenFn;\n\n  constructor(elem, callback) {\n    this._elem = elem;\n    this._callback = callback;\n    this._fullscreenFn = getFullScreenFn();\n\n    this._bindEvents();\n  }\n\n  get isAPIExist() {\n    return Boolean(this._fullscreenFn);\n  }\n\n  get isInFullScreen() {\n    return Boolean(document[this._fullscreenFn.fullscreenElement]);\n  }\n\n  get isEnabled() {\n    return this.isAPIExist && document[this._fullscreenFn.fullscreenEnabled];\n  }\n\n  _bindEvents() {\n    document.addEventListener(\n      this._fullscreenFn.fullscreenchange,\n      this._callback,\n    );\n  }\n\n  _unbindEvents() {\n    document.removeEventListener(\n      this._fullscreenFn.fullscreenchange,\n      this._callback,\n    );\n  }\n\n  request() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    const request = this._fullscreenFn.requestFullscreen;\n\n    // Work around Safari 5.1 bug: reports support for\n    // keyboard in fullscreen even though it doesn't.\n    // Browser sniffing, since the alternative with\n    // setTimeout is even worse.\n\n    if (/5\\.1[.\\d]* Safari/.test(navigator.userAgent)) {\n      this._elem[request]();\n    } else {\n      this._elem[request]((Element as any).ALLOW_KEYBOARD_INPUT);\n    }\n  }\n\n  exit() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    document[this._fullscreenFn.exitFullscreen]();\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    delete this._elem;\n    delete this._callback;\n  }\n}\n","const HAVE_METADATA = 1;\n\nlet isFullScreenRequested = false;\n\nexport default class IOSFullScreen {\n  private _elem;\n  private _callback;\n\n  constructor(elem, callback) {\n    this._elem = elem;\n    this._callback = callback;\n\n    this._bindEvents();\n\n    this._enterWhenHasMetaData = this._enterWhenHasMetaData.bind(this);\n  }\n\n  get isAPIExist() {\n    return Boolean(this._elem && this._elem.webkitSupportsFullscreen);\n  }\n\n  get isInFullScreen() {\n    return Boolean(this._elem && this._elem.webkitDisplayingFullscreen);\n  }\n\n  get isEnabled() {\n    return this.isAPIExist;\n  }\n\n  _bindEvents() {\n    this._elem.addEventListener('webkitbeginfullscreen', this._callback);\n    this._elem.addEventListener('webkitendfullscreen', this._callback);\n  }\n\n  _unbindEvents() {\n    this._elem.removeEventListener('webkitbeginfullscreen', this._callback);\n    this._elem.removeEventListener('webkitendfullscreen', this._callback);\n\n    this._elem.removeEventListener(\n      'loadedmetadata',\n      this._enterWhenHasMetaData,\n    );\n  }\n\n  _enterWhenHasMetaData() {\n    this._elem.removeEventListener(\n      'loadedmetadata',\n      this._enterWhenHasMetaData,\n    );\n\n    isFullScreenRequested = false;\n\n    this._elem.webkitEnterFullscreen();\n  }\n\n  request() {\n    if (!this.isEnabled || this.isInFullScreen) {\n      return false;\n    }\n\n    try {\n      this._elem.webkitEnterFullscreen();\n    } catch (e) {\n      if (this._elem.readyState < HAVE_METADATA) {\n        if (isFullScreenRequested) {\n          return;\n        }\n        this._elem.addEventListener(\n          'loadedmetadata',\n          this._enterWhenHasMetaData,\n        );\n        isFullScreenRequested = true;\n      }\n    }\n  }\n\n  exit() {\n    if (!this.isEnabled || !this.isInFullScreen) {\n      return false;\n    }\n\n    this._elem.webkitExitFullscreen();\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    delete this._elem;\n    delete this._callback;\n  }\n}\n","import { isIOS } from '../../utils/device-detection';\nimport playerAPI from '../../utils/player-api-decorator';\nimport DesktopFullScreen from './desktop';\nimport IOSFullScreen from './ios';\n\nimport { VIDEO_EVENTS, UI_EVENTS, STATES } from '../../constants/index';\n\nexport interface IFullScreenConfig {\n  exitFullScreenOnEnd?: boolean;\n  enterFullScreenOnPlay?: boolean;\n  exitFullScreenOnPause?: boolean;\n  pauseVideoOnFullScreenExit?: boolean;\n}\n\nconst DEFAULT_CONFIG: IFullScreenConfig = {\n  exitFullScreenOnEnd: true,\n  enterFullScreenOnPlay: false,\n  exitFullScreenOnPause: false,\n  pauseVideoOnFullScreenExit: false,\n};\n\nexport default class FullScreenManager {\n  static moduleName = 'fullScreenManager';\n  static dependencies = ['eventEmitter', 'engine', 'rootContainer', 'config'];\n\n  private _eventEmitter;\n  private _engine;\n  private _helper;\n\n  private _exitFullScreenOnEnd: boolean = false;\n  private _enterFullScreenOnPlay: boolean = false;\n  private _exitFullScreenOnPause: boolean = false;\n  private _pauseVideoOnFullScreenExit: boolean = false;\n\n  private _isEnabled: boolean;\n\n  constructor({ eventEmitter, engine, rootContainer, config }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n\n    if (config.fullScreen === false) {\n      this._isEnabled = false;\n    } else {\n      this._isEnabled = true;\n      const _config: IFullScreenConfig = {\n        ...DEFAULT_CONFIG,\n        ...config.fullScreen,\n      };\n\n      this._exitFullScreenOnEnd = _config.exitFullScreenOnEnd;\n      this._enterFullScreenOnPlay = _config.enterFullScreenOnPlay;\n      this._exitFullScreenOnPause = _config.exitFullScreenOnPause;\n      this._pauseVideoOnFullScreenExit = _config.pauseVideoOnFullScreenExit;\n    }\n    this._onChange = this._onChange.bind(this);\n\n    if (isIOS()) {\n      this._helper = new IOSFullScreen(this._engine.getNode(), this._onChange);\n    } else {\n      this._helper = new DesktopFullScreen(rootContainer.node, this._onChange);\n    }\n\n    this._bindEvents();\n  }\n\n  _onChange() {\n    if (!this._helper.isInFullScreen && this._pauseVideoOnFullScreenExit) {\n      this._engine.pause();\n    }\n    this._eventEmitter.emit(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this._helper.isInFullScreen,\n    );\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._processNextStateFromEngine,\n      this,\n    );\n    this._eventEmitter.on(\n      VIDEO_EVENTS.PLAY_REQUEST_TRIGGERED,\n      this._enterOnPlayRequested,\n      this,\n    );\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._processNextStateFromEngine,\n      this,\n    );\n    this._eventEmitter.off(\n      VIDEO_EVENTS.PLAY_REQUEST_TRIGGERED,\n      this._enterOnPlayRequested,\n      this,\n    );\n  }\n\n  _exitOnEnd() {\n    if (this._exitFullScreenOnEnd && this.isInFullScreen) {\n      this.exitFullScreen();\n    }\n  }\n\n  _enterOnPlayRequested() {\n    if (this._enterFullScreenOnPlay && !this.isInFullScreen) {\n      this.enterFullScreen();\n    }\n  }\n\n  _exitOnPauseRequested() {\n    if (this._exitFullScreenOnPause && this.isInFullScreen) {\n      this.exitFullScreen();\n    }\n  }\n\n  _processNextStateFromEngine({ nextState }) {\n    switch (nextState) {\n      case STATES.ENDED: {\n        this._exitOnEnd();\n        break;\n      }\n      case STATES.PAUSED: {\n        this._exitOnPauseRequested();\n        break;\n      }\n\n      /* ignore coverage */\n      default:\n        break;\n    }\n  }\n\n  /**\n   * Player would try to enter fullscreen mode.\n   * Behavior of fullscreen mode on different platforms may differ.\n   * @example\n   * player.enterFullScreen();\n   */\n  @playerAPI()\n  enterFullScreen() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this._helper.request();\n  }\n\n  /**\n   * Player would try to exit fullscreen mode.\n   * @example\n   * player.exitFullScreen();\n   */\n  @playerAPI()\n  exitFullScreen() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this._helper.exit();\n  }\n\n  /**\n   * Return true if player is in full screen\n   * @example\n   * console.log(player.isInFullScreen); // false\n   */\n  @playerAPI()\n  get isInFullScreen(): boolean {\n    if (!this.isEnabled) {\n      return false;\n    }\n\n    return this._helper.isInFullScreen;\n  }\n\n  get isEnabled() {\n    return this._helper.isEnabled && this._isEnabled;\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this._helper.destroy();\n\n    delete this._eventEmitter;\n    delete this._engine;\n  }\n}\n","import { STATES, VIDEO_EVENTS, LiveState, UI_EVENTS } from '../../constants';\nimport Engine from './playback-engine';\n\nconst SEEK_BY_UI_EVENTS = [\n  UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED,\n  UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\n  UI_EVENTS.PROGRESS_CHANGE_TRIGGERED,\n];\n\nclass LiveStateEngine {\n  static moduleName = 'liveStateEngine';\n  static dependencies = ['eventEmitter', 'engine'];\n\n  private _eventEmitter;\n  private _engine: Engine;\n  private _state: LiveState;\n\n  private _isSeekedByUIWhilePlaying: boolean;\n\n  constructor({ eventEmitter, engine }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._state = LiveState.NONE;\n\n    this._isSeekedByUIWhilePlaying = null;\n\n    this._bindEvents();\n  }\n\n  getState(): LiveState {\n    return this._state;\n  }\n\n  private _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._processStateChange,\n      this,\n    );\n\n    SEEK_BY_UI_EVENTS.forEach(event => {\n      this._eventEmitter.on(event, this._processSeekByUI, this);\n    });\n\n    this._eventEmitter.on(\n      VIDEO_EVENTS.DYNAMIC_CONTENT_ENDED,\n      this._onDynamicContentEnded,\n      this,\n    );\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._processStateChange,\n      this,\n    );\n\n    SEEK_BY_UI_EVENTS.forEach(event => {\n      this._eventEmitter.on(event, this._processSeekByUI, this);\n    });\n  }\n\n  private _processStateChange({ prevState, nextState }) {\n    if (nextState === STATES.SRC_SET) {\n      this._setState(LiveState.NONE);\n      return;\n    }\n\n    if (!this._engine.isDynamicContent || this._engine.isDynamicContentEnded) {\n      return;\n    }\n\n    switch (nextState) {\n      case STATES.METADATA_LOADED:\n        this._setState(LiveState.INITIAL);\n        break;\n\n      case STATES.PLAY_REQUESTED:\n        if (this._state === LiveState.INITIAL) {\n          this._engine.syncWithLive();\n        }\n        break;\n\n      case STATES.PLAYING:\n        // NOTE: skip PLAYING event after events like `WAITING` and other not important events.\n        if (\n          this._state === LiveState.INITIAL ||\n          this._state === LiveState.NOT_SYNC ||\n          this._isSeekedByUIWhilePlaying\n        ) {\n          this._setState(\n            this._engine.isSyncWithLive ? LiveState.SYNC : LiveState.NOT_SYNC,\n          );\n          this._isSeekedByUIWhilePlaying = false;\n        }\n        break;\n\n      case STATES.PAUSED:\n        // NOTE: process `PAUSED` event only `PLAYING`, to be sure its not related with `WAITING` events\n        if (prevState === STATES.PLAYING) {\n          this._setState(LiveState.NOT_SYNC);\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private _processSeekByUI() {\n    if (\n      this._engine.isDynamicContent &&\n      this._engine.getCurrentState() === STATES.PLAYING\n    ) {\n      // NOTE: flag should be handled on `PLAYING` state in `_processStateChange`\n      this._isSeekedByUIWhilePlaying = true;\n    }\n  }\n\n  private _onDynamicContentEnded() {\n    this._setState(LiveState.ENDED);\n  }\n\n  private _setState(state) {\n    if (this._state !== state) {\n      const prevState = this._state;\n      const nextState = state;\n\n      this._state = state;\n      this._eventEmitter.emit(VIDEO_EVENTS.LIVE_STATE_CHANGED, {\n        prevState,\n        nextState,\n      });\n    }\n  }\n\n  destroy() {\n    this._eventEmitter = null;\n    this._engine = null;\n    this._state = null;\n  }\n}\n\nexport default LiveStateEngine;\n","export const KEYCODES = {\n  SPACE_BAR: 32,\n  ENTER: 13,\n  TAB: 9,\n  LEFT_ARROW: 37,\n  RIGHT_ARROW: 39,\n  UP_ARROW: 38,\n  DOWN_ARROW: 40,\n  DEBUG_KEY: 68,\n};\n\nexport default class KeyboardInterceptorCore {\n  private config;\n\n  constructor(config) {\n    this.config = config;\n    this._bindCallbacks();\n    this._bindEvents();\n  }\n\n  _bindCallbacks() {\n    this._processKeyboardInput = this._processKeyboardInput.bind(this);\n  }\n\n  _bindEvents() {\n    this.config.node.addEventListener(\n      'keydown',\n      this._processKeyboardInput,\n      false,\n    );\n  }\n\n  _unbindEvents() {\n    this.config.node.removeEventListener(\n      'keydown',\n      this._processKeyboardInput,\n      false,\n    );\n  }\n\n  _processKeyboardInput(e) {\n    if (this.config.callbacks[e.keyCode]) {\n      this.config.callbacks[e.keyCode](e);\n    }\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    delete this.config;\n  }\n}\n","import { UI_EVENTS } from '../../constants/index';\nimport {\n  isIPhone,\n  isIPod,\n  isIPad,\n  isAndroid,\n} from '../../utils/device-detection';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../utils/keyboard-interceptor';\n\nexport const AMOUNT_TO_SKIP_SECONDS = 5;\nexport const AMOUNT_TO_CHANGE_VOLUME = 10;\n\nexport default class KeyboardControl {\n  static moduleName = 'keyboardControl';\n  static dependencies = [\n    'engine',\n    'eventEmitter',\n    'rootContainer',\n    'config',\n    'debugPanel',\n  ];\n\n  private _isEnabled;\n  private _eventEmitter;\n  private _engine;\n  private _debugPanel;\n  private _rootNode;\n  private _keyboardInterceptor;\n\n  constructor({ config, eventEmitter, rootContainer, engine, debugPanel }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._debugPanel = debugPanel;\n    this._rootNode = rootContainer.node;\n\n    if (isIPhone() || isIPod() || isIPad() || isAndroid()) {\n      this._isEnabled = false;\n    } else {\n      this._isEnabled = config.disableControlWithKeyboard !== false;\n    }\n\n    this.initInterceptor();\n  }\n\n  initInterceptor() {\n    if (this._isEnabled) {\n      this._keyboardInterceptor = new KeyboardInterceptor({\n        node: this._rootNode,\n        callbacks: {\n          [KEYCODES.DEBUG_KEY]: e => {\n            if (e.ctrlKey && e.shiftKey) {\n              this._debugPanel.show();\n            }\n          },\n          [KEYCODES.TAB]: () => {\n            this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          },\n          [KEYCODES.SPACE_BAR]: e => {\n            e.preventDefault();\n            this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n            this._eventEmitter.emit(\n              UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n            );\n            this._engine.togglePlayback();\n          },\n          [KEYCODES.LEFT_ARROW]: e => {\n            if (this._engine.isSeekAvailable) {\n              e.preventDefault();\n              this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n              this._eventEmitter.emit(\n                UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\n              );\n              this._engine.goBackward(AMOUNT_TO_SKIP_SECONDS);\n            }\n          },\n          [KEYCODES.RIGHT_ARROW]: e => {\n            if (this._engine.isSeekAvailable) {\n              e.preventDefault();\n              this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n              this._eventEmitter.emit(\n                UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED,\n              );\n              this._engine.goForward(AMOUNT_TO_SKIP_SECONDS);\n            }\n          },\n          [KEYCODES.UP_ARROW]: e => {\n            e.preventDefault();\n            this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n            this._eventEmitter.emit(\n              UI_EVENTS.INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n            );\n            this._engine.increaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n          },\n          [KEYCODES.DOWN_ARROW]: e => {\n            e.preventDefault();\n            this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n            this._eventEmitter.emit(\n              UI_EVENTS.DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n            );\n            this._engine.decreaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n          },\n        },\n      });\n    }\n  }\n\n  destroyInterceptor() {\n    if (this._keyboardInterceptor) {\n      this._keyboardInterceptor.destroy();\n    }\n  }\n\n  destroy() {\n    this.destroyInterceptor();\n\n    delete this._rootNode;\n    delete this._eventEmitter;\n    delete this._engine;\n    delete this._debugPanel;\n  }\n}\n","import { UI_EVENTS } from '../../constants/index';\n\nexport default class MouseInterceptor {\n  static moduleName = 'mouseInterceptor';\n  static dependencies = ['eventEmitter', 'rootContainer'];\n\n  private _eventEmitter;\n  private _rootNode;\n\n  constructor({ eventEmitter, rootContainer }) {\n    this._eventEmitter = eventEmitter;\n    this._rootNode = rootContainer.node;\n\n    this._bindCallbacks();\n    this._bindEvents();\n  }\n\n  _bindCallbacks() {\n    this._broadcastMouseEnter = this._broadcastMouseEnter.bind(this);\n    this._broadcastMouseMove = this._broadcastMouseMove.bind(this);\n    this._broadcastMouseLeave = this._broadcastMouseLeave.bind(this);\n  }\n\n  _bindEvents() {\n    this._rootNode.addEventListener('mouseenter', this._broadcastMouseEnter);\n    this._rootNode.addEventListener('mousemove', this._broadcastMouseMove);\n    this._rootNode.addEventListener('mouseleave', this._broadcastMouseLeave);\n  }\n\n  _unbindEvents() {\n    this._rootNode.removeEventListener('mouseenter', this._broadcastMouseEnter);\n    this._rootNode.removeEventListener('mousemove', this._broadcastMouseMove);\n    this._rootNode.removeEventListener('mouseleave', this._broadcastMouseLeave);\n  }\n\n  _broadcastMouseEnter() {\n    this._eventEmitter.emit(UI_EVENTS.MOUSE_ENTER_ON_PLAYER_TRIGGERED);\n  }\n\n  _broadcastMouseMove() {\n    this._eventEmitter.emit(UI_EVENTS.MOUSE_MOVE_ON_PLAYER_TRIGGERED);\n  }\n\n  _broadcastMouseLeave() {\n    this._eventEmitter.emit(UI_EVENTS.MOUSE_LEAVE_ON_PLAYER_TRIGGERED);\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    delete this._rootNode;\n    delete this._eventEmitter;\n  }\n}\n","import { IDebugPanelHighlightStyles } from './types';\n\nfunction syntaxHighlight(json, styleNames: IDebugPanelHighlightStyles) {\n  json = json\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n\n  return json.replace(\n    /(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g,\n    match => {\n      let cls = styleNames.number;\n      if (/^\"/.test(match)) {\n        if (/:$/.test(match)) {\n          cls = styleNames.key;\n        } else {\n          cls = styleNames.string;\n        }\n      } else if (/true|false/.test(match)) {\n        cls = styleNames.boolean;\n      } else if (/null/.test(match)) {\n        cls = styleNames.null;\n      }\n      return `<span class=\"${cls}\">${match}</span>`;\n    },\n  );\n}\n\nexport default syntaxHighlight;\n","function getElementByHook(element: HTMLElement, hook: string): HTMLElement {\n  return element.querySelector(`[data-hook=\"${hook}\"]`);\n}\n\nexport default getElementByHook;\n","function toggleNodeClass(\n  node: HTMLElement,\n  className: string,\n  shouldAdd: boolean,\n) {\n  if (shouldAdd) {\n    node.classList.add(className);\n  } else {\n    node.classList.remove(className);\n  }\n}\n\nexport default toggleNodeClass;\n","import View from '../core/view';\nimport { IView } from '../core/types';\n\nimport { debugPanelTemplate } from './templates';\n\nimport syntaxHighlight from './syntaxHighlight';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport {\n  IDebugPanelViewStyles,\n  IDebugPanelViewCallbacks,\n  IDebugPanelViewConfig,\n} from './types';\n\nimport styles from './debug-panel.scss';\n\nclass DebugPanelView extends View<IDebugPanelViewStyles>\n  implements IView<IDebugPanelViewStyles> {\n  private _callbacks: IDebugPanelViewCallbacks;\n\n  private _$node: HTMLElement;\n  private _$infoContainer: HTMLElement;\n  private _$closeButton: HTMLElement;\n\n  constructor(config: IDebugPanelViewConfig) {\n    super();\n    const { callbacks } = config;\n\n    this._callbacks = callbacks;\n\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      debugPanelTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    this._$closeButton = getElementByHook(\n      this._$node,\n      'debug-panel-close-button',\n    );\n    this._$infoContainer = getElementByHook(\n      this._$node,\n      'debug-panel-info-container',\n    );\n  }\n\n  private _bindEvents() {\n    this._$closeButton.addEventListener(\n      'click',\n      this._callbacks.onCloseButtonClick,\n    );\n  }\n\n  private _unbindEvents() {\n    this._$closeButton.removeEventListener(\n      'click',\n      this._callbacks.onCloseButtonClick,\n    );\n  }\n\n  show() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, false);\n  }\n\n  hide() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, true);\n  }\n\n  setInfo(info) {\n    this._$infoContainer.innerHTML = syntaxHighlight(\n      JSON.stringify(info, undefined, 4),\n      this.styleNames,\n    );\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n    delete this._$closeButton;\n    delete this._$infoContainer;\n\n    delete this._callbacks;\n  }\n}\n\nDebugPanelView.extendStyleNames(styles);\n\nexport default DebugPanelView;\n","import { MediaStreamDeliveryPriority } from '../../../constants';\nimport View from './debug-panel.view';\n\nconst UPDATE_TIME = 1000;\n\nexport default class DebugPanel {\n  static moduleName = 'debugPanel';\n  static View = View;\n  static dependencies = ['engine', 'rootContainer'];\n\n  private _engine;\n\n  private _interval;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({ engine, rootContainer }) {\n    this._engine = engine;\n\n    this._bindCallbacks();\n\n    this._initUI();\n\n    this.hide();\n\n    rootContainer.appendComponentNode(this.node);\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _initUI() {\n    this.view = new View({\n      callbacks: {\n        onCloseButtonClick: this.hide,\n      },\n    });\n  }\n\n  _bindCallbacks() {\n    this.updateInfo = this.updateInfo.bind(this);\n    this.hide = this.hide.bind(this);\n  }\n\n  getDebugInfo() {\n    const {\n      url,\n      type,\n      deliveryPriority,\n      currentBitrate,\n      overallBufferLength,\n      nearestBufferSegInfo,\n      viewDimensions,\n      currentTime,\n      duration,\n      loadingStateTimestamps,\n    } = this._engine.getDebugInfo();\n\n    return {\n      url,\n      type,\n      deliveryPriority: MediaStreamDeliveryPriority[deliveryPriority],\n      currentBitrate,\n      overallBufferLength,\n      nearestBufferSegInfo,\n      viewDimensions,\n      currentTime,\n      duration,\n      loadingStateTimestamps,\n    };\n  }\n\n  updateInfo() {\n    this.view.setInfo(this.getDebugInfo());\n  }\n\n  setUpdateInterval() {\n    this.clearUpdateInterval();\n    this._interval = setInterval(this.updateInfo, UPDATE_TIME);\n  }\n\n  clearUpdateInterval() {\n    clearInterval(this._interval);\n  }\n\n  show() {\n    if (this.isHidden) {\n      this.updateInfo();\n      this.setUpdateInterval();\n      this.view.show();\n      this.isHidden = false;\n    }\n  }\n\n  hide() {\n    if (!this.isHidden) {\n      this.clearUpdateInterval();\n      this.view.hide();\n      this.isHidden = true;\n    }\n  }\n\n  destroy() {\n    this.clearUpdateInterval();\n\n    this.view.destroy();\n    delete this.view;\n  }\n}\n","import View from '../core/view';\nimport { IView } from '../core/types';\n\nimport { screenTemplate } from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport {\n  IScreenViewStyles,\n  IScreenViewCallbacks,\n  IScreenViewConfig,\n} from './types';\n\nimport styles from './screen.scss';\n\nclass ScreenView extends View<IScreenViewStyles>\n  implements IView<IScreenViewStyles> {\n  private _isNativeControls: boolean;\n  private _callbacks: IScreenViewCallbacks;\n\n  private _$node: HTMLElement;\n  private _$topBackground: HTMLElement;\n  private _$bottomBackground: HTMLElement;\n\n  constructor(config: IScreenViewConfig) {\n    super();\n    const { callbacks, nativeControls, playbackViewNode } = config;\n\n    this._isNativeControls = nativeControls;\n    this._callbacks = callbacks;\n\n    this._initDOM(playbackViewNode);\n    this._bindEvents();\n  }\n\n  private _initDOM(playbackViewNode: HTMLElement) {\n    this._$node = htmlToElement(\n      screenTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    this._$topBackground = getElementByHook(\n      this._$node,\n      'screen-top-background',\n    );\n    this._$bottomBackground = getElementByHook(\n      this._$node,\n      'screen-bottom-background',\n    );\n\n    if (this._isNativeControls) {\n      playbackViewNode.setAttribute('controls', 'true');\n    }\n\n    playbackViewNode.setAttribute('tabindex', String(-1));\n\n    this._$node.appendChild(playbackViewNode);\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._callbacks.onWrapperMouseClick);\n    this._$node.addEventListener(\n      'dblclick',\n      this._callbacks.onWrapperMouseDblClick,\n    );\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener(\n      'click',\n      this._callbacks.onWrapperMouseClick,\n    );\n    this._$node.removeEventListener(\n      'dblclick',\n      this._callbacks.onWrapperMouseDblClick,\n    );\n  }\n\n  focusOnNode() {\n    this._$node.focus();\n  }\n\n  show() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, false);\n  }\n\n  hide() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, true);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  showTopShadow() {\n    this._$topBackground.classList.add(this.styleNames.visible);\n  }\n\n  hideTopShadow() {\n    this._$topBackground.classList.remove(this.styleNames.visible);\n  }\n\n  showBottomShadow() {\n    if (!this._isNativeControls) {\n      this._$bottomBackground.classList.add(this.styleNames.visible);\n    }\n  }\n\n  hideBottomShadow() {\n    this._$bottomBackground.classList.remove(this.styleNames.visible);\n  }\n\n  appendComponentNode(node) {\n    this._$node.appendChild(node);\n  }\n\n  hideCursor() {\n    this._$node.classList.add(this.styleNames.hiddenCursor);\n  }\n\n  showCursor() {\n    this._$node.classList.remove(this.styleNames.hiddenCursor);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n    delete this._$topBackground;\n    delete this._$bottomBackground;\n\n    delete this._callbacks;\n  }\n}\n\nScreenView.extendStyleNames(styles);\n\nexport default ScreenView;\n","import { UI_EVENTS, STATES } from '../../../constants/index';\n\nimport { IScreenViewConfig } from './types';\nimport View from './screen.view';\n\nconst PLAYBACK_CHANGE_TIMEOUT = 300;\n\nconst DEFAULT_CONFIG = {\n  disableClickProcessing: false,\n  nativeControls: false,\n};\n\nexport interface IScreenConfig {\n  disableClickProcessing?: boolean;\n  nativeControls?: boolean;\n}\n\nexport default class Screen {\n  static moduleName = 'screen';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'eventEmitter',\n    'config',\n    'fullScreenManager',\n    'interactionIndicator',\n    'rootContainer',\n  ];\n\n  private _eventEmitter;\n  private _engine;\n  private _fullScreenManager;\n  private _interactionIndicator;\n\n  private _delayedToggleVideoPlaybackTimeout;\n\n  private _isClickProcessingDisabled: boolean;\n  private _isInFullScreen: boolean;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    config,\n    eventEmitter,\n    engine,\n    fullScreenManager,\n    interactionIndicator,\n    rootContainer,\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._fullScreenManager = fullScreenManager;\n    this._interactionIndicator = interactionIndicator;\n\n    this._isInFullScreen = false;\n    this.isHidden = false;\n\n    this._delayedToggleVideoPlaybackTimeout = null;\n\n    const screenConfig = {\n      ...DEFAULT_CONFIG,\n      ...config.screen,\n    };\n\n    this._isClickProcessingDisabled = screenConfig.disableClickProcessing;\n\n    this._bindCallbacks();\n    this._initUI(screenConfig.nativeControls);\n    this._bindEvents();\n\n    rootContainer.appendComponentNode(this.node);\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _bindCallbacks() {\n    this._processNodeClick = this._processNodeClick.bind(this);\n    this._processNodeDblClick = this._processNodeDblClick.bind(this);\n    this._toggleVideoPlayback = this._toggleVideoPlayback.bind(this);\n  }\n\n  _initUI(isNativeControls) {\n    const config: IScreenViewConfig = {\n      nativeControls: isNativeControls,\n      callbacks: {\n        onWrapperMouseClick: this._processNodeClick,\n        onWrapperMouseDblClick: this._processNodeDblClick,\n      },\n      playbackViewNode: this._engine.getNode(),\n    };\n\n    this.view = new View(config);\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this._setFullScreenStatus,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.PLAY_OVERLAY_TRIGGERED,\n      this.view.focusOnNode,\n      this.view,\n    );\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this._setFullScreenStatus,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.PLAY_OVERLAY_TRIGGERED,\n      this.view.focusOnNode,\n      this.view,\n    );\n  }\n\n  showCursor() {\n    this.view.showCursor();\n  }\n\n  hideCursor() {\n    this.view.hideCursor();\n  }\n\n  showTopShadow() {\n    this.view.showTopShadow();\n  }\n\n  hideTopShadow() {\n    this.view.hideTopShadow();\n  }\n\n  showBottomShadow() {\n    this.view.showBottomShadow();\n  }\n\n  hideBottomShadow() {\n    this.view.hideBottomShadow();\n  }\n\n  private _setFullScreenStatus(isInFullScreen) {\n    this._isInFullScreen = isInFullScreen;\n  }\n\n  private _processNodeClick() {\n    if (this._isClickProcessingDisabled) {\n      return;\n    }\n\n    this._showPlaybackChangeIndicator();\n\n    if (\n      !this._fullScreenManager.isEnabled ||\n      this._fullScreenManager._enterFullScreenOnPlay\n    ) {\n      this._toggleVideoPlayback();\n    } else {\n      this._setDelayedPlaybackToggle();\n    }\n  }\n\n  private _processNodeDblClick() {\n    if (this._isClickProcessingDisabled) {\n      return;\n    }\n\n    if (\n      this._fullScreenManager.isEnabled ||\n      !this._fullScreenManager._enterFullScreenOnPlay\n    ) {\n      if (this._isDelayedPlaybackToggleExist) {\n        this._clearDelayedPlaybackToggle();\n        this._hideDelayedPlaybackChangeIndicator();\n      }\n\n      this._toggleFullScreen();\n    }\n  }\n\n  private _showPlaybackChangeIndicator() {\n    const state = this._engine.getCurrentState();\n\n    if (state === STATES.PLAY_REQUESTED || state === STATES.PLAYING) {\n      this._interactionIndicator.showPause();\n    } else {\n      this._interactionIndicator.showPlay();\n    }\n  }\n\n  private _hideDelayedPlaybackChangeIndicator() {\n    this._interactionIndicator.hideIcons();\n  }\n\n  private _setDelayedPlaybackToggle() {\n    this._clearDelayedPlaybackToggle();\n\n    this._delayedToggleVideoPlaybackTimeout = setTimeout(\n      this._toggleVideoPlayback,\n      PLAYBACK_CHANGE_TIMEOUT,\n    );\n  }\n\n  private _clearDelayedPlaybackToggle() {\n    clearTimeout(this._delayedToggleVideoPlaybackTimeout);\n    this._delayedToggleVideoPlaybackTimeout = null;\n  }\n\n  private get _isDelayedPlaybackToggleExist() {\n    return Boolean(this._delayedToggleVideoPlaybackTimeout);\n  }\n\n  private _toggleVideoPlayback() {\n    this._clearDelayedPlaybackToggle();\n\n    const state = this._engine.getCurrentState();\n\n    if (state === STATES.PLAY_REQUESTED || state === STATES.PLAYING) {\n      this._eventEmitter.emit(UI_EVENTS.PAUSE_WITH_SCREEN_CLICK_TRIGGERED);\n      this._engine.pause();\n    } else {\n      this._eventEmitter.emit(UI_EVENTS.PLAY_WITH_SCREEN_CLICK_TRIGGERED);\n      this._engine.play();\n    }\n  }\n\n  private _toggleFullScreen() {\n    if (this._isInFullScreen) {\n      this._exitFullScreen();\n    } else {\n      this._enterFullScreen();\n    }\n  }\n\n  hide() {\n    if (!this.isHidden) {\n      this.view.hide();\n      this.isHidden = true;\n    }\n  }\n\n  show() {\n    if (this.isHidden) {\n      this.view.show();\n      this.isHidden = false;\n    }\n  }\n\n  private _enterFullScreen() {\n    this._fullScreenManager.enterFullScreen();\n  }\n\n  private _exitFullScreen() {\n    this._fullScreenManager.exitFullScreen();\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this._clearDelayedPlaybackToggle();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._interactionIndicator;\n    delete this._eventEmitter;\n    delete this._engine;\n    delete this._fullScreenManager;\n  }\n}\n","import View from '../core/view';\nimport { IView } from '../core/types';\n\nimport {\n  containerTemplate,\n  playIconTemplate,\n  pauseIconTemplate,\n  forwardIconTemplate,\n  rewindIconTemplate,\n  increaseVolumeIconTemplate,\n  decreaseVolumeIconTemplate,\n  muteIconTemplate,\n} from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\n\nimport { IInteractionIndicatorViewStyles } from './types';\n\nimport styles from './interaction-indicator.scss';\n\nconst SECONDS_COUNT = 5;\n\nclass InteractionIndicatorView extends View<IInteractionIndicatorViewStyles>\n  implements IView<IInteractionIndicatorViewStyles> {\n  private _$node: HTMLElement;\n\n  private _playIcon: string;\n  private _pauseIcon: string;\n  private _forwardIcon: string;\n  private _rewindIcon: string;\n  private _increaseVolumeIcon: string;\n  private _decreaseVolumeIcon: string;\n  private _muteIcon: string;\n\n  constructor() {\n    super();\n\n    this._$node = htmlToElement(\n      containerTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    this._playIcon = playIconTemplate({\n      styles: this.styleNames,\n    });\n    this._pauseIcon = pauseIconTemplate({\n      styles: this.styleNames,\n    });\n    this._forwardIcon = forwardIconTemplate({\n      texts: {\n        SECONDS_COUNT,\n      },\n      styles: this.styleNames,\n    });\n    this._rewindIcon = rewindIconTemplate({\n      texts: {\n        SECONDS_COUNT,\n      },\n      styles: this.styleNames,\n    });\n    this._increaseVolumeIcon = increaseVolumeIconTemplate({\n      styles: this.styleNames,\n    });\n    this._decreaseVolumeIcon = decreaseVolumeIconTemplate({\n      styles: this.styleNames,\n    });\n    this._muteIcon = muteIconTemplate({\n      styles: this.styleNames,\n    });\n  }\n\n  activatePlayIcon() {\n    this._$node.innerHTML = this._playIcon;\n  }\n\n  activatePauseIcon() {\n    this._$node.innerHTML = this._pauseIcon;\n  }\n\n  activateForwardIcon() {\n    this._$node.innerHTML = this._forwardIcon;\n  }\n\n  activateRewindIcon() {\n    this._$node.innerHTML = this._rewindIcon;\n  }\n\n  activateIncreaseVolumeIcon() {\n    this._$node.innerHTML = this._increaseVolumeIcon;\n  }\n\n  activateDecreaseVolumeIcon() {\n    this._$node.innerHTML = this._decreaseVolumeIcon;\n  }\n\n  activateMuteVolumeIcon() {\n    this._$node.innerHTML = this._muteIcon;\n  }\n\n  deactivateIcon() {\n    this._$node.innerHTML = '';\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n  }\n}\n\nInteractionIndicatorView.extendStyleNames(styles);\n\nexport default InteractionIndicatorView;\n","import { UI_EVENTS, STATES } from '../../../constants/index';\n\nimport View from './interaction-indicator.view';\n\nexport default class InteractionIndicator {\n  static moduleName = 'interactionIndicator';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'config', 'rootContainer'];\n\n  private _eventEmitter;\n  private _engine;\n\n  view: View;\n\n  constructor({ eventEmitter, engine, config, rootContainer }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n\n    this._initUI();\n    this._bindEvents();\n\n    rootContainer.appendComponentNode(this.node);\n\n    if (config.showInteractionIndicator === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _initUI() {\n    this.view = new View();\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n      this._showPlaybackChangeIndicator,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\n      this.showRewind,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED,\n      this.showForward,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n      this.showIncreaseVolume,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n      this.showDecreaseVolume,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.MUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n      this.showMute,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n      this.showIncreaseVolume,\n      this,\n    );\n  }\n\n  showPause() {\n    this.view.activatePauseIcon();\n  }\n\n  showPlay() {\n    this.view.activatePlayIcon();\n  }\n\n  showRewind() {\n    this.view.activateRewindIcon();\n  }\n\n  showForward() {\n    this.view.activateForwardIcon();\n  }\n\n  showMute() {\n    this.view.activateMuteVolumeIcon();\n  }\n\n  showIncreaseVolume() {\n    this.view.activateIncreaseVolumeIcon();\n  }\n\n  showDecreaseVolume() {\n    this.view.activateDecreaseVolumeIcon();\n  }\n\n  hideIcons() {\n    this.view.deactivateIcon();\n    this._eventEmitter.emit(UI_EVENTS.HIDE_INTERACTION_INDICATOR_TRIGGERED);\n  }\n\n  show() {\n    this.view.hide();\n  }\n\n  hide() {\n    this.view.show();\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n      this._showPlaybackChangeIndicator,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\n      this.showRewind,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED,\n      this.showForward,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n      this.showIncreaseVolume,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n      this.showDecreaseVolume,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.MUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n      this.showMute,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n      this.showIncreaseVolume,\n      this,\n    );\n  }\n\n  _showPlaybackChangeIndicator() {\n    const state = this._engine.getCurrentState();\n\n    if (state === STATES.PLAY_REQUESTED || state === STATES.PLAYING) {\n      this.view.activatePauseIcon();\n    } else {\n      this.view.activatePlayIcon();\n    }\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this.view.destroy();\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._engine;\n  }\n}\n","export default {\n  overlayPlaySvgFill: {\n    fill: data => data.color,\n  },\n  overlayPlaySvgStroke: {\n    stroke: data => data.color,\n  },\n};\n","import View from '../core/view';\nimport { IView } from '../core/types';\n\nimport { overlayTemplate } from './templates';\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\n\nimport {\n  IOverlayViewConfig,\n  IOverlayViewCallbacks,\n  IOverlayViewStyles,\n} from './types';\n\nimport overlayViewTheme from './overlay.theme';\nimport styles from './overlay.scss';\n\nclass OverlayView extends View<IOverlayViewStyles>\n  implements IView<IOverlayViewStyles> {\n  private _callbacks: IOverlayViewCallbacks;\n\n  private _$node: HTMLElement;\n  private _$content: HTMLElement;\n  private _$playButton: HTMLElement;\n\n  constructor(config: IOverlayViewConfig) {\n    super(config.theme);\n\n    const { callbacks, src } = config;\n\n    this._callbacks = callbacks;\n\n    this._initDOM();\n    this._bindEvents();\n\n    this.setPoster(src);\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      overlayTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      }),\n    );\n\n    this._$content = getElementByHook(this._$node, 'overlay-content');\n    this._$playButton = getElementByHook(this._$node, 'overlay-play-button');\n  }\n\n  private _bindEvents() {\n    this._$playButton.addEventListener('click', this._callbacks.onPlayClick);\n  }\n\n  private _unbindEvents() {\n    this._$playButton.removeEventListener('click', this._callbacks.onPlayClick);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.active);\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.active);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  setPoster(src: string) {\n    this._$content.style.backgroundImage = src ? `url('${src}')` : 'none';\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n    delete this._$content;\n    delete this._$playButton;\n  }\n}\n\nOverlayView.setTheme(overlayViewTheme);\nOverlayView.extendStyleNames(styles);\n\nexport default OverlayView;\n","import { VIDEO_EVENTS, UI_EVENTS, STATES } from '../../../constants/index';\n\nimport playerAPI from '../../../utils/player-api-decorator';\n\nimport View from './overlay.view';\nimport { IOverlayViewConfig } from './types';\n\nexport interface IOverlayConfig {\n  poster?: string;\n}\n\nexport default class Overlay {\n  static moduleName = 'overlay';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'eventEmitter',\n    'config',\n    'rootContainer',\n    'theme',\n  ];\n\n  private _eventEmitter;\n  private _engine;\n  private _theme;\n\n  view: View;\n  isHidden: boolean = false;\n\n  constructor({ config, eventEmitter, engine, rootContainer, theme }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._theme = theme;\n\n    this._bindEvents();\n    this._initUI(config.overlay && config.overlay.poster);\n\n    rootContainer.appendComponentNode(this.node);\n\n    if (config.overlay === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _initUI(poster) {\n    const config: IOverlayViewConfig = {\n      callbacks: {\n        onPlayClick: this._playVideo,\n      },\n      src: poster,\n      theme: this._theme,\n    };\n\n    this.view = new Overlay.View(config);\n  }\n\n  _bindEvents() {\n    this._playVideo = this._playVideo.bind(this);\n\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._updatePlayingStatus,\n      this,\n    );\n  }\n\n  _updatePlayingStatus({ nextState }) {\n    if (nextState === STATES.PLAY_REQUESTED) {\n      this._hideContent();\n    } else if (\n      nextState === STATES.ENDED ||\n      (nextState === STATES.SRC_SET && !this._engine.isPlaying)\n    ) {\n      this._showContent();\n    }\n  }\n\n  _playVideo() {\n    this._engine.play();\n\n    this._eventEmitter.emit(UI_EVENTS.PLAY_OVERLAY_TRIGGERED);\n  }\n\n  private _hideContent() {\n    this.view.hideContent();\n  }\n\n  private _showContent() {\n    this.view.showContent();\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  /**\n   * Method for setting overlay poster\n   * @param src - Source of image\n   * @example\n   * player.setPoster('https://example.com/poster.png');\n   *\n   */\n  @playerAPI()\n  setPoster(src: string) {\n    this.view.setPoster(src);\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._updatePlayingStatus,\n      this,\n    );\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._engine;\n  }\n}\n","import { IView } from '../core/types';\nimport View from '../core/view';\n\nimport { loaderTemplate } from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\n\nimport { ILoaderViewStyles } from './types';\n\nimport styles from './loader.scss';\n\nclass LoaderView extends View<ILoaderViewStyles>\n  implements IView<ILoaderViewStyles> {\n  private _$node: HTMLElement;\n\n  constructor() {\n    super();\n\n    this._$node = htmlToElement(\n      loaderTemplate({\n        styles: this.styleNames,\n      }),\n    );\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.active);\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.active);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n  }\n}\n\nLoaderView.extendStyleNames(styles);\n\nexport default LoaderView;\n","import { VIDEO_EVENTS, UI_EVENTS, STATES } from '../../../constants/index';\n\nimport View from './loader.view';\n\nexport const DELAYED_SHOW_TIMEOUT = 100;\n\nexport default class Loader {\n  static moduleName = 'loader';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'config', 'rootContainer'];\n\n  private _eventEmitter;\n  private _engine;\n\n  private _delayedShowTimeout;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({ config, eventEmitter, engine, rootContainer }) {\n    this._eventEmitter = eventEmitter;\n    this.isHidden = false;\n    this._engine = engine;\n\n    this._bindCallbacks();\n\n    this._initUI();\n    this._bindEvents();\n    this._hideContent();\n\n    rootContainer.appendComponentNode(this.node);\n\n    if (config.loader === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _bindCallbacks() {\n    this._showContent = this._showContent.bind(this);\n    this._hideContent = this._hideContent.bind(this);\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._checkForWaitingState,\n      this,\n    );\n    this._eventEmitter.on(VIDEO_EVENTS.UPLOAD_SUSPEND, this.hide, this);\n  }\n\n  _checkForWaitingState({ nextState }) {\n    switch (nextState) {\n      case STATES.SEEK_IN_PROGRESS:\n        this.startDelayedShow();\n        break;\n      case STATES.WAITING:\n        this.startDelayedShow();\n        break;\n      case STATES.LOAD_STARTED:\n        if (this._engine.isPreloadAvailable) {\n          this._showContent();\n        }\n        break;\n      case STATES.READY_TO_PLAY:\n        this.stopDelayedShow();\n        this._hideContent();\n        break;\n      case STATES.PLAYING:\n        this.stopDelayedShow();\n        this._hideContent();\n        break;\n      case STATES.PAUSED:\n        this.stopDelayedShow();\n        this._hideContent();\n        break;\n\n      /* ignore coverage */\n      default:\n        break;\n    }\n  }\n\n  _initUI() {\n    this.view = new Loader.View();\n  }\n\n  private _showContent() {\n    if (this.isHidden) {\n      this._eventEmitter.emit(UI_EVENTS.LOADER_SHOW_TRIGGERED);\n      this.view.showContent();\n      this.isHidden = false;\n    }\n  }\n\n  private _hideContent() {\n    if (!this.isHidden) {\n      this._eventEmitter.emit(UI_EVENTS.LOADER_HIDE_TRIGGERED);\n      this.view.hideContent();\n      this.isHidden = true;\n    }\n  }\n\n  hide() {\n    this.view.hide();\n  }\n\n  show() {\n    this.view.show();\n  }\n\n  startDelayedShow() {\n    if (this.isDelayedShowScheduled) {\n      this.stopDelayedShow();\n    }\n    this._delayedShowTimeout = setTimeout(\n      this._showContent,\n      DELAYED_SHOW_TIMEOUT,\n    );\n  }\n\n  stopDelayedShow() {\n    clearTimeout(this._delayedShowTimeout);\n    this._delayedShowTimeout = null;\n  }\n\n  get isDelayedShowScheduled() {\n    return Boolean(this._delayedShowTimeout);\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._checkForWaitingState,\n      this,\n    );\n    this._eventEmitter.off(VIDEO_EVENTS.UPLOAD_SUSPEND, this.hide, this);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this.stopDelayedShow();\n\n    this.view.destroy();\n\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._engine;\n  }\n}\n","import View from '../core/view';\n\nimport { mainUIBlockTemplate } from './templates';\nimport htmlToElement from '../core/htmlToElement';\nimport styles from './main-ui-block.scss';\n\ntype IMainUIBlockViewConfig = {\n  elements: {\n    tooltipContainer: HTMLElement;\n    topBlock: HTMLElement;\n    bottomBlock: HTMLElement;\n  };\n};\n\nclass MainUIBlockView extends View {\n  $node;\n\n  constructor(config: IMainUIBlockViewConfig) {\n    super();\n\n    this._initDOM(config.elements);\n  }\n\n  private _initDOM(elements) {\n    this.$node = htmlToElement(\n      mainUIBlockTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    const $tooltipContainerWrapper = document.createElement('div');\n    $tooltipContainerWrapper.classList.add(\n      this.styleNames.tooltipContainerWrapper,\n    );\n    $tooltipContainerWrapper.appendChild(elements.tooltipContainer);\n\n    this.$node.appendChild(elements.topBlock);\n    this.$node.appendChild($tooltipContainerWrapper);\n    this.$node.appendChild(elements.bottomBlock);\n  }\n\n  getNode() {\n    return this.$node;\n  }\n\n  destroy() {\n    if (this.$node.parentNode) {\n      this.$node.parentNode.removeChild(this.$node);\n    }\n    delete this.$node;\n  }\n}\n\nMainUIBlockView.extendStyleNames(styles);\n\nexport { IMainUIBlockViewConfig };\n\nexport default MainUIBlockView;\n","import { VIDEO_EVENTS, UI_EVENTS, STATES } from '../../../constants/index';\nimport playerAPI from '../../../utils/player-api-decorator';\n\nimport MainUIBlockView from './main-ui-block.view';\n\nconst HIDE_BLOCK_TIMEOUT = 2000;\n\nexport interface IControlsConfig {\n  shouldAlwaysShow?: boolean;\n}\n\nconst DEFAULT_CONFIG: IControlsConfig = {\n  shouldAlwaysShow: false,\n};\n\nexport default class MainUIBlock {\n  static moduleName = 'mainUIBlock';\n  static View = MainUIBlockView;\n  static dependencies = [\n    'config',\n    'screen',\n    'rootContainer',\n    'tooltipService',\n    'eventEmitter',\n    'topBlock',\n    'bottomBlock',\n  ];\n\n  private _eventEmitter;\n  private _bottomBlock;\n  private _topBlock;\n  private _screen;\n\n  private _hideTimeout = null;\n\n  private _isContentShowingEnabled: boolean = true;\n  private _isContentShown: boolean = false;\n  private _shouldShowContent: boolean = true;\n  private _shouldAlwaysShow: boolean = false;\n  private _isDragging: boolean = false;\n\n  view: MainUIBlockView;\n  isHidden: boolean;\n\n  constructor(dependencies) {\n    const {\n      config,\n      eventEmitter,\n      rootContainer,\n      tooltipService,\n      topBlock,\n      bottomBlock,\n      screen,\n    } = dependencies;\n\n    this._eventEmitter = eventEmitter;\n    this._topBlock = topBlock;\n    this._bottomBlock = bottomBlock;\n    this._screen = screen;\n\n    this.isHidden = false;\n\n    const mainBlockConfig = {\n      ...DEFAULT_CONFIG,\n      ...config.controls,\n    };\n\n    this._shouldAlwaysShow = mainBlockConfig.shouldAlwaysShow;\n\n    this._initUI({\n      tooltipContainer: tooltipService.tooltipContainerNode,\n      topBlock: topBlock.node,\n      bottomBlock: bottomBlock.node,\n    });\n    this._bindViewCallbacks();\n    this._bindEvents();\n\n    rootContainer.appendComponentNode(this.view.getNode());\n\n    if (config.controls === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI(elements) {\n    this.view = new MainUIBlock.View({ elements });\n  }\n\n  private _bindViewCallbacks() {\n    this._startHideBlockTimeout = this._startHideBlockTimeout.bind(this);\n    this._tryShowContent = this._tryShowContent.bind(this);\n    this._tryHideContent = this._tryHideContent.bind(this);\n  }\n\n  private _bindEvents() {\n    this._eventEmitter.on(\n      UI_EVENTS.MOUSE_MOVE_ON_PLAYER_TRIGGERED,\n      this._startHideBlockTimeout,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.MOUSE_LEAVE_ON_PLAYER_TRIGGERED,\n      this._tryHideContent,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED,\n      this._startHideBlockTimeout,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.LOADER_HIDE_TRIGGERED,\n      this._startHideBlockTimeout,\n    );\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._updatePlayingStatus,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.CONTROL_DRAG_START,\n      this._onControlDragStart,\n      this,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.CONTROL_DRAG_END,\n      this._onControlDragEnd,\n      this,\n    );\n  }\n\n  private _unbindEvents() {\n    this._eventEmitter.off(\n      UI_EVENTS.MOUSE_MOVE_ON_PLAYER_TRIGGERED,\n      this._startHideBlockTimeout,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.MOUSE_LEAVE_ON_PLAYER_TRIGGERED,\n      this._tryHideContent,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED,\n      this._startHideBlockTimeout,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.LOADER_HIDE_TRIGGERED,\n      this._startHideBlockTimeout,\n    );\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._updatePlayingStatus,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.CONTROL_DRAG_START,\n      this._onControlDragStart,\n      this,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.CONTROL_DRAG_END,\n      this._onControlDragEnd,\n      this,\n    );\n  }\n\n  _updatePlayingStatus({ nextState }) {\n    switch (nextState) {\n      case STATES.PLAY_REQUESTED: {\n        this._shouldShowContent = false;\n        this._startHideBlockTimeout();\n        break;\n      }\n      case STATES.ENDED: {\n        this._shouldShowContent = true;\n        this._tryShowContent();\n        break;\n      }\n      case STATES.PAUSED: {\n        this._shouldShowContent = true;\n        this._tryShowContent();\n        break;\n      }\n      case STATES.SRC_SET: {\n        this._shouldShowContent = true;\n        this._tryShowContent();\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  private get _isBlockFocused() {\n    return this._bottomBlock.isFocused;\n  }\n\n  private _startHideBlockTimeout() {\n    this._stopHideBlockTimeout();\n\n    this._tryShowContent();\n\n    this._hideTimeout = setTimeout(this._tryHideContent, HIDE_BLOCK_TIMEOUT);\n  }\n\n  private _stopHideBlockTimeout() {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n  }\n\n  private _tryShowContent() {\n    if (this._isContentShowingEnabled) {\n      this._showContent();\n    }\n  }\n\n  private _onControlDragStart() {\n    this._isDragging = true;\n  }\n\n  private _onControlDragEnd() {\n    this._isDragging = false;\n    this._tryHideContent();\n  }\n\n  private _showContent() {\n    if (this.isHidden || this._isContentShown) {\n      return;\n    }\n\n    this._screen.showCursor();\n\n    this._eventEmitter.emit((UI_EVENTS as any).MAIN_BLOCK_SHOW_TRIGGERED);\n    this._bottomBlock.showContent();\n    this._topBlock.showContent();\n    this._isContentShown = true;\n  }\n\n  private _tryHideContent() {\n    if (\n      !this._isBlockFocused &&\n      !this._isDragging &&\n      !this._shouldShowContent &&\n      !this._shouldAlwaysShow\n    ) {\n      this._hideContent();\n    }\n  }\n\n  private _hideContent() {\n    if (this.isHidden || !this._isContentShown) {\n      return;\n    }\n\n    if (this._isContentShowingEnabled) {\n      this._screen.hideCursor();\n    }\n\n    this._eventEmitter.emit((UI_EVENTS as any).MAIN_BLOCK_HIDE_TRIGGERED);\n    this._bottomBlock.hideContent();\n    this._topBlock.hideContent();\n    this._isContentShown = false;\n  }\n\n  disableShowingContent() {\n    this._isContentShowingEnabled = false;\n    this._hideContent();\n  }\n\n  enableShowingContent() {\n    this._isContentShowingEnabled = true;\n    if (this._shouldShowContent) {\n      this._showContent();\n    }\n  }\n\n  hide() {\n    this.isHidden = true;\n    this._topBlock.hide();\n    this._bottomBlock.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this._topBlock.show();\n    this._bottomBlock.show();\n  }\n\n  /**\n   * Method for allowing bottom block to be always shown.\n   * @param flag - `true` for showing always\n   * @example\n   * player.setControlsShouldAlwaysShow(true);\n   *\n   */\n  @playerAPI('setControlsShouldAlwaysShow')\n  setShouldAlwaysShow(flag: boolean) {\n    this._shouldAlwaysShow = flag;\n\n    if (this._shouldAlwaysShow) {\n      this._tryShowContent();\n    } else {\n      this._startHideBlockTimeout();\n    }\n  }\n\n  destroy() {\n    this._stopHideBlockTimeout();\n    this._unbindEvents();\n\n    delete this._eventEmitter;\n    delete this._topBlock;\n    delete this._bottomBlock;\n  }\n}\n","import View from '../core/view';\nimport { IView } from '../core/types';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\n\nimport { topBlockTemplate } from './templates';\n\nimport {\n  ITopBlockViewStyles,\n  ITopBlockViewConfig,\n  ITopBlockViewElements,\n} from './types';\n\nimport styles from './top-block.scss';\n\nclass TopBlockView extends View<ITopBlockViewStyles>\n  implements IView<ITopBlockViewStyles> {\n  private _$node: HTMLElement;\n\n  constructor(config: ITopBlockViewConfig) {\n    super();\n    const { elements } = config;\n\n    this._initDOM(elements);\n    this._bindEvents();\n  }\n\n  private _initDOM(elements: ITopBlockViewElements) {\n    this._$node = htmlToElement(\n      topBlockTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    const $titleContainer = getElementByHook(this._$node, 'title-container');\n    const $liveIndicatorContainer = getElementByHook(\n      this._$node,\n      'live-indicator-container',\n    );\n\n    $titleContainer.appendChild(elements.title);\n    $liveIndicatorContainer.appendChild(elements.liveIndicator);\n  }\n\n  private _preventClickPropagation(e) {\n    e.stopPropagation();\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._preventClickPropagation);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('click', this._preventClickPropagation);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.activated);\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.activated);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n    delete this._$node;\n  }\n}\n\nTopBlockView.extendStyleNames(styles);\n\nexport default TopBlockView;\n","import View from './top-block.view';\n\nimport { ITopBlockViewConfig, ITopBlockViewElements } from './types';\n\nexport default class TopBlock {\n  static moduleName = 'topBlock';\n  static View = View;\n  static dependencies = ['config', 'screen', 'title', 'liveIndicator'];\n\n  private _screen;\n\n  isHidden: boolean;\n  view: View;\n\n  constructor(dependencies) {\n    const { screen } = dependencies;\n\n    this._screen = screen;\n    this.isHidden = false;\n\n    this._initUI(this._getElementsNodes(dependencies));\n  }\n\n  private _initUI(elementNodes: ITopBlockViewElements) {\n    const config: ITopBlockViewConfig = {\n      elements: elementNodes,\n    };\n\n    this.view = new TopBlock.View(config);\n  }\n\n  private _getElementsNodes(dependencies): ITopBlockViewElements {\n    const { title, liveIndicator } = dependencies;\n\n    return {\n      title: title.node,\n      liveIndicator: liveIndicator.node,\n    };\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  showContent() {\n    this._screen.showTopShadow();\n\n    this.view.showContent();\n  }\n\n  hideContent() {\n    this._screen.hideTopShadow();\n\n    this.view.hideContent();\n  }\n\n  destroy() {\n    delete this._screen;\n  }\n}\n","export default {\n  titleText: {\n    color: data => data.color,\n  },\n};\n","import View from '../core/view';\n\nimport { titleTemplate } from './templates';\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport {\n  ITitleViewStyles,\n  ITitleViewCallbacks,\n  ITitleViewConfig,\n} from './types';\nimport { IView } from '../core/types';\n\nimport titleViewTheme from './title.theme';\nimport styles from './title.scss';\n\nclass TitleView extends View<ITitleViewStyles>\n  implements IView<ITitleViewStyles> {\n  private _callbacks: ITitleViewCallbacks;\n\n  _$node: HTMLElement;\n  _$title: HTMLElement;\n\n  constructor(config: ITitleViewConfig) {\n    const { callbacks, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  _initDOM() {\n    this._$node = htmlToElement(\n      titleTemplate({ styles: this.styleNames, themeStyles: this.themeStyles }),\n    );\n    this._$title = getElementByHook(this._$node, 'video-title');\n  }\n\n  _bindEvents() {\n    this._$title.addEventListener('click', this._callbacks.onClick);\n  }\n\n  _unbindEvents() {\n    this._$title.removeEventListener('click', this._callbacks.onClick);\n  }\n\n  setDisplayAsLink(flag: boolean) {\n    toggleNodeClass(this._$title, this.styleNames.link, flag);\n  }\n\n  setTitle(title?: string) {\n    // TODO: mb move this logic to controller? title.isHidden is out of control of this method\n    // TODO: what if we call with empty value `.setTitle('')` and then call `.show()` method? Mb clear value anyway?\n    if (title) {\n      this.show();\n      this._$title.innerHTML = title;\n    } else {\n      this.hide();\n    }\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n    delete this._$title;\n  }\n}\n\nTitleView.setTheme(titleViewTheme);\nTitleView.extendStyleNames(styles);\n\nexport default TitleView;\n","import View from './title.view';\n\nimport playerAPI from '../../../utils/player-api-decorator';\n\nimport { IThemeService } from '../core/theme';\nimport { ITitleViewConfig } from './types';\n\nexport interface ITitleConfig {\n  text?: string;\n  callback?: Function;\n}\n\nexport default class TitleControl {\n  static moduleName = 'title';\n  static View = View;\n  static dependencies = ['config', 'theme'];\n\n  private _callback: Function;\n  private _theme: IThemeService;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({ config, theme }) {\n    this._theme = theme;\n\n    this._bindCallbacks();\n    this._initUI();\n    if (config.title) {\n      this.setTitleClickCallback(config.title.callback || null);\n      this.setTitle(config.title.text);\n    } else if (config.title === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _bindCallbacks() {\n    this._triggerCallback = this._triggerCallback.bind(this);\n  }\n\n  _initUI() {\n    const config: ITitleViewConfig = {\n      theme: this._theme,\n      callbacks: {\n        onClick: this._triggerCallback,\n      },\n    };\n\n    this.view = new TitleControl.View(config);\n\n    this.view.setTitle();\n  }\n\n  /**\n   * Display title text over the video. If you want to have clickable title, use `setTitleClickCallback`\n   *\n   * @param title - Text for the video title\n   *\n   * @example\n   * player.setTitle('Your awesome video title here');\n   *\n   * @note\n   * [Live Demo](https://jsfiddle.net/bodia/243k6m0u/)\n   */\n  @playerAPI()\n  setTitle(title?: string) {\n    this.view.setTitle(title);\n  }\n\n  /**\n   * Method for attaching callback for click on title\n   *\n   * @param callback - Your function\n   *\n   * @example\n   * const callback = () => {\n   *   console.log('Click on title);\n   * }\n   * player.setTitleClickCallback(callback);\n   *\n   */\n  @playerAPI()\n  setTitleClickCallback(callback?: Function) {\n    this._callback = callback;\n    this.view.setDisplayAsLink(Boolean(this._callback));\n  }\n\n  _triggerCallback() {\n    if (this._callback) {\n      this._callback();\n    }\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this.view.destroy();\n    delete this.view;\n\n    delete this.isHidden;\n  }\n}\n","import { ITooltipReference, ITooltipService } from '../core/tooltip';\nimport { IView } from '../core/types';\nimport View from '../core/view';\n\nimport { liveIndicatorTemplate } from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport {\n  ILiveIndicatorViewStyles,\n  ILiveIndicatorViewCallbacks,\n  ILiveIndicatorViewConfig,\n} from './types';\n\nimport styles from './live-indicator.scss';\n\nimport { TEXT_LABELS } from '../../../constants';\n\nclass LiveIndicatorView extends View<ILiveIndicatorViewStyles>\n  implements IView<ILiveIndicatorViewStyles> {\n  private _callbacks: ILiveIndicatorViewCallbacks;\n  private _textMap;\n  private _tooltipService: ITooltipService;\n  private _tooltipReference: ITooltipReference;\n\n  private _$node: HTMLElement;\n  private _$liveIndicatorText: HTMLElement;\n\n  constructor(config: ILiveIndicatorViewConfig) {\n    super();\n\n    this._callbacks = config.callbacks;\n    this._textMap = config.textMap;\n    this._tooltipService = config.tooltipService;\n\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      liveIndicatorTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n        texts: {},\n      }),\n    );\n\n    this._$liveIndicatorText = getElementByHook(\n      this._$node,\n      'live-indicator-text',\n    );\n\n    this._tooltipReference = this._tooltipService.createReference(this._$node, {\n      text: this._textMap.get(TEXT_LABELS.LIVE_SYNC_TOOLTIP),\n    });\n\n    // NOTE: LIVE indicator is hidden and inactive by default\n    this.toggle(false);\n    this.toggleActive(false);\n    this.toggleEnded(false);\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._callbacks.onClick);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('click', this._callbacks.onClick);\n  }\n\n  toggleActive(shouldActivate: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.active, shouldActivate);\n  }\n\n  toggleEnded(isEnded: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.ended, isEnded);\n\n    this._$liveIndicatorText.innerText = this._textMap.get(\n      TEXT_LABELS.LIVE_INDICATOR_TEXT,\n      { isEnded },\n    );\n    this._$liveIndicatorText.setAttribute(\n      'aria-label',\n      !isEnded ? this._textMap.get(TEXT_LABELS.LIVE_SYNC_LABEL) : '',\n    );\n\n    if (isEnded) {\n      this._tooltipReference.disable();\n    } else {\n      this._tooltipReference.enable();\n    }\n  }\n\n  show() {\n    this.toggle(true);\n  }\n\n  hide() {\n    this.toggle(false);\n  }\n\n  toggle(shouldShow: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.hidden, !shouldShow);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._tooltipReference.destroy();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n    delete this._$liveIndicatorText;\n    delete this._callbacks;\n    delete this._textMap;\n  }\n}\n\nLiveIndicatorView.extendStyleNames(styles);\n\nexport default LiveIndicatorView;\n","import { ITooltipService } from '../core/tooltip';\nimport LiveIndicatorView from './live-indicator.view';\nimport { VIDEO_EVENTS, LiveState } from '../../../constants';\n\nexport default class LiveIndicator {\n  static moduleName = 'liveIndicator';\n  static View = LiveIndicatorView;\n  static dependencies = ['engine', 'eventEmitter', 'textMap', 'tooltipService'];\n\n  private _engine;\n  private _eventEmitter;\n  private _textMap;\n  private _tooltipService: ITooltipService;\n  private _isHidden: boolean = true;\n  private _isActive: boolean = false;\n  private _isEnded: boolean = false;\n\n  view: LiveIndicatorView;\n\n  constructor({ engine, eventEmitter, textMap, tooltipService }) {\n    this._engine = engine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  get isHidden(): boolean {\n    return this._isHidden;\n  }\n\n  get isActive(): boolean {\n    return this._isActive;\n  }\n\n  show() {\n    this._toggle(true);\n  }\n\n  hide() {\n    this._toggle(false);\n  }\n\n  private _initUI() {\n    this.view = new LiveIndicator.View({\n      callbacks: {\n        onClick: this._syncWithLive,\n      },\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    });\n  }\n\n  private _bindCallbacks() {\n    this._syncWithLive = this._syncWithLive.bind(this);\n  }\n\n  private _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.LIVE_STATE_CHANGED,\n      this._processStateChange,\n      this,\n    );\n  }\n\n  private _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.LIVE_STATE_CHANGED,\n      this._processStateChange,\n      this,\n    );\n  }\n\n  private _processStateChange({ nextState }) {\n    switch (nextState) {\n      case LiveState.NONE:\n        this._toggle(false);\n        this._toggleActive(false);\n        this._toggleEnded(false);\n        break;\n\n      case LiveState.INITIAL:\n        this._toggle(true);\n        break;\n\n      case LiveState.SYNC:\n        this._toggleActive(true);\n        break;\n\n      case LiveState.NOT_SYNC:\n        this._toggleActive(false);\n        break;\n\n      case LiveState.ENDED:\n        this._toggleActive(false);\n        this._toggleEnded(true);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private _syncWithLive() {\n    if (!this._isEnded) {\n      this._engine.syncWithLive();\n    }\n  }\n\n  private _toggle(shouldShow: boolean) {\n    this._isHidden = !shouldShow;\n    this.view.toggle(shouldShow);\n  }\n\n  private _toggleActive(shouldActivate: boolean) {\n    this._isActive = shouldActivate;\n    this.view.toggleActive(shouldActivate);\n  }\n\n  private _toggleEnded(isEnded: boolean) {\n    this._isEnded = isEnded;\n    this.view.toggleEnded(isEnded);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this.view.destroy();\n\n    delete this.view;\n\n    delete this._engine;\n    delete this._eventEmitter;\n    delete this._textMap;\n  }\n}\n","import View from '../core/view';\nimport { IView } from '../core/types';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport { bottomBlockTemplate } from './templates';\n\nimport {\n  IBottomBlockViewStyles,\n  IBottomBlockViewCallbacks,\n  IBottomBlockViewElements,\n  IBottomBlockViewConfig,\n} from './types';\n\nimport styles from './bottom-block.scss';\n\nclass BottomBlockView extends View<IBottomBlockViewStyles>\n  implements IView<IBottomBlockViewStyles> {\n  private _callbacks: IBottomBlockViewCallbacks;\n  private _$node: HTMLElement;\n\n  constructor(config: IBottomBlockViewConfig) {\n    super();\n    const { callbacks, elements } = config;\n\n    this._callbacks = callbacks;\n\n    this._initDOM(elements);\n    this._bindEvents();\n  }\n\n  private _initDOM(elements: IBottomBlockViewElements) {\n    this._$node = htmlToElement(\n      bottomBlockTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    const $playContainer = getElementByHook(this._$node, 'play-container');\n    const $volumeContainer = getElementByHook(this._$node, 'volume-container');\n    const $timeContainer = getElementByHook(this._$node, 'time-container');\n    const $fullScreenContainer = getElementByHook(\n      this._$node,\n      'full-screen-container',\n    );\n    const $logoContainer = getElementByHook(this._$node, 'logo-container');\n    const $progressBarContainer = getElementByHook(\n      this._$node,\n      'progress-bar-container',\n    );\n\n    $playContainer.appendChild(elements.play);\n    $volumeContainer.appendChild(elements.volume);\n    $timeContainer.appendChild(elements.time);\n    $fullScreenContainer.appendChild(elements.fullScreen);\n    $logoContainer.appendChild(elements.logo);\n    $progressBarContainer.appendChild(elements.progress);\n  }\n\n  private _preventClickPropagation(e) {\n    e.stopPropagation();\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._preventClickPropagation);\n    this._$node.addEventListener('mousemove', this._callbacks.onBlockMouseMove);\n    this._$node.addEventListener('mouseleave', this._callbacks.onBlockMouseOut);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('click', this._preventClickPropagation);\n    this._$node.removeEventListener(\n      'mousemove',\n      this._callbacks.onBlockMouseMove,\n    );\n    this._$node.removeEventListener(\n      'mouseleave',\n      this._callbacks.onBlockMouseOut,\n    );\n  }\n\n  setShouldLogoShowAlwaysFlag(isShowAlways: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.showLogoAlways, isShowAlways);\n    this.showLogo();\n  }\n\n  showPlayControl() {\n    this._$node.classList.remove(this.styleNames.playControlHidden);\n  }\n\n  hidePlayControl() {\n    this._$node.classList.add(this.styleNames.playControlHidden);\n  }\n\n  showTimeControl() {\n    this._$node.classList.remove(this.styleNames.timeControlHidden);\n  }\n\n  hideTimeControl() {\n    this._$node.classList.add(this.styleNames.timeControlHidden);\n  }\n\n  showVolumeControl() {\n    this._$node.classList.remove(this.styleNames.volumeControlHidden);\n  }\n\n  hideVolumeControl() {\n    this._$node.classList.add(this.styleNames.volumeControlHidden);\n  }\n\n  showFullScreenControl() {\n    this._$node.classList.remove(this.styleNames.fullScreenControlHidden);\n  }\n\n  hideFullScreenControl() {\n    this._$node.classList.add(this.styleNames.fullScreenControlHidden);\n  }\n\n  showLogo() {\n    this._$node.classList.remove(this.styleNames.logoHidden);\n  }\n\n  hideLogo() {\n    this._$node.classList.add(this.styleNames.logoHidden);\n  }\n\n  showProgressControl() {\n    this._$node.classList.remove(this.styleNames.progressControlHidden);\n  }\n\n  hideProgressControl() {\n    this._$node.classList.add(this.styleNames.progressControlHidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.activated);\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.activated);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n    delete this._$node;\n  }\n}\n\nBottomBlockView.extendStyleNames(styles);\n\nexport default BottomBlockView;\n","import playerAPI from '../../../utils/player-api-decorator';\n\nimport { IBottomBlockViewConfig, IBottomBlockViewElements } from './types';\n\nimport View from './bottom-block.view';\nimport { UI_EVENTS } from '../../../constants/index';\n\nexport default class BottomBlock {\n  static moduleName = 'bottomBlock';\n  static View = View;\n  static dependencies = [\n    'config',\n    'screen',\n    'playControl',\n    'progressControl',\n    'timeControl',\n    'volumeControl',\n    'fullScreenControl',\n    'logo',\n    'eventEmitter',\n  ];\n\n  private _screen;\n  private _eventEmitter;\n\n  private _isBlockFocused: boolean = false;\n\n  view: View;\n  isHidden: boolean = false;\n\n  constructor(dependencies) {\n    const { config, screen, eventEmitter } = dependencies;\n    this._screen = screen;\n    this._eventEmitter = eventEmitter;\n\n    this._bindViewCallbacks();\n    this._initUI(this._getElementsNodes(dependencies));\n    this._initLogo(config.logo);\n    this._bindEvents();\n  }\n\n  private _getElementsNodes(dependencies): IBottomBlockViewElements {\n    const {\n      playControl,\n      progressControl,\n      timeControl,\n      volumeControl,\n      fullScreenControl,\n      logo,\n    } = dependencies;\n\n    return {\n      play: playControl.node,\n      progress: progressControl.node,\n      time: timeControl.node,\n      volume: volumeControl.node,\n      fullScreen: fullScreenControl.node,\n      logo: logo.node,\n    };\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI(elementNodes: IBottomBlockViewElements) {\n    const config: IBottomBlockViewConfig = {\n      elements: elementNodes,\n      callbacks: {\n        onBlockMouseMove: this._setFocusState,\n        onBlockMouseOut: this._removeFocusState,\n      },\n    };\n\n    this.view = new BottomBlock.View(config);\n  }\n\n  private _bindEvents() {\n    this._eventEmitter.on(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this._removeFocusState,\n    );\n  }\n\n  private _unbindEvents() {\n    this._eventEmitter.off(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this._removeFocusState,\n    );\n  }\n\n  private _initLogo(logoConfig) {\n    if (logoConfig) {\n      if (typeof logoConfig === 'object') {\n        this.setLogoAlwaysShowFlag(logoConfig.showAlways);\n      }\n    } else {\n      this.hideLogo();\n    }\n  }\n\n  private _bindViewCallbacks() {\n    this._setFocusState = this._setFocusState.bind(this);\n    this._removeFocusState = this._removeFocusState.bind(this);\n  }\n\n  private _setFocusState() {\n    this._isBlockFocused = true;\n  }\n\n  private _removeFocusState() {\n    this._isBlockFocused = false;\n  }\n\n  get isFocused() {\n    return this._isBlockFocused;\n  }\n\n  showContent() {\n    this._screen.showBottomShadow();\n    this.view.showContent();\n  }\n\n  hideContent() {\n    this._screen.hideBottomShadow();\n    this.view.hideContent();\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  /**\n   * Method for allowing logo to be always shown in bottom block\n   * @param flag - `true` for showing always\n   * @example\n   * player.setLogoAlwaysShowFlag(true);\n   *\n   */\n  @playerAPI()\n  setLogoAlwaysShowFlag(flag: boolean) {\n    this.view.setShouldLogoShowAlwaysFlag(flag);\n  }\n\n  /**\n   * Method for hidding logo. If you use `setLogoAlwaysShowFlag` or `setControlsShouldAlwaysShow`, logo would automaticaly appear.\n   * @example\n   * player.hideLogo();\n   */\n  @playerAPI()\n  hideLogo() {\n    this.view.hideLogo();\n  }\n\n  /**\n   * Method for showing logo.\n   * @example\n   * player.showLogo();\n   */\n  @playerAPI()\n  showLogo() {\n    this.view.showLogo();\n  }\n\n  /**\n   * Method for showing play control.\n   * @example\n   * player.showPlayControl();\n   */\n  @playerAPI()\n  showPlayControl() {\n    this.view.showPlayControl();\n  }\n\n  /**\n   * Method for showing volume control.\n   * @example\n   * player.showVolumeControl();\n   */\n  @playerAPI()\n  showVolumeControl() {\n    this.view.showVolumeControl();\n  }\n\n  /**\n   * Method for showing time control.\n   * @example\n   * player.showTimeControl();\n   */\n  @playerAPI()\n  showTimeControl() {\n    this.view.showTimeControl();\n  }\n\n  /**\n   * Method for showing full screen control.\n   * @example\n   * player.showFullScreenControl();\n   */\n  @playerAPI()\n  showFullScreenControl() {\n    this.view.showFullScreenControl();\n  }\n\n  /**\n   * Method for showing progress control.\n   * @example\n   * player.showProgressControl();\n   */\n  @playerAPI()\n  showProgressControl() {\n    this.view.showProgressControl();\n  }\n\n  /**\n   * Method for hidding play control.\n   * @example\n   * player.hidePlayControl();\n   */\n  @playerAPI()\n  hidePlayControl() {\n    this.view.hidePlayControl();\n  }\n\n  /**\n   * Method for hidding voluem control.\n   * @example\n   * player.hideVolumeControl();\n   */\n  @playerAPI()\n  hideVolumeControl() {\n    this.view.hideVolumeControl();\n  }\n\n  /**\n   * Method for hidding time control.\n   * @example\n   * player.hideTimeControl();\n   */\n  @playerAPI()\n  hideTimeControl() {\n    this.view.hideTimeControl();\n  }\n\n  /**\n   * Method for hidding full screen control.\n   * @example\n   * player.hideFullScreenControl();\n   */\n  @playerAPI()\n  hideFullScreenControl() {\n    this.view.hideFullScreenControl();\n  }\n\n  /**\n   * Method for hidding progress control.\n   * @example\n   * player.hideProgressControl();\n   */\n  @playerAPI()\n  hideProgressControl() {\n    this.view.hideProgressControl();\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this.view.destroy();\n\n    this.view = null;\n    this._screen = null;\n    this._eventEmitter = null;\n  }\n}\n","function formatTime(seconds: number): string {\n  const isValid = !isNaN(seconds) && isFinite(seconds);\n  const isNegative = isValid && seconds < 0;\n  const date = new Date(null);\n\n  date.setSeconds(isValid ? Math.abs(Math.floor(seconds)) : 0);\n\n  // get HH:mm:ss part, remove hours if they are \"00:\"\n  const time = date\n    .toISOString()\n    .substr(11, 8)\n    .replace(/^00:/, '');\n\n  return isNegative ? `-${time}` : time;\n}\n\nexport default formatTime;\n","import { tooltipTemplate } from './templates';\nimport htmlToElement from '../htmlToElement';\nimport getElementByHook from '../getElementByHook';\nimport Stylable from '../stylable';\n\nimport styles from './tooltip.scss';\n\ntype ITooltipStyles = {\n  tooltip: string;\n  tooltipVisible: string;\n  tooltipInner: string;\n};\n\ninterface ITooltip {\n  node: HTMLElement;\n  isHidden: boolean;\n  show(): void;\n  hide(): void;\n  setText(text: string): void;\n  setStyle(style: { [key: string]: string | number }): void;\n  destroy(): void;\n}\n\nclass Tooltip extends Stylable<ITooltipStyles> implements ITooltip {\n  private _$node: HTMLElement;\n  private _$tooltipInner: HTMLElement;\n  private _isHidden: boolean;\n\n  constructor() {\n    super();\n\n    this._isHidden = true;\n    this._initDOM();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      tooltipTemplate({\n        styles: this.styleNames,\n      }),\n    );\n    this._$tooltipInner = getElementByHook(this._$node, 'tooltipInner');\n  }\n\n  get node(): HTMLElement {\n    return this._$node;\n  }\n\n  get isHidden(): boolean {\n    return this._isHidden;\n  }\n\n  show() {\n    if (!this._isHidden) {\n      return;\n    }\n    this._isHidden = false;\n    this._$node.classList.add(this.styleNames.tooltipVisible);\n  }\n\n  hide() {\n    if (this._isHidden) {\n      return;\n    }\n    this._isHidden = true;\n    this._$node.classList.remove(this.styleNames.tooltipVisible);\n  }\n\n  setText(text: string) {\n    this._$tooltipInner.innerText = text;\n  }\n\n  setStyle(style) {\n    Object.keys(style).forEach(styleKey => {\n      this._$node.style[styleKey] = style[styleKey];\n    });\n  }\n\n  destroy() {\n    this._$node = null;\n    this._$tooltipInner = null;\n  }\n}\n\nTooltip.extendStyleNames(styles);\n\nexport { ITooltip, ITooltipStyles };\n\nexport default Tooltip;\n","enum ITooltipPositionPlacement {\n  TOP = 'top',\n  BOTTOM = 'bottom',\n}\n\ntype ITooltipPosition = {\n  placement: ITooltipPositionPlacement;\n  x: number;\n};\n\ntype ITooltipPositionFunction = (\n  tooltipContainerNode: HTMLElement,\n) => ITooltipPosition;\n\ntype ITooltipShowOptions = {\n  text: string;\n  position: ITooltipPosition | ITooltipPositionFunction;\n};\n\nexport {\n  ITooltipPositionPlacement,\n  ITooltipPosition,\n  ITooltipPositionFunction,\n  ITooltipShowOptions,\n};\n","import { ITooltipPosition, ITooltipPositionPlacement } from '../types';\n\ntype ITooltipCenterXfn = (\n  tooltipReferenceOffsetX: number,\n  tooltipReferenceWidth: number,\n) => number;\n\nfunction calcTooltipCenterX(tooltipReferenceOffsetX, tooltipReferenceWidth) {\n  return tooltipReferenceOffsetX + tooltipReferenceWidth / 2;\n}\n\nfunction getTooltipPositionByReferenceNode(\n  tooltipReferenceNode: HTMLElement,\n  tooltipContainerNode: HTMLElement,\n  tooltipCenterXfn: ITooltipCenterXfn = calcTooltipCenterX,\n): ITooltipPosition {\n  const tooltipReferenceRect = tooltipReferenceNode.getBoundingClientRect();\n  const tooltipContainerRect = tooltipContainerNode.getBoundingClientRect();\n\n  const tooltipPlacement =\n    tooltipReferenceRect.top > tooltipContainerRect.top\n      ? ITooltipPositionPlacement.BOTTOM\n      : ITooltipPositionPlacement.TOP;\n  const tooltipReferenceOffsetX =\n    tooltipReferenceRect.left - tooltipContainerRect.left;\n  const tooltipCenterX = tooltipCenterXfn(\n    tooltipReferenceOffsetX,\n    tooltipReferenceRect.width,\n  );\n\n  return { placement: tooltipPlacement, x: tooltipCenterX };\n}\n\nexport default getTooltipPositionByReferenceNode;\n","import { ITooltipService } from './tooltip-service';\nimport getTooltipPositionByReferenceNode from './utils/getTooltipPositionByReferenceNode';\n\ntype ITooltipReferenceOptions = {\n  text: string;\n};\n\ninterface ITooltipReference {\n  isHidden: boolean;\n  isDisabled: boolean;\n  show(): void;\n  hide(): void;\n  setText(text: string): void;\n  disable(): void;\n  enable(): void;\n  destroy(): void;\n}\n\nconst SHOW_EVENTS = ['mouseenter', 'focus'];\nconst HIDE_EVENTS = ['mouseleave', 'blur'];\n\nclass TooltipReference implements ITooltipReference {\n  private _$reference: HTMLElement;\n  private _tooltipService: ITooltipService;\n\n  private _options: ITooltipReferenceOptions;\n  private _eventListeners: any[];\n\n  private _isDisabled: boolean;\n\n  constructor(\n    reference: HTMLElement,\n    tooltipService: ITooltipService,\n    options: ITooltipReferenceOptions,\n  ) {\n    this._$reference = reference;\n    this._options = options;\n    this._tooltipService = tooltipService;\n\n    this._eventListeners = [];\n\n    this._bindEvents();\n  }\n\n  private _bindEvents() {\n    SHOW_EVENTS.forEach(event => {\n      const fn = () => {\n        this.show();\n      };\n      this._eventListeners.push({ event, fn });\n      this._$reference.addEventListener(event, fn);\n    });\n\n    HIDE_EVENTS.forEach(event => {\n      const fn = () => {\n        this.hide();\n      };\n      this._eventListeners.push({ event, fn });\n      this._$reference.addEventListener(event, fn);\n    });\n  }\n\n  get isHidden(): boolean {\n    return this._tooltipService.isHidden;\n  }\n\n  get isDisabled(): boolean {\n    return this._isDisabled;\n  }\n\n  show() {\n    if (this._isDisabled) {\n      return;\n    }\n\n    this._tooltipService.show({\n      text: this._options.text,\n      position: getTooltipPositionByReferenceNode(\n        this._$reference,\n        this._tooltipService.tooltipContainerNode,\n      ),\n    });\n  }\n\n  hide() {\n    this._tooltipService.hide();\n  }\n\n  setText(text: string) {\n    this._options.text = text;\n    this._tooltipService.setText(text);\n  }\n\n  disable() {\n    this._isDisabled = true;\n  }\n\n  enable() {\n    this._isDisabled = false;\n  }\n\n  destroy() {\n    this._eventListeners.forEach(({ event, fn }) => {\n      this._$reference.removeEventListener(event, fn);\n    });\n    this._eventListeners = null;\n    this._$reference = null;\n    this._tooltipService = null;\n    this._options = null;\n  }\n}\n\nexport { ITooltipReference, ITooltipReferenceOptions };\n\nexport default TooltipReference;\n","import { tooltipContainerTemplate } from './templates';\nimport htmlToElement from '../htmlToElement';\nimport Tooltip from './tooltip';\nimport Stylable from '../stylable';\n\nimport {\n  ITooltipPosition,\n  ITooltipPositionFunction,\n  ITooltipPositionPlacement,\n} from './types';\n\nimport styles from './tooltip-container.scss';\n\ninterface ITooltipContainer {\n  node: HTMLElement;\n  getTooltipPositionStyles(\n    position: ITooltipPosition,\n  ): { [ket: string]: string | number };\n  destroy(): void;\n}\n\nclass TooltipContainer extends Stylable implements ITooltipContainer {\n  private _tooltip: Tooltip;\n  private _$node: HTMLElement;\n\n  constructor(tooltip: Tooltip) {\n    super();\n\n    this._tooltip = tooltip;\n    this._initDOM();\n  }\n\n  get node(): HTMLElement {\n    return this._$node;\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      tooltipContainerTemplate({\n        styles: this.styleNames,\n      }),\n    );\n    this._$node.appendChild(this._tooltip.node);\n  }\n\n  getTooltipPositionStyles(\n    position: ITooltipPosition | ITooltipPositionFunction,\n  ) {\n    if (typeof position === 'function') {\n      position = position(this._$node);\n    }\n\n    if (position.placement === ITooltipPositionPlacement.TOP) {\n      return {\n        left: `${this._getTooltipLeftX(position.x)}px`,\n        top: 0,\n        bottom: 'initial',\n      };\n    }\n\n    return {\n      left: `${this._getTooltipLeftX(position.x)}px`,\n      top: 'initial',\n      bottom: 0,\n    };\n  }\n\n  destroy() {\n    this._tooltip = null;\n    this._$node = null;\n  }\n\n  private _getTooltipLeftX(tooltipCenterX: number) {\n    const tooltipRect = this._tooltip.node.getBoundingClientRect();\n    const tooltipContainerRect = this._$node.getBoundingClientRect();\n\n    let tooltipLeftX = tooltipCenterX - tooltipRect.width / 2;\n\n    // ensure `x` is in range of placeholder rect\n    tooltipLeftX = Math.max(tooltipLeftX, 0);\n    tooltipLeftX = Math.min(\n      tooltipLeftX,\n      tooltipContainerRect.width - tooltipRect.width,\n    );\n\n    return tooltipLeftX;\n  }\n}\n\nTooltipContainer.extendStyleNames(styles);\n\nexport { ITooltipContainer };\nexport default TooltipContainer;\n","import TooltipReference, {\n  ITooltipReference,\n  ITooltipReferenceOptions,\n} from './tooltip-reference';\nimport TooltipContainer from './tooltip-container';\nimport { ITooltipShowOptions } from './types';\nimport Tooltip from './tooltip';\n\nimport { UI_EVENTS } from '../../../../constants';\n\ninterface ITooltipService {\n  isHidden: boolean;\n  tooltipContainerNode: HTMLElement;\n  setText(text: string): void;\n  show(options: ITooltipShowOptions): void;\n  hide(): void;\n  createReference(\n    reference: HTMLElement,\n    options: ITooltipReferenceOptions,\n  ): ITooltipReference;\n  destroy(): void;\n}\n\nclass TooltipService implements ITooltipService {\n  static moduleName = 'tooltipService';\n  static dependencies = ['eventEmitter'];\n  private _tooltip: Tooltip;\n  private _tooltipContainer: TooltipContainer;\n  private _eventEmitter;\n\n  constructor({ eventEmitter }) {\n    this._eventEmitter = eventEmitter;\n    this._tooltip = new Tooltip();\n    this._tooltipContainer = new TooltipContainer(this._tooltip);\n    this._bindEvents();\n  }\n\n  get isHidden(): boolean {\n    return this._tooltip.isHidden;\n  }\n\n  get tooltipContainerNode(): HTMLElement {\n    return this._tooltipContainer.node;\n  }\n\n  private _bindEvents() {\n    this._eventEmitter.on(UI_EVENTS.FULLSCREEN_STATUS_CHANGED, this.hide, this);\n  }\n\n  private _unbindEvents() {\n    this._eventEmitter.off(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this.hide,\n      this,\n    );\n  }\n\n  /**\n   * Set new tooltip title\n   */\n  setText(text: string) {\n    this._tooltip.setText(text);\n  }\n\n  /**\n   * Show tooltip with title\n   */\n  show(options: ITooltipShowOptions) {\n    // NOTE: its important to set tooltip text before update tooltip position styles\n    this._tooltip.setText(options.text);\n    this._tooltip.setStyle(\n      this._tooltipContainer.getTooltipPositionStyles(options.position),\n    );\n    this._tooltip.show();\n  }\n\n  /**\n   * Hide tooltip\n   */\n  hide() {\n    this._tooltip.hide();\n  }\n\n  /**\n   * Create tooltip reference which show/hide tooltip on hover and focus events\n   * @param reference - reference node\n   * @param options - tooltip title and other options\n   * @returns tooltip reference instance\n   */\n  createReference(\n    reference: HTMLElement,\n    options: ITooltipReferenceOptions,\n  ): TooltipReference {\n    return new TooltipReference(reference, this, options);\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this._tooltip.destroy();\n    this._tooltipContainer.destroy();\n    this._tooltip = null;\n    this._tooltipContainer = null;\n\n    this._eventEmitter = null;\n  }\n}\n\nexport { ITooltipService };\n\nexport default TooltipService;\n","import {\n  getTooltipPositionByReferenceNode,\n  ITooltipPosition,\n} from '../../../core/tooltip';\n\nfunction calcProgressTimeTooltipCenterX(\n  progressPercent,\n  progressNodeOffsetX,\n  progressNodeWidth,\n) {\n  return progressNodeOffsetX + progressPercent * progressNodeWidth / 100;\n}\n\nfunction getProgressTimeTooltipPosition(\n  progressPercent: number,\n  progressNode: HTMLElement,\n  tooltipContainerNode: HTMLElement,\n): ITooltipPosition {\n  return getTooltipPositionByReferenceNode(\n    progressNode,\n    tooltipContainerNode,\n    (progressNodeOffsetX, progressNodeWidth) =>\n      calcProgressTimeTooltipCenterX(\n        progressPercent,\n        progressNodeOffsetX,\n        progressNodeWidth,\n      ),\n  );\n}\n\nexport default getProgressTimeTooltipPosition;\n","import { transperentizeColor } from '../../core/theme';\n\nexport default {\n  progressPlayed: {\n    backgroundColor: data => data.progressColor,\n    '&:after': {\n      backgroundColor: data => data.progressColor,\n    },\n  },\n  progressSeekTo: {\n    backgroundColor: data => transperentizeColor(data.progressColor, 0.5),\n  },\n  progressBackground: {\n    backgroundColor: data => transperentizeColor(data.progressColor, 0.25),\n  },\n  progressSyncBtn: {\n    borderColor: data => data.progressColor,\n  },\n};\n","import { TEXT_LABELS } from '../../../../constants/index';\n\nimport View from '../../core/view';\n\nimport { IView } from '../../core/types';\nimport { ITooltipReference, ITooltipService } from '../../core/tooltip';\nimport formatTime from '../../core/utils/formatTime';\nimport getProgressTimeTooltipPosition from './utils/getProgressTimeTooltipPosition';\nimport { progressTemplate, progressTimeIndicatorTemplate } from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport {\n  IProgressViewStyles,\n  IProgressViewCallbacks,\n  IProgressViewConfig,\n} from './types';\n\nimport progressViewTheme from './progress.theme';\nimport styles from './progress.scss';\n\nconst DATA_PLAYED = 'data-played-percent';\n\nconst getPercentBasedOnXPosition = (\n  event: MouseEvent,\n  element: HTMLElement,\n) => {\n  const boundingRect = element.getBoundingClientRect();\n  const positionX = event.clientX;\n\n  if (positionX < boundingRect.left) {\n    return 0;\n  }\n\n  if (positionX > boundingRect.left + boundingRect.width) {\n    return 100;\n  }\n\n  return (event.clientX - boundingRect.left) / boundingRect.width * 100;\n};\n\nclass ProgressView extends View<IProgressViewStyles>\n  implements IView<IProgressViewStyles> {\n  private _callbacks: IProgressViewCallbacks;\n  private _textMap;\n  private _tooltipService: ITooltipService;\n  private _syncButtonTooltipReference: ITooltipReference;\n\n  private _isDragging: boolean;\n\n  private _$node: HTMLElement;\n  private _$hitbox: HTMLElement;\n  private _$played: HTMLElement;\n  private _$buffered: HTMLElement;\n  private _$seekTo: HTMLElement;\n  private _$timeIndicators: HTMLElement;\n  private _$syncButton: HTMLElement;\n\n  constructor(config: IProgressViewConfig) {\n    const { callbacks, textMap, tooltipService, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._initDOM();\n    this._bindCallbacks();\n    this._bindEvents();\n\n    this._setPlayedDOMAttributes(0);\n    this._setBufferedDOMAttributes(0);\n    this.setUsualMode();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      progressTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      }),\n    );\n\n    this._$played = getElementByHook(this._$node, 'progress-played');\n    this._$buffered = getElementByHook(this._$node, 'progress-buffered');\n    this._$seekTo = getElementByHook(this._$node, 'progress-seek-to');\n    this._$timeIndicators = getElementByHook(\n      this._$node,\n      'progress-time-indicators',\n    );\n    this._$syncButton = getElementByHook(this._$node, 'progress-sync-button');\n    this._syncButtonTooltipReference = this._tooltipService.createReference(\n      this._$syncButton,\n      {\n        text: this._textMap.get(TEXT_LABELS.LIVE_SYNC_TOOLTIP),\n      },\n    );\n    this._$hitbox = getElementByHook(this._$node, 'progress-hitbox');\n  }\n\n  private _bindCallbacks() {\n    this._setPlayedByDrag = this._setPlayedByDrag.bind(this);\n    this._startDragOnMouseDown = this._startDragOnMouseDown.bind(this);\n    this._stopDragOnMouseUp = this._stopDragOnMouseUp.bind(this);\n    this._startSeekToByMouse = this._startSeekToByMouse.bind(this);\n    this._stopSeekToByMouse = this._stopSeekToByMouse.bind(this);\n    this._syncWithLive = this._syncWithLive.bind(this);\n  }\n\n  private _bindEvents() {\n    this._$hitbox.addEventListener('mousedown', this._startDragOnMouseDown);\n    this._$hitbox.addEventListener('mousemove', this._startSeekToByMouse);\n    this._$hitbox.addEventListener('mouseout', this._stopSeekToByMouse);\n\n    window.addEventListener('mousemove', this._setPlayedByDrag);\n    window.addEventListener('mouseup', this._stopDragOnMouseUp);\n\n    this._$syncButton.addEventListener('click', this._syncWithLive);\n  }\n\n  private _unbindEvents() {\n    this._$hitbox.removeEventListener('mousedown', this._startDragOnMouseDown);\n    this._$hitbox.removeEventListener('mousemove', this._startSeekToByMouse);\n    this._$hitbox.removeEventListener('mouseout', this._stopSeekToByMouse);\n    this._$syncButton.removeEventListener('click', this._syncWithLive);\n\n    window.removeEventListener('mousemove', this._setPlayedByDrag);\n    window.removeEventListener('mouseup', this._stopDragOnMouseUp);\n  }\n\n  private _startDragOnMouseDown(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n    this._setPlayedDOMAttributes(percent);\n    this._callbacks.onChangePlayedProgress(percent);\n\n    this._startDrag();\n  }\n\n  private _stopDragOnMouseUp(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n\n    this._stopDrag();\n  }\n\n  private _startSeekToByMouse(event: MouseEvent) {\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n\n    this._setSeekToDOMAttributes(percent);\n    this._callbacks.onSeekToByMouseStart(percent);\n  }\n\n  private _stopSeekToByMouse() {\n    this._setSeekToDOMAttributes(0);\n    this._callbacks.onSeekToByMouseEnd();\n  }\n\n  private _setPlayedByDrag(event: MouseEvent) {\n    if (this._isDragging) {\n      const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n      this._setPlayedDOMAttributes(percent);\n      this._callbacks.onChangePlayedProgress(percent);\n    }\n  }\n\n  private _startDrag() {\n    this._isDragging = true;\n    this._callbacks.onDragStart();\n    this._$node.classList.add(this.styleNames.isDragging);\n  }\n\n  private _stopDrag() {\n    if (this._isDragging) {\n      this._isDragging = false;\n      this._callbacks.onDragEnd();\n      this._$node.classList.remove(this.styleNames.isDragging);\n    }\n  }\n\n  private _setSeekToDOMAttributes(percent: number) {\n    this._$seekTo.setAttribute('style', `width:${percent}%;`);\n  }\n\n  private _setPlayedDOMAttributes(percent: number) {\n    this._$node.setAttribute(\n      'aria-valuetext',\n      this._textMap.get(TEXT_LABELS.PROGRESS_CONTROL_VALUE, { percent }),\n    );\n    this._$node.setAttribute('aria-valuenow', String(percent));\n    this._$node.setAttribute(DATA_PLAYED, String(percent));\n    this._$played.setAttribute('style', `width:${percent}%;`);\n  }\n\n  private _setBufferedDOMAttributes(percent: number) {\n    this._$buffered.setAttribute('style', `width:${percent}%;`);\n  }\n\n  private _syncWithLive() {\n    this._callbacks.onSyncWithLiveClick();\n  }\n\n  showSyncWithLive() {\n    this._$syncButton.classList.remove(this.styleNames.hidden);\n  }\n\n  hideSyncWithLive() {\n    this._$syncButton.classList.add(this.styleNames.hidden);\n  }\n\n  setLiveSyncStatus(isSync) {\n    if (isSync) {\n      this._$syncButton.classList.add(this.styleNames.liveSync);\n      this._$played.setAttribute('style', `width:100%;`);\n    } else {\n      this._$syncButton.classList.remove(this.styleNames.liveSync);\n    }\n  }\n\n  showProgressTimeTooltip({ time, percent }) {\n    this._tooltipService.show({\n      text: formatTime(time),\n      position: tooltipContainerNode =>\n        getProgressTimeTooltipPosition(\n          percent,\n          this._$hitbox,\n          tooltipContainerNode,\n        ),\n    });\n  }\n\n  hideProgressTimeTooltip() {\n    this._tooltipService.hide();\n  }\n\n  setLiveMode() {\n    this._$node.classList.add(this.styleNames.inLive);\n\n    this.showSyncWithLive();\n  }\n\n  setUsualMode() {\n    this._$node.classList.remove(this.styleNames.inLive);\n\n    this.hideSyncWithLive();\n  }\n\n  setPlayed(percent: number) {\n    this._setPlayedDOMAttributes(percent);\n  }\n\n  setBuffered(percent: number) {\n    this._setBufferedDOMAttributes(percent);\n  }\n\n  addTimeIndicator(percent: number) {\n    this._$timeIndicators.appendChild(\n      htmlToElement(\n        progressTimeIndicatorTemplate({\n          percent,\n          styles: this.styleNames,\n        }),\n      ),\n    );\n  }\n\n  clearTimeIndicators() {\n    this._$timeIndicators.innerHTML = '';\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._syncButtonTooltipReference.destroy();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n    delete this._$buffered;\n    delete this._$hitbox;\n    delete this._$played;\n    delete this._$seekTo;\n    delete this._$syncButton;\n    delete this._$timeIndicators;\n\n    delete this._textMap;\n  }\n}\n\nProgressView.setTheme(progressViewTheme);\nProgressView.extendStyleNames(styles);\n\nexport default ProgressView;\n","export function getTimePercent(time: number, durationTime: number): number {\n  if (!durationTime) {\n    return 0;\n  }\n\n  return parseFloat((time / durationTime * 100).toFixed(1));\n}\n\nexport function getOverallBufferedPercent(\n  buffered,\n  currentTime = 0,\n  duration = 0,\n) {\n  if (!buffered || !buffered.length || !duration) {\n    return 0;\n  }\n\n  const info = getNearestBufferSegmentInfo(buffered, currentTime);\n\n  return getTimePercent(info.end, duration);\n}\n\nexport function getOverallPlayedPercent(currentTime = 0, duration = 0) {\n  return getTimePercent(currentTime, duration);\n}\n\nexport function geOverallBufferLength(buffered) {\n  let size = 0;\n\n  if (!buffered || !buffered.length) {\n    return size;\n  }\n\n  for (let i = 0; i < buffered.length; i += 1) {\n    size += buffered.end(i) - buffered.start(i);\n  }\n\n  return size;\n}\n\nexport function getNearestBufferSegmentInfo(buffered, currentTime?) {\n  let i = 0;\n\n  if (!buffered || !buffered.length) {\n    return null;\n  }\n\n  while (\n    i < buffered.length - 1 &&\n    !(buffered.start(i) <= currentTime && currentTime <= buffered.end(i))\n  ) {\n    i += 1;\n  }\n\n  return {\n    start: buffered.start(i),\n    end: buffered.end(i),\n  };\n}\n","import { IProgressViewConfig } from './types';\nimport View from './progress.view';\n\nimport {\n  getTimePercent,\n  getOverallBufferedPercent,\n  getOverallPlayedPercent,\n} from '../../../../utils/video-data';\n\nimport {\n  VIDEO_EVENTS,\n  UI_EVENTS,\n  STATES,\n  LiveState,\n} from '../../../../constants/index';\nimport { AMOUNT_TO_SKIP_SECONDS } from '../../../keyboard-control/keyboard-control';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\nimport playerAPI from '../../../../utils/player-api-decorator';\nimport { ITooltipService } from '../../core/tooltip';\n\nconst UPDATE_INTERVAL_DELAY = 1000 / 60;\n\nexport default class ProgressControl {\n  static moduleName = 'progressControl';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'liveStateEngine',\n    'eventEmitter',\n    'textMap',\n    'tooltipService',\n    'theme',\n  ];\n\n  private _engine;\n  private _liveStateEngine;\n  private _eventEmitter;\n  private _textMap;\n  private _tooltipService: ITooltipService;\n  private _theme;\n\n  private _isUserInteracting: boolean;\n  private _shouldPlayAfterManipulationEnd: boolean;\n  private _currentProgress: number;\n  private _interceptor;\n  private _updateControlInterval;\n  private _timeIndicatorsToAdd: number[];\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    engine,\n    liveStateEngine,\n    eventEmitter,\n    textMap,\n    tooltipService,\n    theme,\n  }) {\n    this._engine = engine;\n    this._liveStateEngine = liveStateEngine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n    this._isUserInteracting = false;\n    this._currentProgress = 0;\n    this._theme = theme;\n\n    this._timeIndicatorsToAdd = [];\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n\n    this.view.setPlayed(0);\n    this.view.setBuffered(0);\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._processStateChange,\n      this,\n    );\n    this._eventEmitter.on(\n      VIDEO_EVENTS.LIVE_STATE_CHANGED,\n      this._processLiveStateChange,\n      this,\n    );\n    this._eventEmitter.on(\n      VIDEO_EVENTS.CHUNK_LOADED,\n      this._updateBufferIndicator,\n      this,\n    );\n    this._eventEmitter.on(\n      VIDEO_EVENTS.DURATION_UPDATED,\n      this._updateAllIndicators,\n      this,\n    );\n  }\n\n  private _initUI() {\n    const config: IProgressViewConfig = {\n      callbacks: {\n        onSyncWithLiveClick: this._syncWithLive,\n        onChangePlayedProgress: this._changePlayedProgress,\n        onSeekToByMouseStart: this._onSeekToByMouseStart,\n        onSeekToByMouseEnd: this._onSeekToByMouseEnd,\n        onDragStart: this._onUserInteractionStarts,\n        onDragEnd: this._onUserInteractionEnds,\n      },\n      theme: this._theme,\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    };\n\n    this.view = new ProgressControl.View(config);\n  }\n\n  private _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor({\n      node: this.view.getNode(),\n      callbacks: {\n        [KEYCODES.UP_ARROW]: e => {\n          e.stopPropagation();\n          e.preventDefault();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED);\n          this._engine.goForward(AMOUNT_TO_SKIP_SECONDS);\n        },\n        [KEYCODES.DOWN_ARROW]: e => {\n          e.stopPropagation();\n          e.preventDefault();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\n          );\n          this._engine.goBackward(AMOUNT_TO_SKIP_SECONDS);\n        },\n        [KEYCODES.RIGHT_ARROW]: e => {\n          e.stopPropagation();\n          e.preventDefault();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED);\n          this._engine.goForward(AMOUNT_TO_SKIP_SECONDS);\n        },\n        [KEYCODES.LEFT_ARROW]: e => {\n          e.stopPropagation();\n          e.preventDefault();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\n          );\n          this._engine.goBackward(AMOUNT_TO_SKIP_SECONDS);\n        },\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  private _bindCallbacks() {\n    this._syncWithLive = this._syncWithLive.bind(this);\n    this._updateControlOnInterval = this._updateControlOnInterval.bind(this);\n    this._changePlayedProgress = this._changePlayedProgress.bind(this);\n    this._onSeekToByMouseStart = this._onSeekToByMouseStart.bind(this);\n    this._onSeekToByMouseEnd = this._onSeekToByMouseEnd.bind(this);\n    this._onUserInteractionStarts = this._onUserInteractionStarts.bind(this);\n    this._onUserInteractionEnds = this._onUserInteractionEnds.bind(this);\n    this._processStateChange = this._processStateChange.bind(this);\n    this._playVideoOnProgressManipulationEnd = this._playVideoOnProgressManipulationEnd.bind(\n      this,\n    );\n  }\n\n  private _changePlayedProgress(value) {\n    if (this._currentProgress === value) {\n      return;\n    }\n\n    this._currentProgress = value;\n    this._changeCurrentTimeOfVideo(this._currentProgress / 100);\n  }\n\n  private _startIntervalUpdates() {\n    if (this._updateControlInterval) {\n      this._stopIntervalUpdates();\n    }\n\n    this._updateControlOnInterval();\n\n    this._updateControlInterval = setInterval(\n      this._updateControlOnInterval,\n      UPDATE_INTERVAL_DELAY,\n    );\n  }\n\n  private _onSeekToByMouseStart(percent) {\n    const durationTime = this._engine.getDurationTime();\n    const seekTime = durationTime * percent / 100;\n    const time = this._engine.isDynamicContent\n      ? seekTime - durationTime\n      : seekTime;\n\n    this.view.showProgressTimeTooltip({ time, percent });\n  }\n\n  private _onSeekToByMouseEnd() {\n    this.view.hideProgressTimeTooltip();\n  }\n\n  private _stopIntervalUpdates() {\n    clearInterval(this._updateControlInterval);\n    this._updateControlInterval = false;\n  }\n\n  private _onUserInteractionStarts() {\n    if (!this._isUserInteracting) {\n      this._isUserInteracting = true;\n      this._pauseVideoOnProgressManipulationStart();\n    }\n\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_START);\n  }\n\n  private _onUserInteractionEnds() {\n    if (this._isUserInteracting) {\n      this._isUserInteracting = false;\n      this._playVideoOnProgressManipulationEnd();\n    }\n\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_END);\n  }\n\n  private _updateControlOnInterval() {\n    this._updatePlayedIndicator();\n    this._updateBufferIndicator();\n  }\n\n  private _processStateChange({ nextState }) {\n    switch (nextState) {\n      case STATES.SRC_SET:\n        this.reset();\n        break;\n      case STATES.METADATA_LOADED:\n        this._initTimeIndicators();\n\n        if (this._engine.isSeekAvailable) {\n          this.show();\n        } else {\n          this.hide();\n        }\n\n        break;\n      case STATES.PLAYING:\n        if (this._liveStateEngine.getState() === LiveState.SYNC) {\n          this.view.setPlayed(100);\n        } else {\n          this._startIntervalUpdates();\n        }\n        break;\n      case STATES.SEEK_IN_PROGRESS:\n        this._updatePlayedIndicator();\n        this._updateBufferIndicator();\n        break;\n      default:\n        this._stopIntervalUpdates();\n        break;\n    }\n  }\n\n  private _processLiveStateChange({ nextState }) {\n    switch (nextState) {\n      case LiveState.NONE:\n        this.view.setLiveSyncStatus(false);\n        this.view.setUsualMode();\n        break;\n\n      case LiveState.INITIAL:\n        this.view.setLiveMode();\n        break;\n\n      case LiveState.SYNC:\n        this.view.setLiveSyncStatus(true);\n        break;\n\n      case LiveState.NOT_SYNC:\n        this.view.setLiveSyncStatus(false);\n        break;\n\n      case LiveState.ENDED:\n        this.view.setLiveSyncStatus(false);\n        this.view.hideSyncWithLive();\n\n        // ensure progress indicators show latest info\n        if (this._engine.getCurrentState() === STATES.PLAYING) {\n          this._startIntervalUpdates();\n        } else {\n          this._updatePlayedIndicator();\n          this._updateBufferIndicator();\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private _changeCurrentTimeOfVideo(percent) {\n    const duration = this._engine.getDurationTime();\n\n    this._engine.setCurrentTime(duration * percent);\n\n    this._eventEmitter.emit(UI_EVENTS.PROGRESS_CHANGE_TRIGGERED, percent);\n  }\n\n  private _pauseVideoOnProgressManipulationStart() {\n    const currentState = this._engine.getCurrentState();\n\n    if (\n      currentState === STATES.PLAYING ||\n      currentState === STATES.PLAY_REQUESTED\n    ) {\n      this._shouldPlayAfterManipulationEnd = true;\n      this._engine.pause();\n    }\n    this._eventEmitter.emit(UI_EVENTS.PROGRESS_MANIPULATION_STARTED);\n  }\n\n  private _playVideoOnProgressManipulationEnd() {\n    if (this._shouldPlayAfterManipulationEnd) {\n      this._engine.play();\n\n      this._shouldPlayAfterManipulationEnd = false;\n    }\n\n    this._eventEmitter.emit(UI_EVENTS.PROGRESS_MANIPULATION_ENDED);\n  }\n\n  private _updateBufferIndicator() {\n    const currentTime = this._engine.getCurrentTime();\n    const buffered = this._engine.getBuffered();\n    const duration = this._engine.getDurationTime();\n\n    this.updateBuffered(\n      getOverallBufferedPercent(buffered, currentTime, duration),\n    );\n  }\n\n  private _updatePlayedIndicator() {\n    if (this._liveStateEngine.getState() === LiveState.SYNC) {\n      // TODO: mb use this.updatePlayed(100) here?\n      return;\n    }\n\n    const currentTime = this._engine.getCurrentTime();\n    const duration = this._engine.getDurationTime();\n\n    this.updatePlayed(getOverallPlayedPercent(currentTime, duration));\n  }\n\n  private _updateAllIndicators() {\n    this._updatePlayedIndicator();\n    this._updateBufferIndicator();\n  }\n\n  private _initTimeIndicators() {\n    this._timeIndicatorsToAdd.forEach(time => {\n      this._addTimeIndicator(time);\n    });\n    this._timeIndicatorsToAdd = [];\n  }\n\n  private _addTimeIndicator(time) {\n    const durationTime = this._engine.getDurationTime();\n\n    if (time > durationTime) {\n      // TODO: log error for developers\n      return;\n    }\n\n    this.view.addTimeIndicator(getTimePercent(time, durationTime));\n  }\n\n  private _syncWithLive() {\n    this._engine.syncWithLive();\n  }\n\n  /**\n   * Add time indicator to progress bar\n   */\n  @playerAPI()\n  addTimeIndicator(time: number) {\n    this.addTimeIndicators([time]);\n  }\n\n  /**\n   * Add time indicators to progress bar\n   */\n  @playerAPI()\n  addTimeIndicators(times: number[]) {\n    if (!this._engine.isMetadataLoaded) {\n      // NOTE: Add indicator after metadata loaded\n      this._timeIndicatorsToAdd.push(...times);\n      return;\n    }\n\n    times.forEach(time => {\n      this._addTimeIndicator(time);\n    });\n  }\n\n  /**\n   * Delete all time indicators from progress bar\n   */\n  @playerAPI()\n  clearTimeIndicators() {\n    this.view.clearTimeIndicators();\n  }\n\n  updatePlayed(percent) {\n    this._currentProgress = percent;\n    this.view.setPlayed(this._currentProgress);\n  }\n\n  updateBuffered(percent) {\n    this.view.setBuffered(percent);\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  private _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.DURATION_UPDATED,\n      this._updateAllIndicators,\n      this,\n    );\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._processStateChange,\n      this,\n    );\n    this._eventEmitter.off(\n      VIDEO_EVENTS.LIVE_STATE_CHANGED,\n      this._processLiveStateChange,\n      this,\n    );\n    this._eventEmitter.off(\n      VIDEO_EVENTS.CHUNK_LOADED,\n      this._updateBufferIndicator,\n      this,\n    );\n  }\n\n  reset() {\n    this.updatePlayed(0);\n    this.updateBuffered(0);\n    this.clearTimeIndicators();\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._stopIntervalUpdates();\n    this._unbindEvents();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._engine;\n    delete this._liveStateEngine;\n    delete this._timeIndicatorsToAdd;\n  }\n}\n","export default {\n  playSvgFill: {\n    fill: data => data.color,\n  },\n};\n","import { TEXT_LABELS } from '../../../../constants/index';\n\nimport View from '../../core/view';\nimport { IView } from '../../core/types';\n\nimport {\n  controlTemplate,\n  playIconTemplate,\n  pauseIconTemplate,\n} from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport { IPlayViewStyles, IPlayViewCallbacks, IPlayViewConfig } from './types';\n\nimport playViewTheme from './play.theme';\nimport styles from './play.scss';\n\nconst DATA_IS_PLAYING = 'data-is-playing';\n\nclass PlayView extends View<IPlayViewStyles> implements IView<IPlayViewStyles> {\n  private _callbacks: IPlayViewCallbacks;\n  private _textMap;\n\n  private _$node: HTMLElement;\n  private _$playbackControl: HTMLElement;\n\n  constructor(config: IPlayViewConfig) {\n    const { callbacks, textMap, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n\n    this._$node = htmlToElement(\n      controlTemplate({\n        styles: this.styleNames,\n        texts: {\n          label: this._textMap.get(TEXT_LABELS.PLAY_CONTROL_LABEL),\n        },\n      }),\n    );\n\n    this._$playbackControl = getElementByHook(this._$node, 'playback-control');\n\n    this.setState({ isPlaying: false });\n    this._bindEvents();\n  }\n\n  _bindEvents() {\n    this._onButtonClick = this._onButtonClick.bind(this);\n\n    this._$playbackControl.addEventListener('click', this._onButtonClick);\n  }\n\n  _unbindEvents() {\n    this._$playbackControl.removeEventListener('click', this._onButtonClick);\n  }\n\n  _onButtonClick() {\n    this._$playbackControl.focus();\n    this._callbacks.onButtonClick();\n  }\n\n  setState({ isPlaying }) {\n    if (isPlaying) {\n      this._$playbackControl.classList.remove(this.styleNames.paused);\n      this._$playbackControl.innerHTML = pauseIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$playbackControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.PAUSE_CONTROL_LABEL),\n      );\n    } else {\n      this._$playbackControl.classList.add(this.styleNames.paused);\n      this._$playbackControl.innerHTML = playIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$playbackControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.PLAY_CONTROL_LABEL),\n      );\n    }\n\n    this._$node.setAttribute(DATA_IS_PLAYING, isPlaying);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$playbackControl;\n    delete this._$node;\n    delete this._textMap;\n  }\n}\n\nPlayView.setTheme(playViewTheme);\nPlayView.extendStyleNames(styles);\n\nexport default PlayView;\n","import { IPlayViewConfig } from './types';\n\nimport View from './play.view';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport { VIDEO_EVENTS, UI_EVENTS, STATES } from '../../../../constants/index';\n\nexport default class PlayControl {\n  static moduleName = 'playControl';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'textMap', 'theme'];\n\n  private _engine;\n  private _eventEmitter;\n  private _textMap;\n  private _theme;\n\n  private _interceptor;\n  private _isPlaying: boolean;\n\n  view: View;\n\n  constructor({ engine, eventEmitter, textMap, theme }) {\n    this._engine = engine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._theme = theme;\n\n    this._isPlaying = null;\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n\n    this.setControlStatus(false);\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor({\n      node: this.node,\n      callbacks: {\n        [KEYCODES.SPACE_BAR]: e => {\n          e.stopPropagation();\n          this._eventEmitter.emit(\n            UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n          );\n        },\n        [KEYCODES.ENTER]: e => {\n          e.stopPropagation();\n          this._eventEmitter.emit(\n            UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n          );\n        },\n      },\n    });\n  }\n\n  _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  _bindCallbacks() {\n    this._togglePlayback = this._togglePlayback.bind(this);\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._updatePlayingStatus,\n      this,\n    );\n  }\n\n  _togglePlayback() {\n    if (this._isPlaying) {\n      this._pauseVideo();\n    } else {\n      this._playVideo();\n    }\n  }\n\n  _playVideo() {\n    this._engine.play();\n\n    this._eventEmitter.emit(UI_EVENTS.PLAY_TRIGGERED);\n  }\n\n  _pauseVideo() {\n    this._engine.pause();\n\n    this._eventEmitter.emit(UI_EVENTS.PAUSE_TRIGGERED);\n  }\n\n  _updatePlayingStatus({ nextState }) {\n    if (nextState === STATES.SRC_SET) {\n      this.reset();\n    } else if (nextState === STATES.PLAYING) {\n      this.setControlStatus(true);\n    } else if (\n      nextState === STATES.PAUSED ||\n      nextState === STATES.ENDED ||\n      nextState === STATES.SEEK_IN_PROGRESS\n    ) {\n      this.setControlStatus(false);\n    }\n  }\n\n  _initUI() {\n    const config: IPlayViewConfig = {\n      callbacks: {\n        onButtonClick: this._togglePlayback,\n      },\n      theme: this._theme,\n      textMap: this._textMap,\n    };\n\n    this.view = new PlayControl.View(config);\n  }\n\n  setControlStatus(isPlaying) {\n    this._isPlaying = isPlaying;\n    this.view.setState({ isPlaying: this._isPlaying });\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._updatePlayingStatus,\n      this,\n    );\n  }\n\n  reset() {\n    this.setControlStatus(false);\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._unbindEvents();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._engine;\n    delete this._textMap;\n  }\n}\n","export default {\n  timeText: {\n    color: data => data.color,\n  },\n};\n","import View from '../../core/view';\nimport { IView } from '../../core/types';\n\nimport formatTime from '../../core/utils/formatTime';\n\nimport { timeTemplate } from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport { ITimeViewStyles, ITimeViewConfig } from './types';\nimport timeViewTheme from './time.theme';\nimport styles from './time.scss';\n\nclass TimeView extends View<ITimeViewStyles> implements IView<ITimeViewStyles> {\n  private _$node: HTMLElement;\n  private _$currentTime: HTMLElement;\n  private _$durationTime: HTMLElement;\n  private _duration: number;\n  private _current: number;\n  private _isBackward: boolean;\n  constructor(config: ITimeViewConfig) {\n    const { theme } = config;\n    super(theme);\n\n    this._initDOM();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      timeTemplate({ styles: this.styleNames, themeStyles: this.themeStyles }),\n    );\n\n    this._$currentTime = getElementByHook(\n      this._$node,\n      'current-time-indicator',\n    );\n    this._$durationTime = getElementByHook(\n      this._$node,\n      'duration-time-indicator',\n    );\n  }\n\n  setDurationTime(duration: number) {\n    if (duration !== this._duration) {\n      this._duration = duration;\n      this._updateDurationTime();\n    }\n  }\n\n  setCurrentTime(current: number) {\n    if (current !== this._current) {\n      this._current = current;\n      this._updateCurrentTime();\n    }\n  }\n\n  setCurrentTimeBackward(_isBackward: boolean) {\n    this._isBackward = _isBackward;\n    this._updateCurrentTime();\n  }\n\n  private _updateDurationTime() {\n    this._$durationTime.innerHTML = formatTime(this._duration);\n  }\n\n  private _updateCurrentTime() {\n    if (this._isBackward) {\n      this._$currentTime.innerHTML = formatTime(this._current - this._duration);\n    } else {\n      this._$currentTime.innerHTML = formatTime(this._current);\n    }\n  }\n\n  showDuration() {\n    this._$durationTime.classList.remove(this.styleNames.hidden);\n  }\n\n  hideDuration() {\n    this._$durationTime.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$currentTime;\n    delete this._$durationTime;\n    delete this._$node;\n  }\n}\n\nTimeView.setTheme(timeViewTheme);\nTimeView.extendStyleNames(styles);\n\nexport default TimeView;\n","import { ITimeViewConfig } from './types';\n\nimport View from './time.view';\n\nimport { VIDEO_EVENTS, STATES, LiveState } from '../../../../constants/index';\n\nconst UPDATE_INTERVAL_DELAY = 1000 / 60;\n\nexport default class TimeControl {\n  static moduleName = 'timeControl';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'theme'];\n\n  private _eventEmitter;\n  private _engine;\n  private _theme;\n\n  private _updateControlInterval;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({ eventEmitter, engine, theme }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._theme = theme;\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n\n    this.setCurrentTime(0);\n    this.setDurationTime(0);\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _bindCallbacks() {\n    this._updateCurrentTime = this._updateCurrentTime.bind(this);\n    this._updateDurationTime = this._updateDurationTime.bind(this);\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._toggleIntervalUpdates,\n      this,\n    );\n    this._eventEmitter.on(\n      VIDEO_EVENTS.DURATION_UPDATED,\n      this._updateDurationTime,\n      this,\n    );\n    this._eventEmitter.on(\n      VIDEO_EVENTS.LIVE_STATE_CHANGED,\n      this._processLiveStateChange,\n      this,\n    );\n  }\n\n  _initUI() {\n    const config: ITimeViewConfig = {\n      theme: this._theme,\n    };\n    this.view = new TimeControl.View(config);\n  }\n\n  _startIntervalUpdates() {\n    if (this._updateControlInterval) {\n      this._stopIntervalUpdates();\n    }\n    this._updateControlInterval = setInterval(\n      this._updateCurrentTime,\n      UPDATE_INTERVAL_DELAY,\n    );\n  }\n\n  _stopIntervalUpdates() {\n    clearInterval(this._updateControlInterval);\n    this._updateControlInterval = null;\n  }\n\n  _processLiveStateChange({ nextState }) {\n    switch (nextState) {\n      case LiveState.NONE:\n        this.show();\n        break;\n\n      case LiveState.INITIAL:\n        this.hide();\n        break;\n\n      case LiveState.ENDED:\n        this.show();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  _toggleIntervalUpdates({ nextState }) {\n    switch (nextState) {\n      case STATES.SRC_SET:\n        this.reset();\n        break;\n      case STATES.PLAYING:\n        this._startIntervalUpdates();\n        break;\n      case STATES.SEEK_IN_PROGRESS:\n        this._updateCurrentTime();\n        break;\n      default:\n        this._stopIntervalUpdates();\n        break;\n    }\n  }\n\n  _updateDurationTime() {\n    this.setDurationTime(this._engine.getDurationTime());\n  }\n\n  _updateCurrentTime() {\n    this.setCurrentTime(this._engine.getCurrentTime());\n  }\n\n  setDurationTime(time) {\n    this.view.setDurationTime(time);\n  }\n\n  setCurrentTime(time) {\n    this.view.setCurrentTime(time);\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  reset() {\n    this.setDurationTime(0);\n    this.setCurrentTime(0);\n    this.view.showDuration();\n    this.view.setCurrentTimeBackward(false);\n    this.show();\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.STATE_CHANGED,\n      this._toggleIntervalUpdates,\n      this,\n    );\n    this._eventEmitter.off(\n      VIDEO_EVENTS.DURATION_UPDATED,\n      this._updateDurationTime,\n      this,\n    );\n  }\n\n  destroy() {\n    this._stopIntervalUpdates();\n    this._unbindEvents();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._engine;\n\n    this.isHidden = null;\n  }\n}\n","import { transperentizeColor } from '../../core/theme';\n\nexport default {\n  volumeSvgFill: {\n    fill: data => data.color,\n  },\n  volumeSvgStroke: {\n    stroke: data => data.color,\n  },\n  volumeProgress: {\n    backgroundColor: data => data.color,\n    '&:after': {\n      backgroundColor: data => data.color,\n    },\n  },\n  volumeProgressBackground: {\n    backgroundColor: data => transperentizeColor(data.color, 0.25),\n  },\n};\n","import { TEXT_LABELS } from '../../../../constants/index';\n\nimport { ITooltipReference, ITooltipService } from '../../core/tooltip';\nimport {\n  controlTemplate,\n  volume0IconTemplate,\n  volume50IconTemplate,\n  volume100IconTemplate,\n} from './templates';\n\nimport View from '../../core/view';\nimport { IView } from '../../core/types';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport {\n  IVolumeViewStyles,\n  IVolumeViewCallbacks,\n  IVolumeViewConfig,\n} from './types';\n\nimport volumeViewTheme from './volume.theme';\nimport styles from './volume.scss';\n\nconst DATA_IS_MUTED = 'data-is-muted';\nconst DATA_VOLUME = 'data-volume-percent';\n\nconst MAX_VOLUME_ICON_RANGE = 50;\n\nconst getPercentBasedOnXPosition = (\n  event: MouseEvent,\n  element: HTMLElement,\n) => {\n  const boundingRect = element.getBoundingClientRect();\n  const positionX = event.clientX;\n\n  if (positionX < boundingRect.left) {\n    return 0;\n  }\n\n  if (positionX > boundingRect.left + boundingRect.width) {\n    return 100;\n  }\n\n  return (event.clientX - boundingRect.left) / boundingRect.width * 100;\n};\n\nclass VolumeView extends View<IVolumeViewStyles>\n  implements IView<IVolumeViewStyles> {\n  private _callbacks: IVolumeViewCallbacks;\n  private _textMap;\n  private _tooltipService: ITooltipService;\n  private _muteButtonTooltipReference: ITooltipReference;\n\n  private _$node: HTMLElement;\n  private _$muteButton: HTMLElement;\n  private _$volumeNode: HTMLElement;\n  private _$volume: HTMLElement;\n  private _$hitbox: HTMLElement;\n\n  private _isDragging;\n\n  constructor(config: IVolumeViewConfig) {\n    const { callbacks, textMap, tooltipService, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._bindCallbacks();\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      controlTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n        texts: {\n          muteLabel: this._textMap.get(TEXT_LABELS.MUTE_CONTROL_LABEL),\n          volumeLabel: this._textMap.get(TEXT_LABELS.VOLUME_CONTROL_LABEL),\n        },\n      }),\n    );\n\n    this._$muteButton = getElementByHook(this._$node, 'mute-button');\n    this._$volumeNode = getElementByHook(this._$node, 'volume-input-block');\n    this._$hitbox = getElementByHook(this._$node, 'volume-hitbox');\n    this._$volume = getElementByHook(this._$node, 'volume-input');\n\n    this._muteButtonTooltipReference = this._tooltipService.createReference(\n      this._$muteButton,\n      {\n        text: this._textMap.get(TEXT_LABELS.MUTE_CONTROL_TOOLTIP),\n      },\n    );\n  }\n\n  private _bindCallbacks() {\n    this._onButtonClick = this._onButtonClick.bind(this);\n\n    this._startDragOnMouseDown = this._startDragOnMouseDown.bind(this);\n    this._stopDragOnMouseUp = this._stopDragOnMouseUp.bind(this);\n    this._setVolumeByWheel = this._setVolumeByWheel.bind(this);\n    this._setVolumeByClick = this._setVolumeByClick.bind(this);\n    this._setVolumeByDrag = this._setVolumeByDrag.bind(this);\n  }\n\n  private _bindEvents() {\n    this._$hitbox.addEventListener('wheel', this._setVolumeByWheel);\n    this._$hitbox.addEventListener('mousedown', this._startDragOnMouseDown);\n    window.addEventListener('mousemove', this._setVolumeByDrag);\n    window.addEventListener('mouseup', this._stopDragOnMouseUp);\n\n    this._$muteButton.addEventListener('click', this._onButtonClick);\n  }\n\n  private _unbindEvents() {\n    this._$hitbox.removeEventListener('wheel', this._setVolumeByWheel);\n    this._$hitbox.removeEventListener('mousedown', this._startDragOnMouseDown);\n    window.removeEventListener('mousemove', this._setVolumeByDrag);\n    window.removeEventListener('mouseup', this._stopDragOnMouseUp);\n\n    this._$muteButton.removeEventListener('click', this._onButtonClick);\n  }\n\n  private _startDragOnMouseDown(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n    this._setVolumeByClick(event);\n    this._startDrag();\n  }\n\n  private _stopDragOnMouseUp(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n\n    this._stopDrag();\n  }\n\n  private _setVolumeByClick(event: MouseEvent) {\n    this._$volumeNode.focus();\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n    this._callbacks.onVolumeLevelChangeFromInput(percent);\n  }\n\n  private _setVolumeByDrag(event: MouseEvent) {\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n    if (this._isDragging) {\n      this._callbacks.onVolumeLevelChangeFromInput(percent);\n    }\n  }\n\n  private _setVolumeByWheel(e: WheelEvent) {\n    e.preventDefault();\n    const value = e.deltaX || e.deltaY * -1;\n\n    if (!value) {\n      return;\n    }\n\n    this._callbacks.onVolumeLevelChangeFromWheel(value);\n  }\n\n  private _startDrag() {\n    this._isDragging = true;\n    this._$node.classList.add(this.styleNames.isDragging);\n    this._callbacks.onDragStart();\n  }\n\n  private _stopDrag() {\n    if (this._isDragging) {\n      this._isDragging = false;\n      this._$node.classList.remove(this.styleNames.isDragging);\n      this._callbacks.onDragEnd();\n    }\n  }\n\n  private _setVolumeDOMAttributes(percent: number) {\n    this._$volumeNode.setAttribute('value', String(percent));\n    this._$volumeNode.setAttribute(\n      'aria-valuetext',\n      this._textMap.get(TEXT_LABELS.VOLUME_CONTROL_VALUE, { percent }),\n    );\n    this._$volumeNode.setAttribute('aria-valuenow', String(percent));\n    this._$volumeNode.setAttribute(DATA_VOLUME, String(percent));\n\n    this._$volume.setAttribute('style', `width:${percent}%;`);\n\n    this._$node.setAttribute(DATA_VOLUME, String(percent));\n\n    const iconTemplateProps = {\n      styles: this.styleNames,\n      themeStyles: this.themeStyles,\n    };\n\n    if (percent >= MAX_VOLUME_ICON_RANGE) {\n      this._$muteButton.innerHTML = volume100IconTemplate(iconTemplateProps);\n    } else if (percent > 0) {\n      this._$muteButton.innerHTML = volume50IconTemplate(iconTemplateProps);\n    } else {\n      this._$muteButton.innerHTML = volume0IconTemplate(iconTemplateProps);\n    }\n  }\n\n  private _onButtonClick() {\n    this._$muteButton.focus();\n    this._callbacks.onToggleMuteClick();\n  }\n\n  setVolume(volume: number) {\n    this._setVolumeDOMAttributes(volume);\n  }\n\n  setMute(isMuted: boolean) {\n    this._setMuteDOMAttributes(isMuted);\n  }\n\n  private _setMuteDOMAttributes(isMuted) {\n    if (isMuted) {\n      this._$muteButton.innerHTML = volume0IconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n    }\n\n    this._$node.setAttribute(DATA_IS_MUTED, isMuted);\n    this._$muteButton.setAttribute(\n      'aria-label',\n      isMuted\n        ? this._textMap.get(TEXT_LABELS.UNMUTE_CONTROL_LABEL)\n        : this._textMap.get(TEXT_LABELS.MUTE_CONTROL_LABEL),\n    );\n    this._muteButtonTooltipReference.setText(\n      isMuted\n        ? this._textMap.get(TEXT_LABELS.UNMUTE_CONTROL_TOOLTIP)\n        : this._textMap.get(TEXT_LABELS.MUTE_CONTROL_TOOLTIP),\n    );\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  getButtonNode() {\n    return this._$muteButton;\n  }\n\n  getInputNode() {\n    return this._$volumeNode;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._muteButtonTooltipReference.destroy();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$muteButton;\n    delete this._$node;\n\n    delete this._textMap;\n  }\n}\n\nVolumeView.setTheme(volumeViewTheme);\nVolumeView.extendStyleNames(styles);\n\nexport default VolumeView;\n","import { ITooltipService } from '../../core/tooltip';\nimport { IVolumeViewConfig } from './types';\n\nimport View from './volume.view';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport { AMOUNT_TO_CHANGE_VOLUME } from '../../../keyboard-control/keyboard-control';\nimport { VIDEO_EVENTS, UI_EVENTS } from '../../../../constants/index';\n\nexport default class VolumeControl {\n  static moduleName = 'volumeControl';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'eventEmitter',\n    'textMap',\n    'tooltipService',\n    'theme',\n  ];\n\n  private _engine;\n  private _eventEmitter;\n  private _textMap;\n  private _tooltipService: ITooltipService;\n  private _theme;\n\n  private _isMuted: boolean;\n  private _volume: number;\n\n  private _buttonInterceptor;\n  private _inputInterceptor;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({ engine, eventEmitter, textMap, tooltipService, theme }) {\n    this._engine = engine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n    this._theme = theme;\n\n    this._isMuted = this._engine.getMute();\n    this._volume = this._engine.getVolume();\n\n    this._bindCallbacks();\n\n    this._initUI();\n\n    this._bindEvents();\n\n    this.view.setVolume(this._volume);\n    this.view.setMute(this._isMuted);\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI() {\n    const config: IVolumeViewConfig = {\n      callbacks: {\n        onDragStart: this._broadcastDragStart,\n        onDragEnd: this._broadcastDragEnd,\n        onVolumeLevelChangeFromInput: this._getVolumeLevelFromInput,\n        onVolumeLevelChangeFromWheel: this._getVolumeLevelFromWheel,\n        onToggleMuteClick: this._toggleMuteStatus,\n      },\n      theme: this._theme,\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    };\n\n    this.view = new VolumeControl.View(config);\n  }\n\n  private _initInterceptor() {\n    this._buttonInterceptor = new KeyboardInterceptor({\n      node: this.view.getButtonNode(),\n      callbacks: {\n        [KEYCODES.SPACE_BAR]: e => {\n          e.stopPropagation();\n\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            this._isMuted\n              ? UI_EVENTS.UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED\n              : UI_EVENTS.MUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n          );\n        },\n        [KEYCODES.ENTER]: e => {\n          e.stopPropagation();\n\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            this._isMuted\n              ? UI_EVENTS.UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED\n              : UI_EVENTS.MUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n          );\n        },\n      },\n    });\n\n    this._inputInterceptor = new KeyboardInterceptor({\n      node: this.view.getInputNode(),\n      callbacks: {\n        [KEYCODES.RIGHT_ARROW]: e => {\n          e.stopPropagation();\n          e.preventDefault();\n\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            UI_EVENTS.INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n          );\n\n          this._engine.increaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n        },\n        [KEYCODES.LEFT_ARROW]: e => {\n          e.stopPropagation();\n          e.preventDefault();\n\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            UI_EVENTS.DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n          );\n\n          this._engine.decreaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n        },\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    this._buttonInterceptor.destroy();\n    this._inputInterceptor.destroy();\n  }\n\n  private _bindEvents() {\n    this._eventEmitter.on(\n      VIDEO_EVENTS.VOLUME_STATUS_CHANGED,\n      this._updateVolumeStatus,\n      this,\n    );\n  }\n\n  private _bindCallbacks() {\n    this._getVolumeLevelFromInput = this._getVolumeLevelFromInput.bind(this);\n    this._toggleMuteStatus = this._toggleMuteStatus.bind(this);\n    this._getVolumeLevelFromWheel = this._getVolumeLevelFromWheel.bind(this);\n    this._broadcastDragStart = this._broadcastDragStart.bind(this);\n    this._broadcastDragEnd = this._broadcastDragEnd.bind(this);\n  }\n\n  private _broadcastDragStart() {\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_START);\n  }\n\n  private _broadcastDragEnd() {\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_END);\n  }\n\n  private _changeVolumeLevel(level) {\n    this._engine.setVolume(level);\n    this._eventEmitter.emit(UI_EVENTS.VOLUME_CHANGE_TRIGGERED, level);\n  }\n\n  private _toggleMuteStatus() {\n    this._engine.setMute(!this._isMuted);\n    this._eventEmitter.emit(UI_EVENTS.MUTE_STATUS_TRIGGERED, !this._isMuted);\n  }\n\n  private _getVolumeLevelFromWheel(delta) {\n    const adjustedVolume = this._volume + delta / 10;\n    const validatedVolume = Math.min(100, Math.max(0, adjustedVolume));\n\n    this._changeVolumeStatus(validatedVolume);\n  }\n\n  private _getVolumeLevelFromInput(level) {\n    this._changeVolumeStatus(level);\n  }\n\n  private _changeVolumeStatus(level) {\n    this._changeVolumeLevel(level);\n    if (this._isMuted) {\n      this._toggleMuteStatus();\n    }\n  }\n\n  private _updateVolumeStatus() {\n    this.setVolumeLevel(this._engine.getVolume());\n    this.setMuteStatus(this._engine.getMute());\n  }\n\n  setVolumeLevel(level) {\n    if (level === this._volume) {\n      return;\n    }\n\n    this._volume = level;\n\n    this.view.setVolume(this._volume);\n    this.view.setMute(Boolean(!this._volume));\n  }\n\n  setMuteStatus(isMuted) {\n    if (isMuted === this._isMuted) {\n      return;\n    }\n\n    this._isMuted = isMuted;\n\n    this.view.setVolume(this._isMuted ? 0 : this._volume);\n    this.view.setMute(this._isMuted || Boolean(!this._volume));\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  private _unbindEvents() {\n    this._eventEmitter.off(\n      VIDEO_EVENTS.VOLUME_STATUS_CHANGED,\n      this._updateVolumeStatus,\n      this,\n    );\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._unbindEvents();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._engine;\n    delete this._textMap;\n  }\n}\n","export default {\n  fullScreenSvgFill: {\n    fill: data => data.color,\n  },\n};\n","import { TEXT_LABELS } from '../../../../constants/index';\n\nimport View from '../../core/view';\nimport { IView } from '../../core/types';\n\nimport { ITooltipReference } from '../../core/tooltip';\nimport {\n  controlTemplate,\n  enterFullScreenIconTemplate,\n  exitFullScreenIconTemplate,\n} from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport {\n  IFullScreenViewStyles,\n  IFullScreenViewCallbacks,\n  IFullScreenViewConfig,\n} from './types';\n\nimport fullScreenViewTheme from './full-screen.theme';\nimport styles from './full-screen.scss';\n\nconst DATA_IS_IN_FULL_SCREEN = 'data-is-in-full-screen';\n\nclass FullScreenView extends View<IFullScreenViewStyles>\n  implements IView<IFullScreenViewStyles> {\n  private _callbacks: IFullScreenViewCallbacks;\n  private _textMap;\n  private _tooltipReference: ITooltipReference;\n\n  private _$node: HTMLElement;\n  private _$toggleFullScreenControl: HTMLElement;\n\n  constructor(config: IFullScreenViewConfig) {\n    const { callbacks, textMap, tooltipService, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n\n    this._$node = htmlToElement(\n      controlTemplate({\n        styles: this.styleNames,\n        texts: {\n          label: this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_LABEL),\n        },\n      }),\n    );\n\n    this._$toggleFullScreenControl = getElementByHook(\n      this._$node,\n      'full-screen-button',\n    );\n\n    this._tooltipReference = tooltipService.createReference(\n      this._$toggleFullScreenControl,\n      {\n        text: this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_TOOLTIP),\n      },\n    );\n\n    this.setState({ isInFullScreen: false });\n    this._bindEvents();\n  }\n\n  _bindEvents() {\n    this._onButtonClick = this._onButtonClick.bind(this);\n\n    this._$toggleFullScreenControl.addEventListener(\n      'click',\n      this._onButtonClick,\n    );\n  }\n\n  _unbindEvents() {\n    this._$toggleFullScreenControl.removeEventListener(\n      'click',\n      this._onButtonClick,\n    );\n  }\n\n  _onButtonClick() {\n    this._$toggleFullScreenControl.focus();\n    this._callbacks.onButtonClick();\n  }\n\n  setState({ isInFullScreen }) {\n    if (isInFullScreen) {\n      this._$toggleFullScreenControl.classList.add(\n        this.styleNames.inFullScreen,\n      );\n      this._$toggleFullScreenControl.innerHTML = exitFullScreenIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$toggleFullScreenControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.EXIT_FULL_SCREEN_LABEL),\n      );\n\n      this._tooltipReference.setText(\n        this._textMap.get(TEXT_LABELS.EXIT_FULL_SCREEN_TOOLTIP),\n      );\n    } else {\n      this._$toggleFullScreenControl.classList.remove(\n        this.styleNames.inFullScreen,\n      );\n      this._$toggleFullScreenControl.innerHTML = enterFullScreenIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$toggleFullScreenControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_LABEL),\n      );\n\n      this._tooltipReference.setText(\n        this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_TOOLTIP),\n      );\n    }\n\n    this._$node.setAttribute(DATA_IS_IN_FULL_SCREEN, isInFullScreen);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._tooltipReference.destroy();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n    delete this._$toggleFullScreenControl;\n    delete this._$node;\n\n    delete this._textMap;\n  }\n}\n\nFullScreenView.setTheme(fullScreenViewTheme);\nFullScreenView.extendStyleNames(styles);\n\nexport default FullScreenView;\n","import { UI_EVENTS } from '../../../../constants/index';\n\nimport { IFullScreenViewConfig } from './types';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport { ITooltipService } from '../../core/tooltip';\nimport View from './full-screen.view';\n\nexport default class FullScreenControl {\n  static moduleName = 'fullScreenControl';\n  static View = View;\n  static dependencies = [\n    'eventEmitter',\n    'fullScreenManager',\n    'textMap',\n    'tooltipService',\n    'theme',\n  ];\n\n  private _eventEmitter;\n  private _fullScreenManager;\n  private _textMap;\n  private _interceptor;\n  private _tooltipService: ITooltipService;\n  private _theme;\n\n  private _isInFullScreen: boolean;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    eventEmitter,\n    fullScreenManager,\n    textMap,\n    tooltipService,\n    theme,\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._fullScreenManager = fullScreenManager;\n    this._textMap = textMap;\n    this._theme = theme;\n    this._tooltipService = tooltipService;\n\n    this._isInFullScreen = null;\n\n    this._bindCallbacks();\n\n    this._initUI();\n\n    this._bindEvents();\n\n    this.setControlStatus(false);\n\n    if (!this._fullScreenManager.isEnabled) {\n      this.hide();\n    }\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _bindCallbacks() {\n    this._toggleFullScreen = this._toggleFullScreen.bind(this);\n  }\n\n  _bindEvents() {\n    this._eventEmitter.on(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this.setControlStatus,\n      this,\n    );\n  }\n\n  _initUI() {\n    const config: IFullScreenViewConfig = {\n      callbacks: {\n        onButtonClick: this._toggleFullScreen,\n      },\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n      theme: this._theme,\n    };\n\n    this.view = new FullScreenControl.View(config);\n  }\n\n  _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor({\n      node: this.node,\n      callbacks: {\n        [KEYCODES.SPACE_BAR]: e => {\n          e.stopPropagation();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        },\n        [KEYCODES.ENTER]: e => {\n          e.stopPropagation();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        },\n      },\n    });\n  }\n\n  _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  _toggleFullScreen() {\n    if (this._isInFullScreen) {\n      this._exitFullScreen();\n    } else {\n      this._enterFullScreen();\n    }\n  }\n\n  _enterFullScreen() {\n    this._fullScreenManager.enterFullScreen();\n  }\n\n  _exitFullScreen() {\n    this._fullScreenManager.exitFullScreen();\n  }\n\n  setControlStatus(isInFullScreen) {\n    this._isInFullScreen = isInFullScreen;\n    this.view.setState({ isInFullScreen: this._isInFullScreen });\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  _unbindEvents() {\n    this._eventEmitter.off(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this.setControlStatus,\n      this,\n    );\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._unbindEvents();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._eventEmitter;\n    delete this._fullScreenManager;\n    delete this._textMap;\n\n    delete this.isHidden;\n  }\n}\n","import { TEXT_LABELS } from '../../../../constants/index';\n\nimport { ITooltipReference } from '../../core/tooltip';\nimport View from '../../core/view';\nimport { IView } from '../../core/types';\nimport { ILogoViewStyles, ILogoViewCallbacks, ILogoViewConfig } from './types';\nimport { logoTemplate } from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport styles from './logo.scss';\n\nclass LogoView extends View<ILogoViewStyles> implements IView<ILogoViewStyles> {\n  private _tooltipReference: ITooltipReference;\n  private _callbacks: ILogoViewCallbacks;\n  private _textMap;\n\n  private _$node: HTMLElement;\n  private _$logo: HTMLElement;\n  private _$placeholder: HTMLElement;\n\n  constructor(config: ILogoViewConfig) {\n    super();\n    const { callbacks, textMap, tooltipService } = config;\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n\n    this._$node = htmlToElement(\n      logoTemplate({\n        styles: this.styleNames,\n        texts: {\n          label: this._textMap.get(TEXT_LABELS.LOGO_LABEL),\n        },\n      }),\n    );\n\n    this._$logo = getElementByHook(this._$node, 'company-logo');\n    this._$placeholder = getElementByHook(this._$node, 'logo-placeholder');\n\n    this._tooltipReference = tooltipService.createReference(this._$node, {\n      text: this._textMap.get(TEXT_LABELS.LOGO_TOOLTIP),\n    });\n\n    this.setLogo(config.logo);\n\n    this._bindCallbacks();\n    this._bindEvents();\n  }\n\n  setLogo(url) {\n    if (url) {\n      this._$logo.classList.remove(this.styleNames.hidden);\n      this._$placeholder.classList.add(this.styleNames.hidden);\n      this._$logo.setAttribute('src', url);\n    } else {\n      this._$logo.classList.add(this.styleNames.hidden);\n      this._$placeholder.classList.remove(this.styleNames.hidden);\n      this._$logo.removeAttribute('src');\n    }\n  }\n\n  setDisplayAsLink(flag) {\n    if (flag) {\n      this._$node.classList.add(this.styleNames.link);\n      this._tooltipReference.enable();\n    } else {\n      this._$node.classList.remove(this.styleNames.link);\n      this._tooltipReference.disable();\n    }\n  }\n\n  _bindCallbacks() {\n    this._onNodeClick = this._onNodeClick.bind(this);\n  }\n\n  _bindEvents() {\n    this._$node.addEventListener('click', this._onNodeClick);\n  }\n\n  _unbindEvents() {\n    this._$node.removeEventListener('click', this._onNodeClick);\n  }\n\n  _onNodeClick() {\n    this._$node.focus();\n    this._callbacks.onLogoClick();\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._tooltipReference.destroy();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    delete this._$node;\n    delete this._$logo;\n    delete this._$placeholder;\n\n    delete this._tooltipReference;\n    delete this._textMap;\n  }\n}\n\nLogoView.extendStyleNames(styles);\n\nexport default LogoView;\n","import playerAPI from '../../../../utils/player-api-decorator';\n\nimport { ILogoViewConfig } from './types';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport { UI_EVENTS } from '../../../../constants/index';\nimport { ITooltipService } from '../../core/tooltip';\nimport View from './logo.view';\n\nexport interface ILogoConfig {\n  callback?: Function;\n  src?: string;\n  showAlways?: boolean;\n}\n\nexport default class Logo {\n  static moduleName = 'logo';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'config',\n    'eventEmitter',\n    'textMap',\n    'tooltipService',\n  ];\n\n  private _eventEmitter;\n  private _engine;\n  private _textMap;\n  private _tooltipService: ITooltipService;\n\n  private _interceptor;\n  private _callback;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({ engine, eventEmitter, config, textMap, tooltipService }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._bindCallbacks();\n\n    this._initUI();\n    this._initInterceptor();\n\n    const logoConfig = {\n      ...config.logo,\n    };\n\n    this.setLogo(logoConfig.src);\n    this.setLogoClickCallback(logoConfig.callback);\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  _bindCallbacks() {\n    this._triggerCallback = this._triggerCallback.bind(this);\n  }\n\n  _initUI() {\n    const config: ILogoViewConfig = {\n      callbacks: {\n        onLogoClick: this._triggerCallback,\n      },\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    };\n\n    this.view = new Logo.View(config);\n  }\n\n  _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor({\n      node: this.node,\n      callbacks: {\n        [KEYCODES.SPACE_BAR]: e => {\n          e.stopPropagation();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._triggerCallback();\n        },\n        [KEYCODES.ENTER]: e => {\n          e.stopPropagation();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._triggerCallback();\n        },\n      },\n    });\n  }\n\n  _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  _triggerCallback() {\n    if (this._callback) {\n      this._callback();\n    }\n  }\n\n  /**\n   * Method for setting source of image, that would be used as logo\n   * @param src - Source of logo\n   * @example\n   * player.setLogo('https://example.com/logo.png');\n   *\n   */\n  @playerAPI()\n  setLogo(src: string) {\n    this.view.setLogo(src);\n  }\n\n  /**\n   * Method for attaching callback for click on logo\n   *\n   * @param callback - Your function\n   *\n   * @example\n   * const callback = () => {\n   *   console.log('Click on title);\n   * }\n   * player.setLogoClickCallback(callback);\n   *\n   */\n  @playerAPI()\n  setLogoClickCallback(callback?: Function) {\n    this._callback = callback;\n    this.view.setDisplayAsLink(Boolean(this._callback));\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this.view.destroy();\n    delete this.view;\n\n    delete this._engine;\n    delete this._eventEmitter;\n    delete this._textMap;\n\n    delete this.isHidden;\n  }\n}\n","import View from '../core/view';\nimport { IView } from '../core/types';\n\nimport { subtitlesTemplate, singleSubtitleTemplate } from './templates';\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\n\nimport { ISubtitlesViewStyles } from './types';\n\nimport styles from './subtitles.scss';\n\nclass SubtitlesView extends View<ISubtitlesViewStyles>\n  implements IView<ISubtitlesViewStyles> {\n  private _$node: HTMLElement;\n  private _$subtitles: HTMLElement;\n\n  constructor() {\n    super();\n\n    this._initDOM();\n  }\n\n  private _initDOM(): void {\n    this._$node = htmlToElement(\n      subtitlesTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    this._$subtitles = getElementByHook(this._$node, 'subtitles-container');\n  }\n\n  getNode(): HTMLElement {\n    return this._$node;\n  }\n\n  destroy(): void {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n  }\n\n  moveSubtitlesUp(): void {\n    this._$subtitles.classList.add(this.styleNames.controlsShown);\n  }\n\n  moveSubtitlesDown(): void {\n    this._$subtitles.classList.remove(this.styleNames.controlsShown);\n  }\n\n  showSubtitles(subtitles: Array<string>): void {\n    this.clearSubtitles();\n    subtitles.forEach(subtitle => {\n      const subtitleNode = htmlToElement(\n        singleSubtitleTemplate({\n          styles: this.styleNames,\n        }),\n      );\n      subtitleNode.innerHTML = subtitle;\n      this._$subtitles.appendChild(subtitleNode);\n    });\n  }\n\n  show(): void {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide(): void {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  clearSubtitles(): void {\n    this._$subtitles.innerHTML = '';\n  }\n}\n\nSubtitlesView.extendStyleNames(styles);\n\nexport default SubtitlesView;\n","import { UI_EVENTS } from '../../../constants/index';\nimport playerAPI from '../../../utils/player-api-decorator';\n\nimport { ISubtitleConfig } from './types';\nimport SubtitlesView from './subtitles.view';\n\nexport default class Subtitles {\n  static moduleName = 'subtitle';\n  static dependencies = ['rootContainer', 'engine', 'eventEmitter'];\n  static View = SubtitlesView;\n\n  isHidden: boolean;\n  view: SubtitlesView;\n\n  private _eventEmitter;\n  private _video: HTMLVideoElement;\n  private _activeSubtitleIndex: number | null = null;\n  private _trackList: Array<TextTrack> = [];\n\n  constructor({ rootContainer, engine, eventEmitter }) {\n    this._eventEmitter = eventEmitter;\n    this._video = engine.getNode();\n\n    this._initUI();\n    this._bindCallbacks();\n    this._bindEvents();\n\n    rootContainer.appendComponentNode(this.node);\n  }\n\n  @playerAPI()\n  setSubtitles(\n    subtitles: string | ISubtitleConfig | Array<ISubtitleConfig>,\n  ): void {\n    this._clearSubtitles();\n    if (typeof subtitles === 'string') {\n      this._addSubtitle(subtitles);\n    } else if (Array.isArray(subtitles)) {\n      subtitles.forEach(subtitle => this._addSubtitle(subtitle));\n    } else {\n      this._addSubtitle(subtitles);\n    }\n  }\n\n  @playerAPI()\n  setActiveSubtitle(index: number): void {\n    this._clearActiveSubtitle();\n    this._setActiveSubtitle(index);\n  }\n\n  @playerAPI()\n  showSubtitles(): void {\n    this.view.show();\n  }\n\n  @playerAPI()\n  hideSubtitles(): void {\n    this.view.hide();\n  }\n\n  private _addSubtitle(subtitle: string | ISubtitleConfig): void {\n    const track = document.createElement('track');\n\n    if (typeof subtitle === 'string') {\n      track.setAttribute('src', subtitle);\n    } else {\n      track.setAttribute('src', subtitle.src);\n      subtitle.lang && track.setAttribute('srclang', subtitle.lang);\n      subtitle.label && track.setAttribute('label', subtitle.label);\n    }\n\n    track.setAttribute('kind', 'subtitles');\n\n    this._video.appendChild(track);\n  }\n\n  private _clearSubtitles(): void {\n    this._clearActiveSubtitle();\n    const subtitleTracks = this._video.querySelectorAll(\n      'track[kind=\"subtitles\"]',\n    );\n\n    Array.from(subtitleTracks).forEach(trackNode =>\n      this._video.removeChild(trackNode),\n    );\n  }\n\n  private _addTrackToList(event: TrackEvent): void {\n    const track: TextTrack = event.track as TextTrack;\n    this._trackList.push(track);\n  }\n\n  private _removeTrackFromList(event: TrackEvent): void {\n    const track: TextTrack = event.track as TextTrack;\n    const index = this._trackList.indexOf(track);\n    if (index !== -1) {\n      this._trackList.splice(index, 1);\n    }\n  }\n\n  private _clearActiveSubtitle(): void {\n    if (this._activeSubtitleIndex) {\n      const textTrack: TextTrack = this._trackList[this._activeSubtitleIndex];\n\n      textTrack.removeEventListener('cuechange', this._showSubtitles);\n      textTrack.mode = 'disabled';\n\n      this._activeSubtitleIndex = null;\n    }\n\n    this.view.clearSubtitles();\n  }\n\n  private _setActiveSubtitle(index: number): void {\n    const textTrack: TextTrack = this._trackList[index];\n\n    if (textTrack) {\n      textTrack.mode = 'hidden';\n      textTrack.addEventListener('cuechange', this._showSubtitles);\n      textTrack.activeCues &&\n        this.view.showSubtitles(\n          Array.from(textTrack.activeCues).map(cue => cue.text),\n        );\n    }\n\n    this._activeSubtitleIndex = index;\n  }\n\n  get node(): HTMLElement {\n    return this.view.getNode();\n  }\n\n  private _initUI(): void {\n    this.view = new Subtitles.View();\n  }\n\n  private _bindCallbacks(): void {\n    this._showSubtitles = this._showSubtitles.bind(this);\n    this._addTrackToList = this._addTrackToList.bind(this);\n    this._removeTrackFromList = this._removeTrackFromList.bind(this);\n  }\n\n  private _bindEvents(): void {\n    this._eventEmitter.on(\n      UI_EVENTS.MAIN_BLOCK_SHOW_TRIGGERED,\n      this.view.moveSubtitlesUp,\n      this.view,\n    );\n    this._eventEmitter.on(\n      UI_EVENTS.MAIN_BLOCK_HIDE_TRIGGERED,\n      this.view.moveSubtitlesDown,\n      this.view,\n    );\n\n    const textTracks: any = this._video.textTracks;\n\n    if (textTracks) {\n      textTracks.onaddtrack = this._addTrackToList;\n      textTracks.onremovetrack = this._removeTrackFromList;\n    }\n  }\n\n  private _unbindEvents(): void {\n    this._eventEmitter.off(\n      UI_EVENTS.MAIN_BLOCK_SHOW_TRIGGERED,\n      this.view.moveSubtitlesUp,\n      this.view,\n    );\n    this._eventEmitter.off(\n      UI_EVENTS.MAIN_BLOCK_HIDE_TRIGGERED,\n      this.view.moveSubtitlesDown,\n      this.view,\n    );\n\n    const textTracks: any = this._video.textTracks;\n\n    if (textTracks) {\n      textTracks.onaddtrack = null;\n      textTracks.onremovetrack = null;\n    }\n  }\n\n  private _showSubtitles(event: TrackEvent): void {\n    const textTrack: TextTrack = event.target as TextTrack;\n    this.view.showSubtitles(\n      Array.from(textTrack.activeCues).map(cue => cue.text),\n    );\n  }\n\n  destroy(): void {\n    this._unbindEvents();\n\n    this._eventEmitter = null;\n    this._video = null;\n  }\n}\n","import DependencyContainer from '../core/dependency-container';\n\nimport RootContainer from './root-container/root-container';\nimport EventEmitter from './event-emitter/event-emitter';\nimport Engine from './playback-engine/playback-engine';\nimport ThemeService from './ui/core/theme';\nimport TextMap from './text-map/text-map';\n\nimport FullScreenManager from './full-screen-manager/full-screen-manager';\n\nimport LiveStateEngine from './playback-engine/live-state-engine';\nimport KeyboardInterceptor from './keyboard-control/keyboard-control';\nimport MouseInterceptor from './mouse-interceptor/mouse-interceptor';\nimport DebugPanel from './ui/debug-panel/debug-panel';\n\nimport Screen from './ui/screen/screen';\nimport InteractionIndicator from './ui/interaction-indicator/interaction-indicator';\n\nimport Overlay from './ui/overlay/overlay';\nimport Loader from './ui/loader/loader';\n\nimport MainUIBlock from './ui/main-ui-block/main-ui-block';\nimport TopBlock from './ui/top-block/top-block';\nimport Title from './ui/title/title';\nimport LiveIndicator from './ui/live-indicator/live-indicator';\n\nimport BottomBlock from './ui/bottom-block/bottom-block';\nimport ProgressControl from './ui/controls/progress/progress';\nimport PlayControl from './ui/controls/play/play';\nimport TimeControl from './ui/controls/time/time';\nimport VolumeControl from './ui/controls/volume/volume';\nimport FullScreenControl from './ui/controls/full-screen/full-screen';\nimport Logo from './ui/controls/logo/logo';\n\nimport Subtitles from './ui/subtitles/subtitles';\n\nimport { TooltipService } from './ui/core/tooltip';\n\nconst { asClass } = DependencyContainer;\n\nexport const modules = {\n  RootContainer,\n  EventEmitter,\n  Engine,\n  ThemeService,\n  TextMap,\n\n  FullScreenManager,\n\n  LiveStateEngine,\n  KeyboardInterceptor,\n  MouseInterceptor,\n  DebugPanel,\n\n  Screen,\n  InteractionIndicator,\n\n  Overlay,\n  Loader,\n\n  MainUIBlock,\n\n  TopBlock,\n  LiveIndicator,\n  Title,\n\n  BottomBlock,\n  ProgressControl,\n  PlayControl,\n  TimeControl,\n  VolumeControl,\n  FullScreenControl,\n  Logo,\n\n  TooltipService,\n  Subtitles,\n};\n\nconst DIModules = Object.keys(modules).reduce((DIModules, key) => {\n  const module = modules[key];\n  if (!module.moduleName) {\n    throw new Error(`No moduleName in module: ${key}`);\n  }\n\n  DIModules[module.moduleName] = asClass(module).scoped();\n  return DIModules;\n}, {});\n\nexport default DIModules;\n","/**\n * `true` if we are running inside a web browser, `false` otherwise (e.g. running inside Node.js).\n */\nexport const isBrowser = typeof window !== 'undefined';\n\n/**\n * This is a map which lists native support of formats and APIs.\n * It gets filled during runtime with the relevant values to the current environment.\n */\nexport const NativeEnvironmentSupport = {\n  MSE: false,\n  HLS: false,\n  DASH: false,\n  MP4: false,\n  WEBM: false,\n  OGG: false,\n};\n\n/* ignore coverage */\nfunction detectEnvironment() {\n  if (!isBrowser) {\n    return; // Not in a browser\n  }\n  NativeEnvironmentSupport.MSE =\n    'WebKitMediaSource' in window || 'MediaSource' in window;\n  const video = document.createElement('video');\n  if (typeof video.canPlayType !== 'function') {\n    return; // env doesn't support HTMLMediaElement (e.g PhantomJS)\n  }\n  if (\n    video.canPlayType('application/x-mpegURL') ||\n    video.canPlayType('application/vnd.apple.mpegURL')\n  ) {\n    NativeEnvironmentSupport.HLS = true;\n  }\n  if (video.canPlayType('application/dash+xml')) {\n    NativeEnvironmentSupport.DASH = true;\n  }\n  if (video.canPlayType('video/mp4')) {\n    NativeEnvironmentSupport.MP4 = true;\n  }\n  if (video.canPlayType('video/webm')) {\n    NativeEnvironmentSupport.WEBM = true;\n  }\n  if (video.canPlayType('video/ogg')) {\n    NativeEnvironmentSupport.OGG = true;\n  }\n}\n\ndetectEnvironment(); // Run once\n","import { VIDEO_EVENTS, ERRORS } from '../../../constants';\n\nimport {\n  geOverallBufferLength,\n  getNearestBufferSegmentInfo,\n} from '../../../utils/video-data';\nimport { NativeEnvironmentSupport } from '../../../utils/environment-detection';\nimport { IPlaybackAdapter } from './types';\n\nconst NATIVE_ERROR_CODES = {\n  ABORTED: 1,\n  NETWORK: 2,\n  DECODE: 3,\n  SRC_NOT_SUPPORTED: 4,\n};\n\nexport default function getNativeAdapterCreator(streamType, deliveryPriority) {\n  class NativeAdapter implements IPlaybackAdapter {\n    static isSupported() {\n      return NativeEnvironmentSupport[streamType];\n    }\n\n    private mediaStreams;\n    private eventEmitter;\n    private currentLevel;\n    private videoElement;\n\n    constructor(eventEmitter) {\n      this.mediaStreams = null;\n      this.eventEmitter = eventEmitter;\n      this.currentLevel = 0;\n\n      this._bindCallbacks();\n    }\n\n    get currentUrl() {\n      return this.mediaStreams[this.currentLevel].url;\n    }\n\n    get syncWithLiveTime() {\n      // TODO: implement syncWithLiveTime for `native`\n      return undefined;\n    }\n\n    get isDynamicContent() {\n      return !isFinite(this.videoElement.duration);\n    }\n\n    get isDynamicContentEnded() {\n      // TODO: implement isDynamicContentEnded\n      return false;\n    }\n\n    get isSyncWithLive() {\n      // TODO: implement isSyncWithLive for `native`\n      return false;\n    }\n\n    get isSeekAvailable() {\n      return true;\n      //Need to find better solution\n      /*\n      if (this.isDynamicContent) {\n        return false;\n      }\n\n      return Boolean(this.videoElement.seekable.length);\n      */\n    }\n\n    get mediaStreamDeliveryPriority() {\n      return deliveryPriority;\n    }\n\n    get mediaStreamType() {\n      return streamType;\n    }\n\n    get debugInfo() {\n      if (this.videoElement) {\n        const { buffered, currentTime } = this.videoElement;\n\n        const overallBufferLength = geOverallBufferLength(buffered);\n        const nearestBufferSegInfo = getNearestBufferSegmentInfo(\n          buffered,\n          currentTime,\n        );\n\n        return {\n          ...this.mediaStreams[0],\n          deliveryPriority: this.mediaStreamDeliveryPriority,\n          overallBufferLength,\n          nearestBufferSegInfo,\n        };\n      }\n\n      return {};\n    }\n\n    _bindCallbacks() {\n      this.broadcastError = this.broadcastError.bind(this);\n    }\n\n    canPlay(mediaType) {\n      return mediaType === streamType;\n    }\n\n    setMediaStreams(mediaStreams) {\n      this.mediaStreams = mediaStreams;\n    }\n\n    logError(error, errorEvent) {\n      this.eventEmitter.emit(VIDEO_EVENTS.ERROR, {\n        errorType: error,\n        streamType,\n        streamProvider: 'native',\n        errorInstance: errorEvent,\n      });\n    }\n\n    broadcastError() {\n      const error = this.videoElement.error;\n\n      switch (error.code) {\n        case NATIVE_ERROR_CODES.ABORTED:\n          //No need for broadcasting\n\n          break;\n        case NATIVE_ERROR_CODES.NETWORK:\n          this.logError(ERRORS.CONTENT_LOAD, error);\n          break;\n        case NATIVE_ERROR_CODES.DECODE:\n          this.logError(ERRORS.MEDIA, error);\n          break;\n        case NATIVE_ERROR_CODES.SRC_NOT_SUPPORTED:\n          /*\n            Our url checks would not allow not supported formats, so only case would be\n             when video tag couldn't retriev any info from endpoit\n          */\n\n          this.logError(ERRORS.CONTENT_LOAD, error);\n\n          break;\n        default:\n          this.logError(ERRORS.UNKNOWN, error);\n          break;\n      }\n    }\n\n    attach(videoElement) {\n      this.videoElement = videoElement;\n      this.videoElement.addEventListener('error', this.broadcastError);\n      this.videoElement.src = this.mediaStreams[this.currentLevel].url;\n    }\n\n    detach() {\n      this.videoElement.removeEventListener('error', this.broadcastError);\n      this.videoElement.removeAttribute('src');\n      this.videoElement = null;\n    }\n  }\n\n  return NativeAdapter;\n}\n","import getNativeAdapterCreator from './native';\n\nimport {\n  MediaStreamTypes,\n  MediaStreamDeliveryPriority,\n} from '../../../constants';\n\nconst defaultPlaybackAdapters = [\n  getNativeAdapterCreator(\n    MediaStreamTypes.DASH,\n    MediaStreamDeliveryPriority.NATIVE_ADAPTIVE,\n  ),\n  getNativeAdapterCreator(\n    MediaStreamTypes.HLS,\n    MediaStreamDeliveryPriority.NATIVE_ADAPTIVE,\n  ),\n  getNativeAdapterCreator(\n    MediaStreamTypes.MP4,\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\n  ),\n  getNativeAdapterCreator(\n    MediaStreamTypes.WEBM,\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\n  ), // Native WebM (Chrome, Firefox)\n  getNativeAdapterCreator(\n    MediaStreamTypes.OGG,\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\n  ), // Native WebM (Chrome, Firefox)\n];\n\nexport default defaultPlaybackAdapters;\n","import DependencyContainer from './dependency-container';\nimport PlayerFacade from './player-facade';\n\nimport defaultModules from '../default-modules';\nimport defaultPlaybackAdapters from '../default-modules/playback-engine/adapters/default-set';\nimport { IThemeConfig } from '../default-modules/ui/core/theme';\n\nimport { IPlayerConfig } from './config';\n\nlet additionalModules = {};\nlet playbackAdapters = [...defaultPlaybackAdapters];\n\nexport const container = DependencyContainer.createContainer();\ncontainer.register(defaultModules);\n\nexport function registerModule(id, config) {\n  additionalModules[id] = config;\n}\n\nexport function registerPlaybackAdapter(adapter) {\n  playbackAdapters.push(adapter);\n}\n\nexport function clearAdditionalModules() {\n  additionalModules = {};\n}\n\nexport function clearPlaybackAdapters() {\n  playbackAdapters = [...defaultPlaybackAdapters];\n}\n\nexport function create(params: IPlayerConfig = {}, themeConfig?: IThemeConfig) {\n  const scope = container.createScope();\n\n  const additionalModuleNames = Object.keys(additionalModules);\n\n  if (additionalModuleNames.length) {\n    additionalModuleNames.forEach(moduleName =>\n      scope.registerClass(moduleName, additionalModules[moduleName]),\n    );\n  }\n\n  scope.registerValue('availablePlaybackAdapters', playbackAdapters);\n\n  return new PlayerFacade(\n    params,\n    scope,\n    defaultModules,\n    additionalModules,\n    themeConfig,\n  );\n}\n","import * as playerFactoryMethods from './core/player-factory';\nexport * from './core/player-factory';\n\nimport {\n  UI_EVENTS,\n  VIDEO_EVENTS,\n  TEXT_LABELS,\n  MediaStreamTypes as MEDIA_STREAM_TYPES,\n  MediaStreamDeliveryPriority as MEDIA_STREAM_DELIVERY_PRIORITY,\n  STATES as ENGINE_STATES,\n  LiveState as LIVE_STATES,\n} from './constants';\n\nexport {\n  UI_EVENTS,\n  VIDEO_EVENTS,\n  TEXT_LABELS,\n  MEDIA_STREAM_TYPES,\n  MEDIA_STREAM_DELIVERY_PRIORITY,\n  ENGINE_STATES,\n  LIVE_STATES,\n};\n\nimport { modules as DefaultModules } from './default-modules';\n\nimport playerAPIDecorator from './utils/player-api-decorator';\nexport { playerAPIDecorator };\n\nexport { Tooltip } from './default-modules/ui/core/tooltip';\n\nexport { modules as DefaultModules } from './default-modules';\n\nconst defaultExport = {\n  ...playerFactoryMethods,\n  UI_EVENTS,\n  VIDEO_EVENTS,\n  TEXT_LABELS,\n  MEDIA_STREAM_TYPES,\n  MEDIA_STREAM_DELIVERY_PRIORITY,\n  ENGINE_STATES,\n  LIVE_STATES,\n  DefaultModules,\n};\n\nexport default defaultExport;\n"],"names":["tslib_1.__extends","registrations","MediaStreamTypes","MediaStreamDeliveryPriority","commonjsHelpers.createCommonjsModule","containerTemplate","ResizeObserver","View","tslib_1.__decorate","EventEmitter","ERRORS","AdapterStrategy","DEFAULT_TEXTS","DEFAULT_CONFIG","LiveState","KeyboardInterceptor","debugPanelTemplate","styles","screenTemplate","playIconTemplate","pauseIconTemplate","forwardIconTemplate","rewindIconTemplate","increaseVolumeIconTemplate","decreaseVolumeIconTemplate","muteIconTemplate","overlayTemplate","loaderTemplate","mainUIBlockTemplate","topBlockTemplate","titleTemplate","liveIndicatorTemplate","bottomBlockTemplate","tooltipTemplate","tooltipContainerTemplate","progressTemplate","progressTimeIndicatorTemplate","controlTemplate","timeTemplate","UPDATE_INTERVAL_DELAY","getPercentBasedOnXPosition","volume100IconTemplate","volume50IconTemplate","volume0IconTemplate","exitFullScreenIconTemplate","enterFullScreenIconTemplate","logoTemplate","subtitlesTemplate","singleSubtitleTemplate","asClass","isBrowser","defaultModules","PlayerFacade"],"mappings":"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"}